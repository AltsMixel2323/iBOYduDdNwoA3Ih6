if true then
    local LoadTimer = tick()
    repeat wait(1)
        if CuttayAccountFarm and tick() - LoadTimer > 60 then
            game:GetService("TeleportService"):Teleport(game.PlaceId, game.Players.LocalPlayer)
        end
    until game:IsLoaded()
    and game:FindFirstChild("CoreGui")
    and game.Players.LocalPlayer
    and game.Players.LocalPlayer.Character
end

getgenv().plr = game.Players.LocalPlayer
CurCam = game.workspace.CurrentCamera
Mouse = plr:GetMouse()
CommF = game.ReplicatedStorage.Remotes.CommF_
wOrigin = game.workspace._WorldOrigin

function FireButton(x)
    for i, v in pairs(getconnections(x.MouseButton1Click)) do 
        v:Fire()
        v:Function()
    end
    for i, v in pairs(getconnections(x.MouseButton1Down)) do 
        v:Fire()
    end
    for i, v in pairs(getconnections(x.Activated)) do 
        v:Fire()
    end
end

repeat wait()
until plr:FindFirstChild("Backpack")
and plr:FindFirstChild("DataLoaded")

for i, v in pairs(getconnections(plr.Idled)) do
    v:Disable()
end

if not getgenv().NoclipRun then
    setfflag("HumanoidParallelRemoveNoPhysics", "False")
    setfflag("HumanoidParallelRemoveNoPhysicsNoSimulate2", "False")
    function Noclip()
        for i, v in ipairs(plr.Character:GetDescendants()) do
            if v:IsA("BasePart") and v.CanCollide == true then
                v.CanCollide = false
            end
        end
    end
    game:GetService("RunService").Stepped:Connect(function()
        if getgenv().noclip then
            if plr.Character ~= nil then
                local x = plr.Character:FindFirstChild("Humanoid")
                if x then x:ChangeState(11) end
                Noclip()
            end
        end
    end)
    getgenv().NoclipRun = true
end

HttpService = game:GetService("HttpService")
SaveFileName = plr.Name .. "_BloxFruits.json"
if CuttayAccountFarm then
    local tabletostring = function(node)
        if type(node) ~= "table" then return node end
        local cache, stack, output = {},{},{}
        local depth = 1
        local output_str = "{\n"
        while true do
            local size = 0
            for k,v in pairs(node) do
                size = size + 1
            end
            local cur_index = 1
            for k,v in pairs(node) do
                if (cache[node] == nil) or (cur_index >= cache[node]) then
                    if (string.find(output_str,"}",output_str:len())) then
                        output_str = output_str .. ",\n"
                    elseif not (string.find(output_str,"\n",output_str:len())) then
                        output_str = output_str .. "\n"
                    end
                    table.insert(output,output_str)
                    output_str = ""
                    local key
                    if (type(k) == "number" or type(k) == "boolean") then
                        key = "["..tostring(k).."]"
                    else
                        key = "['"..tostring(k).."']"
                    end
                    if (type(v) == "number" or type(v) == "boolean") then
                        output_str = output_str .. string.rep('\t',depth) .. key .. " = "..tostring(v)
                    elseif (type(v) == "table") then
                        output_str = output_str .. string.rep('\t',depth) .. key .. " = {\n"
                        table.insert(stack,node)
                        table.insert(stack,v)
                        cache[node] = cur_index+1
                        break
                    else
                        output_str = output_str .. string.rep('\t',depth) .. key .. " = '"..tostring(v).."'"
                    end
    
                    if (cur_index == size) then
                        output_str = output_str .. "\n" .. string.rep('\t',depth-1) .. "}"
                    else
                        output_str = output_str .. ","
                    end
                else
                    if (cur_index == size) then
                        output_str = output_str .. "\n" .. string.rep('\t',depth-1) .. "}"
                    end
                end
                cur_index = cur_index + 1
            end
            if (size == 0) then
                output_str = output_str .. "\n" .. string.rep('\t',depth-1) .. "}"
            end
            if (#stack > 0) then
                node = stack[#stack]
                stack[#stack] = nil
                depth = cache[node] == nil and depth + 1 or depth - 1
            else
                break
            end
        end
        table.insert(output,output_str)
        output_str = table.concat(output)
        return "getgenv().CuttayAccountFarm = " .. output_str
    end
    if not isfolder("Sea Hub") then
        makefolder("Sea Hub")
    end
    local CuttayConfigText = tabletostring(CuttayAccountFarm)
    local CTFileName = plr.Name .. "_CTConfig_BloxFruits.txt"
    if not isfile("Sea Hub/" .. CTFileName) then
        writefile("Sea Hub/" .. CTFileName, CuttayConfigText)
    else
        if readfile("Sea Hub/" .. CTFileName) ~= CuttayConfigText then
            warn("Detected new Cuttay config for " .. plr.Name)
            writefile("Sea Hub/" .. CTFileName, CuttayConfigText)
            if isfile("Sea Hub/" .. SaveFileName) then
                delfile("Sea Hub/" .. SaveFileName)
            end
        end
    end
end

local Settings = {}
function Conv2Save(sett) 
    local allsett = {}
    for k, v in pairs(sett) do 
        if typeof(v) == "CFrame" then 
            local cac = {v:GetComponents()}
            table.insert(cac,"CFrame")
            allsett[k]  = cac
        elseif type(v) == "table" then
            allsett[k] = Conv2Save(v)
        else
            allsett[k] = v
        end
    end
    return allsett
end
function DeseriSetting(sett) 
    local allsett = {}
    for k, v in pairs(sett) do 
        if type(v) == "table" then 
            if v[13] == "CFrame" then 
                v[13] = nil
                allsett[k] = CFrame.new(unpack(v))
            else
                allsett[k] = DeseriSetting(v)
            end
        else
            allsett[k] = v
        end
    end
    return allsett
end
function SaveSettings()
    if not isfolder("Sea Hub") then
        makefolder("Sea Hub")
    end
    writefile("Sea Hub/" .. SaveFileName, HttpService:JSONEncode(Conv2Save(Settings)))
end
function ReadSetting() 
    local s,e = pcall(function() 
        if not isfolder("Sea Hub") then
            makefolder("Sea Hub")
        end
        return DeseriSetting(HttpService:JSONDecode(readfile("Sea Hub/" .. SaveFileName)))
    end)
    if s then return e 
    else
        SaveSettings()
        return ReadSetting()
    end
end

Settings = ReadSetting()
getgenv().Settings = Settings

getgenv().MaxLevel = 2450
if not MaxLevel then
    local MacLevel = game:GetService("MarketplaceService"):GetProductInfo(2753915549).Description
    MacLevel = MacLevel:split("Current level cap: ")[2]:split("Current")[1]
    getgenv().MaxLevel = tonumber(MacLevel)
    queue_on_teleport("getgenv().MaxLevel = tonumber(" .. MacLevel .. ")")
else
    queue_on_teleport("getgenv().MaxLevel = tonumber(" .. MaxLevel .. ")")
end

function CheckInRaid()
    for i, v in ipairs(wOrigin.Locations:GetChildren()) do
        if string.find(v.Name, "Island ")
        and plr:DistanceFromCharacter(v.Position) < 3000 then
            return true
        end
    end
end
spawn(function()
    while wait() do
        pcall(function()
            if Settings.AutoFixStandingStill and not Hopping and not QueueHopping and not CheckInRaid() then
                local old = plr.Character.HumanoidRootPart.Position
                wait(5)
                local new = plr.Character.HumanoidRootPart.Position
                local speed = (old - new).magnitude
                if speed <= 5 then
                    local Timer = tick()
                    repeat wait()
                        if tick() - Timer > 60 then
                            Library.CreateNoti({Desc = "Error player standing still, Hopping Server", ShowTime = 30})
                            HopServer(nil, nil, true)
                            wait(5)
                            return
                        end   
                    until (old - plr.Character.HumanoidRootPart.Position).magnitude >= 5
                end
            end
        end)
        wait(16)
    end
end)

loadstring([[
    local BlacklistedNPCs = {
        "Set Spawn Point",
        "Boat Dealer",
        "Luxury Boat Dealer",
        "Set Home Point"
    }
    getgenv().IsValidNPC = function(v, x)
        if v:IsA("Model")
        and not table.find(BlacklistedNPCs, v.Name)
        and v:FindFirstChild("Head")
        and v.Head:FindFirstChild("QuestBBG")
        and (v.Head.QuestBBG.Title.Text ~= "QUEST" and not x
        or v.Head.QuestBBG.Title.Text == "QUEST") then 
            return true
        end
    end
    getgenv().QuestPoses = {}
    for i, v in pairs(getnilinstances()) do 
        if IsValidNPC(v) then
            getgenv().QuestPoses[v.Name] = v.Head.CFrame * CFrame.new(0, -1, -2)    
        end
    end
    for i, v in ipairs(game.Workspace.NPCs:GetChildren()) do 
        if IsValidNPC(v) then
            getgenv().QuestPoses[v.Name] = v.Head.CFrame * CFrame.new(0, -1, -2)    
        end
    end
    getgenv().RemoteList = {}
    for i, v in pairs(debug.getprotos(getscriptclosure(plr.PlayerScripts.NPC))) do 
        if #debug.getconstants(v) == 1 then 
            table.insert(getgenv().RemoteList, debug.getconstant(v, 1))    
        end
    end
    getgenv().DialogueList = {}
    local Continue
    for i, v in pairs(debug.getconstants(getscriptclosure(plr.PlayerScripts.NPC))) do
        if type(v) == "string" then
            if v == "Players" then
                Continue = false
            end
            if not Continue then
                if v == "Blox Fruit Dealer" then
                    Continue = true
                end
            end
            if Continue then
                table.insert(getgenv().DialogueList, v)
            end
        end
    end
]])()

if not plr.Backpack:FindFirstChildOfClass("Tool")
and not plr.Character:FindFirstChildOfClass("Tool") then
    local LoadTimer = tick()
    repeat wait()
        if CuttayAccountFarm and tick() - LoadTimer > 60 then
            game:GetService("TeleportService"):Teleport(game.PlaceId, plr)
        end
        if not plr.PlayerGui:FindFirstChild("Main") then
            repeat wait()
            until plr.PlayerGui:FindFirstChild("Main")
            and plr.PlayerGui.Main:FindFirstChild("ChooseTeam")
            and plr.PlayerGui.Main.ChooseTeam.Visible
            wait(3)
        elseif plr.PlayerGui.Main:FindFirstChild("ChooseTeam") then
            if plr.PlayerGui.Main.ChooseTeam.Visible then
                getconnections(plr.PlayerGui.Main.ChooseTeam.Container[Settings.ChooseSide or "Pirates"].Frame.ViewportFrame.TextButton.Activated)[1]:Function()
                wait(.5)
            end
        end
    until plr.Backpack:FindFirstChildOfClass("Tool")
    or plr.Character:FindFirstChildOfClass("Tool")
end

local Library = loadstring([[
	if getgenv().Tvk then 
		if game.CoreGui:FindFirstChild("Sea Hub GUI") then for i, v in ipairs(game.CoreGui:GetChildren()) do if v.Name == "Sea Hub GUI" then v:Destroy() end end end
	end
	getgenv().Tvk = true
	
	local IndexUIColor = {
		["Border Color"] = Color3.fromRGB(131, 181, 255),
		["Click Effect Color"] = Color3.fromRGB(230, 230, 230),
		["Setting Icon Color"] = Color3.fromRGB(230, 230, 230),
		["Logo Image"] = "rbxassetid://6248942117",
		["Search Icon Color"] = Color3.fromRGB(255, 255, 255),
		["Search Icon Highlight Color"] = Color3.fromRGB(131, 181, 255),
		["GUI Text Color"] = Color3.fromRGB(230, 230, 230),
		["Text Color"] = Color3.fromRGB(230, 230, 230),
		["Placeholder Text Color"] = Color3.fromRGB(178, 178, 178),
		["Title Text Color"] = Color3.fromRGB(131, 181, 255),
		["Background 1 Color"] = Color3.fromRGB(43, 43, 43),
		["Background 1 Transparency"] = 0,
		["Background 2 Color"] = Color3.fromRGB(90, 90, 90),
		["Background 3 Color"] = Color3.fromRGB(53, 53, 53),
		["Background Image"] = "",
		["Page Selected Color"] = Color3.fromRGB(131, 181, 255),
		["Section Text Color"] = Color3.fromRGB(131, 181, 255),
		["Section Underline Color"] = Color3.fromRGB(131, 181, 255),
		["Toggle Border Color"] = Color3.fromRGB(131, 181, 255),
		["Toggle Checked Color"] = Color3.fromRGB(230, 230, 230),
		["Toggle Desc Color"] = Color3.fromRGB(185, 185, 185),
		["Button Color"] = Color3.fromRGB(131, 181, 255),
		["Label Color"] = Color3.fromRGB(101, 152, 220),
		["Dropdown Icon Color"] = Color3.fromRGB(230, 230, 230),
		["Dropdown Selected Color"] = Color3.fromRGB(131, 181, 255),
		["Textbox Highlight Color"] = Color3.fromRGB(131, 181, 255),
		["Box Highlight Color"] = Color3.fromRGB(131, 181, 255),
		["Slider Line Color"] = Color3.fromRGB(75, 75, 75),
		["Slider Highlight Color"] = Color3.fromRGB(59, 82, 115),
		["Tween Animation 1 Speed"] = 0.25,
		["Tween Animation 2 Speed"] = 0.5,
		["Tween Animation 3 Speed"] = 0.1,
	}
	local UpdateCallBack = {}
	for k,v in pairs(IndexUIColor) do 
		UpdateCallBack[k] = {}
	end
	local SettingsRac = {}
	for k,v in pairs(IndexUIColor) do 
		SettingsRac[k] = {
			Color = v,
			Rainbow = false,
			Breathing = {
				Toggle = false,
				Color1 = Color3.new(),
				Color2 = Color3.new()
			}
		}
	end
	local function Rac(color)
		return {math.floor(color.r * 255), math.floor(color.g * 255), math.floor(color.b * 255), "Dit"}
	end
	function CorrectTable(tabl)
		local ret = {}
		for k, v in pairs(tabl) do 
			if typeof(v) == "Color3" then 
				ret[k] = Rac(v)
			elseif type(v) == "table" then
				ret[k] = CorrectTable(v)
			else
				ret[k] = v
			end
		end
		return ret
	end
	function DCorrectTable(tabl)
		local ret = {}
		for k,v in pairs(tabl) do 
			if type(v) == "table" and v[4] == "Dit" then 
				ret[k] = Color3.fromRGB(unpack(v))
			elseif type(v) == "table" then
				ret[k] = DCorrectTable(v)
			else
				ret[k] = v
			end
		end
		return ret
	end
	local HttpService = game:GetService("HttpService")
	local SaveCustomFileName = "!CustomUI.json"
	 
	
	function SaveCustomUISettings()
		local HttpService = game:GetService("HttpService")
		if not isfolder("Sea Hub") then
			makefolder("Sea Hub")
		end
		writefile("Sea Hub/" .. SaveCustomFileName, HttpService:JSONEncode(CorrectTable(SettingsRac)))
	end
	
	function ReadCustomUISetting() 
		local s,e = pcall(function() 
			local HttpService = game:GetService("HttpService")
			if not isfolder("Sea Hub") then
				makefolder("Sea Hub")
			end
			return HttpService:JSONDecode(readfile("Sea Hub/" .. SaveCustomFileName))
		end)
		if s then return e 
		else
			SaveCustomUISettings()
			return ReadCustomUISetting()
		end
	end
	SettingsRac=DCorrectTable(ReadCustomUISetting())
	for k,v in pairs(SettingsRac) do 
		IndexUIColor[k]=v.Color
	end
	if not getgenv().ractvkretarddumb then
		spawn(function() 
			while wait(1) do
				SaveCustomUISettings()
			end
		end)
		getgenv().ractvkretarddumb = true
	end
	getgenv().UIColor=setmetatable({},{
		__newindex=function(Self, Key, Value) 
			if UpdateCallBack[Key] then 
				for k, v in pairs(UpdateCallBack[Key]) do 
					v()
				end
			end
			rawset(IndexUIColor,Key,Value)
			SettingsRac[Key].Color = Value
		end,
		__index = IndexUIColor
	})
	
	local currcolor = {}
	local Library = {};
	local Library_Function = {}
	local TweenService = game:GetService('TweenService')
	local uis = game:GetService("UserInputService")
	
	--Button Effect
	function Library_Function.ButtonEffect()
		local mouse = game:GetService("Players").LocalPlayer:GetMouse();
		local buttoneffect = Drawing.new("Circle")
		buttoneffect.Visible = true
		buttoneffect.Radius = 10
		buttoneffect.Filled = true
		buttoneffect.Color = getgenv().UIColor["Click Effect Color"]
		
		buttoneffect.Position = Vector2.new(mouse.X, mouse.Y + 35)
	
	
		local BuoiFolder = Instance.new('Folder')
		BuoiFolder.Parent = Gui
		BuoiFolder.Name = 'Game nhu buoi'
	
		local a = Instance.new('NumberValue')
		a.Value = 10
		a.Parent = BuoiFolder
		a.Name = 'Rua nhu buoi'
	
		local b = Instance.new('NumberValue')
		b.Value = 1
		b.Parent = BuoiFolder
		b.Name = 'Rua nhu buoi 2'
	
		TweenService:Create(a,TweenInfo.new(.25),{Value = 25}):Play()
		TweenService:Create(b,TweenInfo.new(.25),{Value = 0}):Play()
	
	
		a:GetPropertyChangedSignal('Value'):Connect(function()
			buttoneffect.Radius = a.Value
		end)
	
	
		b:GetPropertyChangedSignal('Value'):Connect(function()
			buttoneffect.Transparency = b.Value
		end)
	
		wait(.5)
		BuoiFolder:Destroy()
	end
	
	Library_Function.GetIMG = function(url)
		local File = 'SynAsset ['
		local returnimage = ""
		if string.find(url, "rbxassetid://") then
			returnimage = url
		else
			pcall(function()
				if url and type(url) == 'string' and tostring(game:HttpGet(url)):find('PNG') then
					for i = 1, 5 do
						File = tostring(File..string.char(math.random(65, 122)))
					end
					File = File..'].png'
					writefile(File, game:HttpGet(url))
					spawn(function()
						wait(5)
						delfile(File)
					end)
					returnimage = getsynasset(File)
				end
			end)
		end
		return returnimage
	end
	
	
	Gui = Instance.new('ScreenGui')
	Gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	Gui.Name = 'Sea Hub GUI'
	
	getgenv().ReadyForGuiLoaded = false
	spawn(function()
		Gui.Enabled = false
		repeat wait()
		until getgenv().ReadyForGuiLoaded
		Gui.Enabled = true
	end)
	
	NotiGui = Instance.new('ScreenGui')
	NotiGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	NotiGui.Name = 'Sea Hub Notification'
	
	
	local NotiContainer = Instance.new("Frame")
	local NotiList = Instance.new("UIListLayout")
	
	
	NotiContainer.Name = "NotiContainer"
	NotiContainer.Parent = NotiGui
	NotiContainer.AnchorPoint = Vector2.new(1, 1)
	NotiContainer.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
	NotiContainer.BackgroundTransparency = 1.000
	NotiContainer.Position = UDim2.new(1, -5, 1, -5)
	NotiContainer.Size = UDim2.new(0, 350, 1, -10)
	
	NotiList.Name = "NotiList"
	NotiList.Parent = NotiContainer
	NotiList.SortOrder = Enum.SortOrder.LayoutOrder
	NotiList.VerticalAlignment = Enum.VerticalAlignment.Bottom
	NotiList.Padding = UDim.new(0, 5)
	
	
	Gui.Parent = game:GetService('CoreGui')
	NotiGui.Parent = game:GetService('CoreGui')
	
	
	
	function Library_Function.Getcolor(color)
		return {math.floor(color.r*255),math.floor(color.g*255),math.floor(color.b*255)}
	end
	
	function Library.CreateNoti(Setting)
		getgenv().TitleNameNoti = Setting.Title or ""; 
		local Desc = Setting.Desc; 
		local Timeshow = Setting.ShowTime or 10;
	
		local NotiFrame = Instance.new("Frame")
		local Noticontainer = Instance.new("Frame")
		local UICorner = Instance.new("UICorner")
		local Topnoti = Instance.new("Frame")
		local Ruafimg = Instance.new("ImageLabel")
		local RuafimgCorner = Instance.new("UICorner")
		local TextLabelNoti = Instance.new("TextLabel")
		local CloseContainer = Instance.new("Frame")
		local CloseImage = Instance.new("ImageLabel")
		local TextButton = Instance.new("TextButton")
		local TextLabelNoti2 = Instance.new("TextLabel")
	
		NotiFrame.Name = "NotiFrame"
		NotiFrame.Parent = NotiContainer
		NotiFrame.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		NotiFrame.BackgroundTransparency = 1.000
		NotiFrame.ClipsDescendants = true
		NotiFrame.Position = UDim2.new(0, 0, 0, 0)
		NotiFrame.Size = UDim2.new(1, 0, 0, 0)
		NotiFrame.AutomaticSize = Enum.AutomaticSize.Y
	
		Noticontainer.Name = "Noticontainer"
		Noticontainer.Parent = NotiFrame
		Noticontainer.Position = UDim2.new(1, 0, 0, 0)
		Noticontainer.Size = UDim2.new(1, 0, 1, 6)
		Noticontainer.AutomaticSize = Enum.AutomaticSize.Y
		Noticontainer.BackgroundColor3 = getgenv().UIColor["Background 3 Color"]
		table.insert(UpdateCallBack["Background 3 Color"],function() 
			Noticontainer.BackgroundColor3 = getgenv().UIColor["Background 3 Color"]
		end)
	
		UICorner.CornerRadius = UDim.new(0, 4)
		UICorner.Parent = Noticontainer
	
		Topnoti.Name = "Topnoti"
		Topnoti.Parent = Noticontainer
		Topnoti.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		Topnoti.BackgroundTransparency = 1.000
		Topnoti.Position = UDim2.new(0, 0, 0, 5)
		Topnoti.Size = UDim2.new(1, 0, 0, 25)
	
		Ruafimg.Name = "Ruafimg"
		Ruafimg.Parent = Topnoti
		Ruafimg.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		Ruafimg.BackgroundTransparency = 1.000
		Ruafimg.Position = UDim2.new(0, 10, 0, 0)
		Ruafimg.Size = UDim2.new(0, 25, 0, 25)
		Ruafimg.Image = getgenv().UIColor["Logo Image"]
		table.insert(UpdateCallBack["Logo Image"], function() 
			Ruafimg.Image = Library_Function.GetIMG(getgenv().UIColor["Logo Image"])
		end)
		
	
		RuafimgCorner.CornerRadius = UDim.new(1, 0)
		RuafimgCorner.Name = "RuafimgCorner"
		RuafimgCorner.Parent = Ruafimg
		
		local colorR = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[1])
		local colorG = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[2])
		local colorB = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[3])
		local color = colorR .. ',' .. colorG .. ',' .. colorB
		TextLabelNoti.Text = "<font color=\"rgb(" .. color .. ")\">Sea Hub</font> "..getgenv().TitleNameNoti
	
		table.insert(UpdateCallBack["Title Text Color"],function() 
			local colorR = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[1])
			local colorG = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[2])
			local colorB = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[3])
			local color = colorR .. ',' .. colorG .. ',' .. colorB
			TextLabelNoti.Text = "<font color=\"rgb(" .. color .. ")\">Sea Hub</font> "..getgenv().TitleNameNoti
		end)
		
		TextLabelNoti.Name = "TextLabelNoti"
		TextLabelNoti.Parent = Topnoti
		TextLabelNoti.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		TextLabelNoti.BackgroundTransparency = 1.000
		TextLabelNoti.Position = UDim2.new(0, 40, 0, 0)
		TextLabelNoti.Size = UDim2.new(1, -40, 1, 0)
		TextLabelNoti.Font = Enum.Font.GothamBold
		TextLabelNoti.TextSize = 14.000
		TextLabelNoti.TextWrapped = true
		TextLabelNoti.TextXAlignment = Enum.TextXAlignment.Left
		TextLabelNoti.RichText = true
		TextLabelNoti.TextColor3 = getgenv().UIColor["GUI Text Color"]
		table.insert(UpdateCallBack["GUI Text Color"], function() 
			TextLabelNoti.TextColor3 = getgenv().UIColor["GUI Text Color"]
		end)
	
		CloseContainer.Name = "CloseContainer"
		CloseContainer.Parent = Topnoti
		CloseContainer.AnchorPoint = Vector2.new(1, 0.5)
		CloseContainer.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		CloseContainer.BackgroundTransparency = 1.000
		CloseContainer.Position = UDim2.new(1, -4, 0.5, 0)
		CloseContainer.Size = UDim2.new(0, 22, 0, 22)
	
		CloseImage.Name = "CloseImage"
		CloseImage.Parent = CloseContainer
		CloseImage.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		CloseImage.BackgroundTransparency = 1.000
		CloseImage.Size = UDim2.new(1, 0, 1, 0)
		CloseImage.Image = "rbxassetid://3926305904"
		CloseImage.ImageRectOffset = Vector2.new(284, 4)
		CloseImage.ImageRectSize = Vector2.new(24, 24)
		CloseImage.ImageColor3 = getgenv().UIColor["Search Icon Color"]
		table.insert(UpdateCallBack["Search Icon Color"],function() 
			CloseImage.ImageColor3 = getgenv().UIColor["Search Icon Color"]
		end)
	
		TextButton.Parent = CloseContainer
		TextButton.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		TextButton.BackgroundTransparency = 1.000
		TextButton.Size = UDim2.new(1, 0, 1, 0)
		TextButton.Font = Enum.Font.SourceSans
		TextButton.Text = ""
		TextButton.TextColor3 = Color3.fromRGB(0, 0, 0)
		TextButton.TextSize = 14.000
	
		if Desc then
			TextLabelNoti2.Name = 'TextColor'
			TextLabelNoti2.Parent = Noticontainer
			TextLabelNoti2.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
			TextLabelNoti2.BackgroundTransparency = 1.000
			TextLabelNoti2.Position = UDim2.new(0, 10, 0, 35)
			TextLabelNoti2.Size = UDim2.new(1, -15, 0, 0)
			TextLabelNoti2.Font = Enum.Font.GothamBold
			TextLabelNoti2.Text = Desc
			TextLabelNoti2.TextSize = 14.000
			TextLabelNoti2.TextXAlignment = Enum.TextXAlignment.Left
			TextLabelNoti2.RichText = true
			TextLabelNoti2.TextColor3 = getgenv().UIColor["Text Color"]
			TextLabelNoti2.AutomaticSize = Enum.AutomaticSize.Y
			TextLabelNoti2.TextWrapped = true
			table.insert(UpdateCallBack["Text Color"],function() 
				TextLabelNoti2.TextColor3 = getgenv().UIColor["Text Color"]
			end)
		end
	
		local function remove()
			TweenService:Create(Noticontainer,TweenInfo.new(getgenv().UIColor["Tween Animation 1 Speed"]),{Position = UDim2.new(1,0,0,0)}):Play()
			wait(.25)
			NotiFrame:Destroy()
		end
	
		TweenService:Create(Noticontainer,TweenInfo.new(getgenv().UIColor["Tween Animation 1 Speed"]),{Position = UDim2.new(0,0,0,0)}):Play()
	
		TextButton.MouseEnter:Connect(function()
			TweenService:Create(CloseImage, TweenInfo.new(getgenv().UIColor["Tween Animation 1 Speed"]),{ImageColor3 = getgenv().UIColor["Search Icon Highlight Color"]}):Play()
		end)
	
		TextButton.MouseLeave:Connect(function()
			TweenService:Create(CloseImage, TweenInfo.new(getgenv().UIColor["Tween Animation 1 Speed"]),{ImageColor3 = getgenv().UIColor["Search Icon Color"]}):Play()
		end)
	
		TextButton.MouseButton1Click:Connect(function()
			spawn(function() Library_Function.ButtonEffect() end)
			wait(.25)
			remove()
		end)
	
		spawn(function()
			wait(Timeshow)
			remove()
		end)
	
	
	end
	
	function Library.CreateMain(Setting)
	
		local TitleNameMain = tostring(Setting.Title) or "Sea Hub"
		getgenv().MainDesc = Setting.Desc or ""
	
		local djtmemay = false
		cac = false
	
		local function makeDraggable(topBarObject, object)
			local dragging = nil
			local dragInput = nil
			local dragStart = nil
			local startPosition = nil
			topBarObject.InputBegan:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
					dragging = true
					dragStart = input.Position
					startPosition = object.Position
					input.Changed:Connect(function()
						if input.UserInputState == Enum.UserInputState.End then
							dragging = false
						end
					end)
				end
			end)
			topBarObject.InputChanged:Connect(function(input)
				if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
					dragInput = input
				end
			end)
			uis.InputChanged:Connect(function(input)
				if input == dragInput and dragging then
					local delta = input.Position - dragStart
					if not djtmemay and cac then
						TweenService:Create(object, TweenInfo.new(0.35,Enum.EasingStyle.Linear,Enum.EasingDirection.Out), {
							Position = UDim2.new(startPosition.X.Scale, startPosition.X.Offset + delta.X, startPosition.Y.Scale, startPosition.Y.Offset + delta.Y)
						}):Play()
					elseif not djtmemay and not cac then
						object.Position = UDim2.new(startPosition.X.Scale, startPosition.X.Offset + delta.X, startPosition.Y.Scale, startPosition.Y.Offset + delta.Y)
					end
				end
			end)
		end
	
		local Main = Instance.new("Frame")
		local maingui = Instance.new("ImageLabel")
		local MainCorner = Instance.new("UICorner")
		local TopMain = Instance.new("Frame")
		local Ruafimg = Instance.new("ImageLabel")
		local TextLabelMain = Instance.new("TextLabel")
		local PageControl = Instance.new("Frame")
		local UICorner = Instance.new("UICorner")
		local ControlList = Instance.new("ScrollingFrame")
		local UIListLayout = Instance.new("UIListLayout")
		local ControlTitle = Instance.new("TextLabel")
		local MainPage = Instance.new("Frame")
		local UIPage = Instance.new("UIPageLayout")
		local SettionMain = Instance.new("Frame")
		local SettionButton = Instance.new("TextButton")
		local SettingIcon = Instance.new("ImageLabel")
		local Concacontainer = Instance.new("Frame")
		local Concacmain = Instance.new("Frame")
		local Concacmain1 = Instance.new("Frame")
		local Concacpage = Instance.new("UIPageLayout")
	
		local MainContainer
	
		Main.Name = "Main"
		Main.Parent = Gui
		Main.BackgroundColor3 = Color3.fromRGB(42, 42, 42)
		Main.BackgroundTransparency = 1.000
		Main.Position = UDim2.new(0.5, 0, 0.5, 0)
		Main.AnchorPoint = Vector2.new(0.5, 0.5)
		Main.Size = UDim2.new(0, 629, 0, 359)
	
		makeDraggable(Main, Main)
	
		maingui.Name = "maingui"
		maingui.Parent = Main
		maingui.AnchorPoint = Vector2.new(0.5, 0.5)
		maingui.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		maingui.BackgroundTransparency = 1.000
		maingui.Position = UDim2.new(0.5, 0, 0.5, 0)
		maingui.Selectable = true
		maingui.Size = UDim2.new(1, 30, 1, 30)
		maingui.Image = "rbxassetid://8068653048"
		maingui.ScaleType = Enum.ScaleType.Slice
		maingui.SliceCenter = Rect.new(15, 15, 175, 175)
		maingui.SliceScale = 1.300
		maingui.ImageColor3 = getgenv().UIColor["Border Color"]
		table.insert(UpdateCallBack["Border Color"],function() 
			maingui.ImageColor3 = getgenv().UIColor["Border Color"]
		end)
	
		function Library_Function.ReloadMain(v)
			maingui.ImageColor3 = getgenv().UIColor['Title Text Color']
			local colorR = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[1])
			local colorG = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[2])
			local colorB = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[3])
			local color = colorR .. ',' .. colorG .. ',' .. colorB
			TextLabelMain.Text = "<font color=\"rgb("..color..")\">Sea Hub</font> " .. getgenv().MainDesc
			table.insert(UpdateCallBack["Title Text Color"],function() 
				maingui.ImageColor3 = getgenv().UIColor['Title Text Color']
				local colorR = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[1])
				local colorG = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[2])
				local colorB = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[3])
				local color = colorR .. ',' .. colorG .. ',' .. colorB
				TextLabelMain.Text = "<font color=\"rgb("..color..")\">Sea Hub</font> " .. getgenv().MainDesc
			end)
			local MainContainer_
			if v ~= ""
			and type(v) == 'string'
			and string.find(v:lower(), ".webm")
			and pcall(function() writefile("seahub.webm", http_request({Url=v}).Body) end) then
				wait(.25)
				local sus = isfile("seahub.webm")
				wait(.25)
				if sus then
					MainContainer_ = Instance.new("VideoFrame")  
					MainContainer_.Name = "MainContainer"
					MainContainer_.Parent = Main
					MainContainer_.BackgroundColor3 = Color3.fromRGB(53, 53, 53)
					MainContainer_.Size = UDim2.new(1, 0, 1, 0)
					MainContainer_.Video = getsynasset("seahub.webm")
					MainContainer_.Looped = true
					MainContainer_:Play()
					wait(.5)
					delfile('seahub.webm')
				end
			else
				MainContainer_ = Instance.new("ImageLabel")
				MainContainer_.Name = "MainContainer"
				MainContainer_.Parent = Main
				MainContainer_.BackgroundColor3 = Color3.fromRGB(53, 53, 53)
				MainContainer_.Size = UDim2.new(1, 0, 1, 0)
				MainContainer_.Image = Library_Function.GetIMG(v)
			end
			MainCorner_ = Instance.new("UICorner")
			MainCorner_.CornerRadius = UDim.new(0, 4)
			MainCorner_.Name = "MainCorner"
			MainCorner_.Parent = MainContainer_
			for i,e in next, Main:GetChildren() do 
				if e.Name == "MainContainer" then
					for i,v in next, e:GetChildren() do
						v.Parent = MainContainer_
					end
					wait()
					e:Destroy()
					break
				end
			end
			table.insert(UpdateCallBack["Background 3 Color"],function() 
				MainContainer_.BackgroundColor3 = getgenv().UIColor["Background 3 Color"]
			end)
		end
	
		maingui.ImageColor3 = getgenv().UIColor['Title Text Color']
		local colorR = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[1])
		local colorG = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[2])
		local colorB = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[3])
		local color = colorR .. ',' .. colorG .. ',' .. colorB
		TextLabelMain.Text = "<font color=\"rgb("..color..")\">Sea Hub</font> " .. getgenv().MainDesc
		table.insert(UpdateCallBack["Title Text Color"],function() 
			maingui.ImageColor3 = getgenv().UIColor['Title Text Color']
			local colorR = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[1])
			local colorG = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[2])
			local colorB = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[3])
			local color = colorR .. ',' .. colorG .. ',' .. colorB
			TextLabelMain.Text = "<font color=\"rgb("..color..")\">Sea Hub</font> " .. getgenv().MainDesc
		end)
		local MainContainer
		local defurl = getgenv().UIColor["Background Image"]
		if defurl ~= ""
		and type(defurl) == 'string'
		and string.find(defurl:lower(), ".webm")
		and pcall(function() writefile("seahub.webm", http_request({Url=defurl}).Body) end) then
			wait(.25)
			local sus = isfile("seahub.webm")
			wait(.25)
			if sus then
				MainContainer = Instance.new("VideoFrame")  
				MainContainer.Name = "MainContainer"
				MainContainer.Parent = Main
				MainContainer.BackgroundColor3 = Color3.fromRGB(53, 53, 53)
				MainContainer.Size = UDim2.new(1, 0, 1, 0)
				MainContainer.Video = getsynasset("seahub.webm")
				MainContainer.Looped = true
				MainContainer:Play()
				wait(.5)
				delfile('seahub.webm')
			end
		else
			MainContainer = Instance.new("ImageLabel")
			MainContainer.Name = "MainContainer"
			MainContainer.Parent = Main
			MainContainer.BackgroundColor3 = Color3.fromRGB(53, 53, 53)
			MainContainer.Size = UDim2.new(1, 0, 1, 0)
			MainContainer.Image = Library_Function.GetIMG(defurl)
		end
		table.insert(UpdateCallBack["Background 3 Color"],function() 
			MainContainer.BackgroundColor3 = getgenv().UIColor["Background 3 Color"]
		end)
		getgenv().ReadyForGuiLoaded = true
		
		MainCorner.CornerRadius = UDim.new(0, 4)
		MainCorner.Name = "MainCorner"
		MainCorner.Parent = MainContainer
	
		Concacontainer.Name = "Concacontainer"
		Concacontainer.Parent = MainContainer
		Concacontainer.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		Concacontainer.BackgroundTransparency = 1.000
		Concacontainer.ClipsDescendants = true
		Concacontainer.Position = UDim2.new(0, 0, 0, 30)
		Concacontainer.Size = UDim2.new(1, 0, 1, -30)
		
		Concacmain.Name = "Concacmain"
		Concacmain.Parent = Concacontainer
		Concacmain.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		Concacmain.BackgroundTransparency = 1.000
		Concacmain.Selectable = true
		Concacmain.Size = UDim2.new(1, 0, 1, 0)
		
		Concacmain1.Name = "Background1"
		Concacmain1.Parent = Concacontainer
		Concacmain1.LayoutOrder = 1
		Concacmain1.Selectable = true
		Concacmain1.Size = UDim2.new(1, 0, 1, 0)
		Concacmain1.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
		table.insert(UpdateCallBack["Background 1 Transparency"],function() 
			Concacmain1.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
		end)
		Concacmain1.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
		table.insert(UpdateCallBack["Background 1 Color"],function() 
			Concacmain1.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
		end)
		
		Concacpage.Name = "Concacpage"
		Concacpage.Parent = Concacontainer
		Concacpage.SortOrder = Enum.SortOrder.LayoutOrder
		Concacpage.EasingDirection = Enum.EasingDirection.InOut
		Concacpage.EasingStyle = Enum.EasingStyle.Quad
		Concacpage.TweenTime = getgenv().UIColor["Tween Animation 1 Speed"]
		table.insert(UpdateCallBack["Tween Animation 1 Speed"], function() 
			Concacpage.TweenTime = getgenv().UIColor["Tween Animation 1 Speed"]
		end)
		
		TopMain.Name = "TopMain"
		TopMain.Parent = MainContainer
		TopMain.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		TopMain.BackgroundTransparency = 1.000
		TopMain.Size = UDim2.new(1, 0, 0, 25)
		
		Ruafimg.Name = "Ruafimg"
		Ruafimg.Parent = TopMain
		Ruafimg.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		Ruafimg.BackgroundTransparency = 1.000
		Ruafimg.Position = UDim2.new(0, 5, 0, 0)
		Ruafimg.Size = UDim2.new(0, 25, 0, 25)
		Ruafimg.Image = getgenv().UIColor["Logo Image"]
		table.insert(UpdateCallBack["Logo Image"],function() 
			Ruafimg.Image = getgenv().UIColor["Logo Image"]
		end)
		
		TextLabelMain.Name = "TextLabelMain"
		TextLabelMain.Parent = TopMain
		TextLabelMain.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		TextLabelMain.BackgroundTransparency = 1.000
		TextLabelMain.Position = UDim2.new(0, 35, 0, 0)
		TextLabelMain.Size = UDim2.new(1, -35, 1, 0)
		TextLabelMain.Font = Enum.Font.GothamBold
		TextLabelMain.RichText = true
		TextLabelMain.TextSize = 16.000
		TextLabelMain.TextWrapped = true
		TextLabelMain.TextXAlignment = Enum.TextXAlignment.Left
		TextLabelMain.TextColor3 = getgenv().UIColor["GUI Text Color"]
		table.insert(UpdateCallBack["GUI Text Color"],function() 
			TextLabelMain.TextColor3 = getgenv().UIColor["GUI Text Color"]
		end)
		local colorR = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[1])
		local colorG = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[2])
		local colorB = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[3])
		local color = colorR .. ',' .. colorG .. ',' .. colorB
		TextLabelMain.Text = "<font color=\"rgb("..color..")\">Sea Hub</font> " .. getgenv().MainDesc
		table.insert(UpdateCallBack["Title Text Color"],function() 
			local colorR = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[1])
			local colorG = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[2])
			local colorB = tostring(Library_Function.Getcolor(getgenv().UIColor['Title Text Color'])[3])
			local color = colorR .. ',' .. colorG .. ',' .. colorB
			TextLabelMain.Text = "<font color=\"rgb("..color..")\">Sea Hub</font> " .. getgenv().MainDesc
		end)
		
		SettionMain.Name = "SettionMain"
		SettionMain.Parent = TopMain
		SettionMain.AnchorPoint = Vector2.new(1, 0)
		SettionMain.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		SettionMain.BackgroundTransparency = 1.000
		SettionMain.Position = UDim2.new(1, 0, 0, 0)
		SettionMain.Size = UDim2.new(0, 30, 0, 30)
		
		SettionButton.Name = "SettionButton"
		SettionButton.Parent = SettionMain
		SettionButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		SettionButton.BackgroundTransparency = 1.000
		SettionButton.BorderColor3 = Color3.fromRGB(27, 42, 53)
		SettionButton.Size = UDim2.new(1, 0, 1, 0)
		SettionButton.Font = Enum.Font.SourceSans
		SettionButton.Text = ""
		SettionButton.TextColor3 = Color3.fromRGB(0, 0, 0)
		SettionButton.TextSize = 14.000
		SettionButton.Visible = true
		
		SettingIcon.Name = "SettingIcon"
		SettingIcon.Parent = SettionMain
		SettingIcon.AnchorPoint = Vector2.new(0.5, 0.5)
		SettingIcon.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		SettingIcon.BackgroundTransparency = 1.000
		SettingIcon.Position = UDim2.new(0.5, 0, 0.5, 0)
		SettingIcon.Size = UDim2.new(1, -10, 1, -10)
		SettingIcon.Image = "rbxassetid://7397332215"
		SettingIcon.Visible = true
		SettingIcon.ImageColor3 = getgenv().UIColor["Setting Icon Color"]
		table.insert(UpdateCallBack["Setting Icon Color"],function() 
			SettingIcon.ImageColor3 = getgenv().UIColor["Setting Icon Color"]
		end)
	
		PageControl.Name = "Background1"
		PageControl.Parent = Concacmain
		PageControl.Position = UDim2.new(0, 5, 0, 0)
		PageControl.Size = UDim2.new(0, 180, 0, 325)
		PageControl.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
		table.insert(UpdateCallBack["Background 1 Transparency"],function() 
			PageControl.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
		end)
		PageControl.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
		table.insert(UpdateCallBack["Background 1 Color"],function() 
			PageControl.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
		end)
	
		UICorner.CornerRadius = UDim.new(0, 4)
		UICorner.Parent = PageControl
	
		ControlList.Name = "ControlList"
		ControlList.Parent = PageControl
		ControlList.Active = true
		ControlList.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		ControlList.BackgroundTransparency = 1.000
		ControlList.BorderColor3 = Color3.fromRGB(27, 42, 53)
		ControlList.BorderSizePixel = 0
		ControlList.Position = UDim2.new(0, 0, 0, 30)
		ControlList.Size = UDim2.new(1, -5, 1, -30)
		ControlList.BottomImage = "rbxasset://textures/ui/Scroll/scroll-middle.png"
		ControlList.CanvasSize = UDim2.new(0, 0, 0, 0)
		ControlList.ScrollBarThickness = 5
		ControlList.TopImage = "rbxasset://textures/ui/Scroll/scroll-middle.png"
	
		UIListLayout.Parent = ControlList
		UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
		UIListLayout.Padding = UDim.new(0, 5)
	
		ControlTitle.Name = "GUITextColor"
		ControlTitle.Parent = PageControl
		ControlTitle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		ControlTitle.BackgroundTransparency = 1.000
		ControlTitle.Position = UDim2.new(0, 5, 0, 0)
		ControlTitle.Size = UDim2.new(1, 0, 0, 25)
		ControlTitle.Font = Enum.Font.GothamBold
		ControlTitle.Text = TitleNameMain
		ControlTitle.TextSize = 14.000
		ControlTitle.TextXAlignment = Enum.TextXAlignment.Left
		ControlTitle.TextColor3 = getgenv().UIColor["GUI Text Color"]
		table.insert(UpdateCallBack["GUI Text Color"], function() 
			ControlTitle.TextColor3 = getgenv().UIColor["GUI Text Color"]
		end)
	
		MainPage.Name = "MainPage"
		MainPage.Parent = Concacmain
		MainPage.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
		MainPage.BackgroundTransparency = 1.000
		MainPage.ClipsDescendants = true
		MainPage.Position = UDim2.new(0, 190, 0, 0)
		MainPage.Size = UDim2.new(0, 435, 0, 325)
	
		UIPage.Name = "UIPage"
		UIPage.Parent = MainPage
		UIPage.FillDirection = Enum.FillDirection.Vertical
		UIPage.SortOrder = Enum.SortOrder.LayoutOrder
		UIPage.EasingDirection = Enum.EasingDirection.InOut
		UIPage.EasingStyle = Enum.EasingStyle.Quart
		UIPage.Padding = UDim.new(0, 10)
		UIPage.TweenTime = getgenv().UIColor["Tween Animation 1 Speed"]
		table.insert(UpdateCallBack["Tween Animation 1 Speed"], function() 
			UIPage.TweenTime = getgenv().UIColor["Tween Animation 1 Speed"]
		end)
	
		UIListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
			ControlList.CanvasSize = UDim2.new(0, 0, 0, UIListLayout.AbsoluteContentSize.Y + 5)
		end)
	
	
		local cummm = false 
	
		SettionButton.MouseButton1Click:Connect(function() Library_Function.ButtonEffect() end)
	
		SettionButton.MouseButton1Click:Connect(function()
			cummm = not cummm
			pa = cummm and 1 or 0 
			ro = cummm and 180 or 0 
			Concacpage:JumpToIndex(pa)
			game.TweenService:Create(SettingIcon,TweenInfo.new(getgenv().UIColor["Tween Animation 1 Speed"]),{Rotation = ro}):Play()
		end)
	
		local CustomList = Instance.new("ScrollingFrame")
		local CustomListLayout = Instance.new("UIListLayout")
	
	
		CustomList.Name = "CustomList"
		CustomList.Parent = Concacmain1
		CustomList.Active = true
		CustomList.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		CustomList.BackgroundTransparency = 1.000
		CustomList.BorderColor3 = Color3.fromRGB(27, 42, 53)
		CustomList.BorderSizePixel = 0
		CustomList.Position = UDim2.new(0, 5, 0, 30)
		CustomList.Size = UDim2.new(1, -10, 1, -30)
		CustomList.BottomImage = "rbxasset://textures/ui/Scroll/scroll-middle.png"
		CustomList.ScrollBarThickness = 5
		CustomList.TopImage = "rbxasset://textures/ui/Scroll/scroll-middle.png"
	
		CustomListLayout.Name = "CustomListLayout"
		CustomListLayout.Parent = CustomList
		CustomListLayout.SortOrder = Enum.SortOrder.LayoutOrder
		CustomListLayout.Padding = UDim.new(0, 5)
	
		CustomListLayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
			CustomList.CanvasSize = UDim2.new(0, 0, 0, CustomListLayout.AbsoluteContentSize.Y + 5)
		end)
	
		local CustomTitle = Instance.new("TextLabel")
	
		CustomTitle.Name = "GUITextColor"
		CustomTitle.Parent = Concacmain1
		CustomTitle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		CustomTitle.BackgroundTransparency = 1.000
		CustomTitle.Position = UDim2.new(0, 15, 0, 0)
		CustomTitle.Size = UDim2.new(1, -15, 0, 25)
		CustomTitle.Font = Enum.Font.GothamBold
		CustomTitle.Text = ''
		CustomTitle.TextSize = 16.000
		CustomTitle.TextXAlignment = Enum.TextXAlignment.Left
		CustomTitle.TextColor3 = getgenv().UIColor["GUI Text Color"]
		table.insert(UpdateCallBack["GUI Text Color"],function() 
			CustomTitle.TextColor3 = getgenv().UIColor["GUI Text Color"]
		end)
	
		local CustomSearch = Instance.new("Frame")
		local PageSearchCorner = Instance.new("UICorner")
		local SearchFrame = Instance.new("Frame")
		local SearchIcon = Instance.new("ImageLabel")
		local active = Instance.new("TextButton")
		local SearchBucu = Instance.new("TextBox")
	
		CustomSearch.Name = "Background2"
		CustomSearch.Parent = Concacmain1
		CustomSearch.AnchorPoint = Vector2.new(1, 0)
		CustomSearch.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
		CustomSearch.ClipsDescendants = true
		CustomSearch.Position = UDim2.new(1, -5, 0, 5)
		CustomSearch.Size = UDim2.new(0, 20, 0, 20)
		CustomSearch.ClipsDescendants = true
		table.insert(UpdateCallBack["Background 2 Color"],function() 
			CustomSearch.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
		end)
	
		PageSearchCorner.CornerRadius = UDim.new(0, 2)
		PageSearchCorner.Name = "PageSearchCorner"
		PageSearchCorner.Parent = CustomSearch
	
		SearchFrame.Name = "SearchFrame"
		SearchFrame.Parent = CustomSearch
		SearchFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		SearchFrame.BackgroundTransparency = 1.000
		SearchFrame.Size = UDim2.new(0, 20, 0, 20)
	
		SearchIcon.Name = "SearchIcon"
		SearchIcon.Parent = SearchFrame
		SearchIcon.AnchorPoint = Vector2.new(0.5, 0.5)
		SearchIcon.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		SearchIcon.BackgroundTransparency = 1.000
		SearchIcon.Position = UDim2.new(0.5, 0, 0.5, 0)
		SearchIcon.Size = UDim2.new(0, 16, 0, 16)
		SearchIcon.Image = "rbxassetid://8154282545"
		SearchIcon.ImageColor3 = getgenv().UIColor["Search Icon Color"]
		table.insert(UpdateCallBack["Search Icon Color"],function() 
			SearchIcon.ImageColor3 = getgenv().UIColor["Search Icon Color"]
		end)
	
		active.Name = "active"
		active.Parent = SearchFrame
		active.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		active.BackgroundTransparency = 1.000
		active.Size = UDim2.new(1, 0, 1, 0)
		active.Font = Enum.Font.SourceSans
		active.Text = ""
		active.TextColor3 = Color3.fromRGB(0, 0, 0)
		active.TextSize = 14.000
	
		SearchBucu.Name = "TextColorPlaceholder"
		SearchBucu.Parent = CustomSearch
		SearchBucu.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
		SearchBucu.BackgroundTransparency = 1.000
		SearchBucu.Position = UDim2.new(0, 30, 0, 0)
		SearchBucu.Size = UDim2.new(1, -30, 1, 0)
		SearchBucu.Font = Enum.Font.GothamBold
		SearchBucu.Text = ''
		SearchBucu.TextSize = 14.000
		SearchBucu.TextXAlignment = Enum.TextXAlignment.Left
		SearchBucu.PlaceholderText =  "Search Section name"
		SearchBucu.PlaceholderColor3 = getgenv().UIColor["Placeholder Text Color"]
		SearchBucu.TextColor3 = getgenv().UIColor["Text Color"]
		table.insert(UpdateCallBack["Placeholder Text Color"],function() 
			SearchBucu.PlaceholderColor3 = getgenv().UIColor["Placeholder Text Color"]
		end)
		table.insert(UpdateCallBack["Text Color"],function() 
			SearchBucu.TextColor3 = getgenv().UIColor["Text Color"]
		end)
	
		local cummmed_ = false 
	
			active.MouseEnter:Connect(function()
				TweenService:Create(SearchIcon,TweenInfo.new(getgenv().UIColor["Tween Animation 3 Speed"]),{ImageColor3 = getgenv().UIColor["Search Icon Highlight Color"]}):Play()
			end)
	
			active.MouseLeave:Connect(function()
				TweenService:Create(SearchIcon,TweenInfo.new(getgenv().UIColor["Tween Animation 3 Speed"]),{ImageColor3 = getgenv().UIColor["Search Icon Color"]}):Play()
			end)
	
			active.MouseButton1Click:Connect(function()
				Library_Function.ButtonEffect()
			end)
	
			SearchBucu.Focused:Connect(function()
				Library_Function.ButtonEffect()
			end)
	
			active.MouseButton1Click:Connect(function()
				cummmed_ = not cummmed_
				local size = cummmed_ and UDim2.new(0,175,0,20) or  UDim2.new(0,20,0,20)
				game.TweenService:Create(CustomSearch,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{Size = size}):Play()
			end)
	
			local function succac_()
				for i,v in next, CustomList:GetChildren() do 
					if not v:IsA('UIListLayout') then 
						v.Visible = false
					end
				end
			end
			
			local function ra_()
				for a, b in pairs(CustomList:GetChildren()) do
					if not b:IsA('UIListLayout') then 
						if string.find(string.lower(b.Name),string.lower(SearchBucu.Text)) then 
							b.Visible = true
						end
					end
				end
			end
			
			SearchBucu:GetPropertyChangedSignal("Text"):Connect(function()
				succac_()
				ra_()
			end)
	
		function Library.CreateCustomColor(Name)
	
			CustomTitle.Text = Name or 'Custom GUI'
	
	
			local Setting_Function = {}
	
			function Setting_Function.CreateSection(Section_Name)
	
				local Section = Instance.new("Frame")
				local UICorner = Instance.new("UICorner")
				local Topsec = Instance.new("Frame")
				local Sectiontitle = Instance.new("TextLabel")
				local Linesec = Instance.new("Frame")
				local UIGradient = Instance.new("UIGradient")
				local SectionList = Instance.new("UIListLayout")
				local SectionName = Section_Name or "Section"
	
				Section.Name = Section_Name.."Section"
				Section.Parent = CustomList
				Section.Size = UDim2.new(1, 0, 0, 285)
				Section.BackgroundColor3 = getgenv().UIColor["Background 3 Color"]
				table.insert(UpdateCallBack["Background 3 Color"],function() 
					Section.BackgroundColor3 = getgenv().UIColor["Background 3 Color"]
				end)
				Section.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
				table.insert(UpdateCallBack["Background 1 Transparency"],function() 
					Section.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
				end)
	
				UICorner.CornerRadius = UDim.new(0, 4)
				UICorner.Parent = Section
	
				Topsec.Name = "Topsec"
				Topsec.Parent = Section
				Topsec.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
				Topsec.BackgroundTransparency = 1.000
				Topsec.Size = UDim2.new(1, 0, 0, 27)
	
				Sectiontitle.Name = "Sectiontitle"
				Sectiontitle.Parent = Topsec
				Sectiontitle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
				Sectiontitle.BackgroundTransparency = 1.000
				Sectiontitle.Size = UDim2.new(1, 0, 1, 0)
				Sectiontitle.Font = Enum.Font.GothamBold
				Sectiontitle.Text = Section_Name
				Sectiontitle.TextSize = 14.000
				Sectiontitle.TextColor3 = getgenv().UIColor["Section Text Color"]
				table.insert(UpdateCallBack["Section Text Color"],function() 
					Sectiontitle.TextColor3 = getgenv().UIColor["Section Text Color"]
				end)
	
				Linesec.Name = "Linesec"
				Linesec.Parent = Topsec
				Linesec.AnchorPoint = Vector2.new(0.5, 1)
				Linesec.BorderSizePixel = 0
				Linesec.Position = UDim2.new(0.5, 0, 1, -2)
				Linesec.Size = UDim2.new(1, -10, 0, 2)
				Linesec.BackgroundColor3 = getgenv().UIColor["Section Underline Color"]
				table.insert(UpdateCallBack["Section Underline Color"],function() 
					Linesec.BackgroundColor3 = getgenv().UIColor["Section Underline Color"]
				end)
	
				UIGradient.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0.00, 1.00), NumberSequenceKeypoint.new(0.50, 0.00), NumberSequenceKeypoint.new(0.51, 0.02), NumberSequenceKeypoint.new(1.00, 1.00)}
				UIGradient.Parent = Linesec
	
				SectionList.Name = "SectionList"
				SectionList.Parent = Section
				SectionList.SortOrder = Enum.SortOrder.LayoutOrder
				SectionList.Padding = UDim.new(0, 5)
	
				SectionList:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
					Section.Size = UDim2.new(1, 0, 0, SectionList.AbsoluteContentSize.Y + 5)
				end)
	
				local Setting_Section_Function = {}
	
					function Setting_Section_Function.CreateColorPicker(Setting)
						local _G=setmetatable({},{
							__index=function(Self,Key) 
								if Key=="Cungroi" then 
									return SettingsRac[Setting.Type].Rainbow
								end
							end,
							__newindex=function(Self,Key,Value) 
								if Key=="Cungroi" then 
									SettingsRac[Setting.Type].Rainbow=Value
								end
							end
						})
						local H,S,V
						local Title = Setting.Title or "Color Picker"
						local Default = SettingsRac[Setting.Type].Color or Color3.fromRGB(255, 255, 255)
						local Type = Setting.Type
						local ColorPick = Instance.new("Frame")
						local ColorPickCorner = Instance.new("UICorner")
						local ColorPickBg = Instance.new("Frame")
						local ColorpickBGCorner = Instance.new("UICorner")
						local ColorpickTitle = Instance.new("TextLabel")
						local ColorVal = Instance.new("Frame")
						local ColorValCorner = Instance.new("UICorner")
						local ColorValButton = Instance.new("TextButton")
						local Hue = Instance.new("Frame")
						local HueGra = Instance.new("UIGradient")
						local Frame = Instance.new("Frame")
						local UICorner = Instance.new("UICorner")
						local Concac = Instance.new("Frame")
						local RFrame = Instance.new("Frame")
						local RText = Instance.new("TextLabel")
						local RBox = Instance.new("TextBox")
						local GFrame = Instance.new("Frame")
						local GText = Instance.new("TextLabel")
						local GBox = Instance.new("TextBox")
						local BFrame = Instance.new("Frame")
						local BText = Instance.new("TextLabel")
						local BBox = Instance.new("TextBox")
						local UIListLayout = Instance.new("UIListLayout")
						local HexFrame = Instance.new("Frame")
						local HexText = Instance.new("TextLabel")
						local HexBox = Instance.new("TextBox")
						local Linesec = Instance.new("Frame")
						local UIGradient = Instance.new("UIGradient")
						local CungroiF = Instance.new("Frame")
						local CungroiFF = Instance.new("Frame")
						local cungroitext = Instance.new("TextLabel")
						local checkbox = Instance.new("ImageLabel")
						local check = Instance.new("ImageLabel")
						local Cungroitog = Instance.new("TextButton")
						local Color = Instance.new("ImageLabel")
						local SelectorColor = Instance.new("Frame")
						local UICorner_2 = Instance.new("UICorner")
						local HoithoF = Instance.new("Frame")
						local HoithoF_2 = Instance.new("Frame")
						local hoithotext = Instance.new("TextLabel")
						local checkbox_2 = Instance.new("ImageLabel")
						local check_2 = Instance.new("ImageLabel")
						local Hoithoitog = Instance.new("TextButton")
						local Frame_2 = Instance.new("Frame")
						local UIListLayout_2 = Instance.new("UIListLayout")
						local Cor1 = Instance.new("Frame")
						local UICorner_3 = Instance.new("UICorner")
						local BCor1 = Instance.new("TextButton")
						local Cor2 = Instance.new("Frame")
						local UICorner_4 = Instance.new("UICorner")
						local BCor2 = Instance.new("TextButton")
	
						ColorPick.Name = "ColorPick"
						ColorPick.Parent = Section
						ColorPick.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
						ColorPick.BackgroundTransparency = 1.000
						ColorPick.ClipsDescendants = true
						ColorPick.Position = UDim2.new(0, 0, 0.112280704, 0)
						ColorPick.Size = UDim2.new(1, 0, 0, 35)
	
						ColorPickCorner.CornerRadius = UDim.new(0, 4)
						ColorPickCorner.Name = "ColorPickCorner"
						ColorPickCorner.Parent = ColorPick
	
						ColorPickBg.Name = "Background1"
						ColorPickBg.Parent = ColorPick
						ColorPickBg.AnchorPoint = Vector2.new(0.5, 0.5)
						ColorPickBg.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
						ColorPickBg.Position = UDim2.new(0.5, 0, 0.5, 0)
						ColorPickBg.Size = UDim2.new(1, -10, 1, 0)
						table.insert(UpdateCallBack["Background 1 Color"],function() 
							ColorPickBg.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
						end)
						ColorPickBg.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
						table.insert(UpdateCallBack["Background 1 Transparency"],function() 
							ColorPickBg.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
						end)
	
						ColorpickBGCorner.CornerRadius = UDim.new(0, 4)
						ColorpickBGCorner.Name = "ColorpickBGCorner"
						ColorpickBGCorner.Parent = ColorPickBg
	
						ColorpickTitle.Name = "TextColor"
						ColorpickTitle.Parent = ColorPickBg
						ColorpickTitle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						ColorpickTitle.BackgroundTransparency = 1.000
						ColorpickTitle.Position = UDim2.new(0, 10, 0, 0)
						ColorpickTitle.Size = UDim2.new(1, -10, 0, 35)
						ColorpickTitle.Font = Enum.Font.GothamBlack
						ColorpickTitle.Text = Title
						ColorpickTitle.TextSize = 14.000
						ColorpickTitle.TextXAlignment = Enum.TextXAlignment.Left
						ColorpickTitle.TextColor3 = getgenv().UIColor["Text Color"]
						table.insert(UpdateCallBack["Text Color"],function() 
							ColorpickTitle.TextColor3 = getgenv().UIColor["Text Color"]
						end)
	
						ColorVal.Name = "ColorVal"
						ColorVal.Parent = ColorPick
						ColorVal.AnchorPoint = Vector2.new(1, 0)
						ColorVal.BackgroundColor3 = SettingsRac[Type].Color
						ColorVal.Position = UDim2.new(1, -10, 0, 5)
						ColorVal.Size = UDim2.new(0, 150, 0, 25)
	
						ColorValCorner.CornerRadius = UDim.new(0, 4)
						ColorValCorner.Name = "ColorValCorner"
						ColorValCorner.Parent = ColorVal
	
						ColorValButton.Name = "ColorValButton"
						ColorValButton.Parent = ColorVal
						ColorValButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						ColorValButton.BackgroundTransparency = 1.000
						ColorValButton.Size = UDim2.new(1, 0, 1, 0)
						ColorValButton.Font = Enum.Font.SourceSans
						ColorValButton.Text = ""
						ColorValButton.TextColor3 = Color3.fromRGB(0, 0, 0)
						ColorValButton.TextSize = 14.000
	
						Hue.Name = "Hue"
						Hue.Parent = ColorPick
						Hue.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						Hue.BorderSizePixel = 0
						Hue.Position = UDim2.new(0, 460, 0, 40)
						Hue.Size = UDim2.new(0, 25, 0, 200)
	
						HueGra.Color = ColorSequence.new{ColorSequenceKeypoint.new(0.00, Color3.fromRGB(255, 0, 4)), ColorSequenceKeypoint.new(0.17, Color3.fromRGB(235, 7, 255)), ColorSequenceKeypoint.new(0.33, Color3.fromRGB(0, 9, 189)), ColorSequenceKeypoint.new(0.49, Color3.fromRGB(0, 193, 196)), ColorSequenceKeypoint.new(0.66, Color3.fromRGB(0, 255, 0)), ColorSequenceKeypoint.new(0.84, Color3.fromRGB(255, 247, 0)), ColorSequenceKeypoint.new(1.00, Color3.fromRGB(255, 0, 0))}
						HueGra.Rotation = 90
						HueGra.Name = "HueGra"
						HueGra.Parent = Hue
	
						Frame.Parent = Hue
						Frame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						Frame.Position = UDim2.new(0, 0, 1, 0)
						Frame.Size = UDim2.new(1, 0, 0, 2)
	
						UICorner.CornerRadius = UDim.new(0, 4)
						UICorner.Parent = Hue
	
						Concac.Name = "Concac"
						Concac.Parent = ColorPick
						Concac.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						Concac.BackgroundTransparency = 1.000
						Concac.Position = UDim2.new(0, 495, 0, 40)
						Concac.Size = UDim2.new(0, 115, 0, 100)
	
						RFrame.Name = "RFrame"
						RFrame.Parent = Concac
						RFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						RFrame.BackgroundTransparency = 1.000
						RFrame.Size = UDim2.new(1, 0, 0, 25)
						RFrame.LayoutOrder = 0
	
						RText.Name = "RText"
						RText.Parent = RFrame
						RText.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						RText.BackgroundTransparency = 1.000
						RText.Size = UDim2.new(0, 25, 0, 25)
						RText.Font = Enum.Font.GothamBold
						RText.Text = "R:"
						RText.TextColor3 = Color3.fromRGB(115, 115, 115)
						RText.TextSize = 14.000
						RText.TextXAlignment = Enum.TextXAlignment.Left
	
						RBox.Name = "RBox"
						RBox.Parent = RFrame
						RBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						RBox.BackgroundTransparency = 1.000
						RBox.Position = UDim2.new(0, 25, 0, 0)
						RBox.Size = UDim2.new(1, -25, 1, 0)
						RBox.ClearTextOnFocus = false
						RBox.Font = Enum.Font.GothamBold
						RBox.Text = "255"
						RBox.TextColor3 = Color3.fromRGB(255, 255, 255)
						RBox.TextSize = 14.000
						RBox.TextXAlignment = Enum.TextXAlignment.Left
	
						GFrame.Name = "GFrame"
						GFrame.Parent = Concac
						GFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						GFrame.BackgroundTransparency = 1.000
						GFrame.Size = UDim2.new(1, 0, 0, 25)
						GFrame.LayoutOrder = 1
	
						GText.Name = "GText"
						GText.Parent = GFrame
						GText.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						GText.BackgroundTransparency = 1.000
						GText.Size = UDim2.new(0, 25, 0, 25)
						GText.Font = Enum.Font.GothamBold
						GText.Text = "G:"
						GText.TextColor3 = Color3.fromRGB(115, 115, 115)
						GText.TextSize = 14.000
						GText.TextXAlignment = Enum.TextXAlignment.Left
	
						GBox.Name = "GBox"
						GBox.Parent = GFrame
						GBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						GBox.BackgroundTransparency = 1.000
						GBox.Position = UDim2.new(0, 25, 0, 0)
						GBox.Size = UDim2.new(1, -25, 1, 0)
						GBox.ClearTextOnFocus = false
						GBox.Font = Enum.Font.GothamBold
						GBox.Text = "255"
						GBox.TextColor3 = Color3.fromRGB(255, 255, 255)
						GBox.TextSize = 14.000
						GBox.TextXAlignment = Enum.TextXAlignment.Left
	
						BFrame.Name = "BFrame"
						BFrame.Parent = Concac
						BFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						BFrame.BackgroundTransparency = 1.000
						BFrame.Size = UDim2.new(1, 0, 0, 25)
						BFrame.LayoutOrder = 2
	
						BText.Name = "BText"
						BText.Parent = BFrame
						BText.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						BText.BackgroundTransparency = 1.000
						BText.Size = UDim2.new(0, 25, 0, 25)
						BText.Font = Enum.Font.GothamBold
						BText.Text = "B:"
						BText.TextColor3 = Color3.fromRGB(115, 115, 115)
						BText.TextSize = 14.000
						BText.TextXAlignment = Enum.TextXAlignment.Left
	
						BBox.Name = "BBox"
						BBox.Parent = BFrame
						BBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						BBox.BackgroundTransparency = 1.000
						BBox.Position = UDim2.new(0, 25, 0, 0)
						BBox.Size = UDim2.new(1, -25, 1, 0)
						BBox.ClearTextOnFocus = false
						BBox.Font = Enum.Font.GothamBold
						BBox.Text = "255"
						BBox.TextColor3 = Color3.fromRGB(255, 255, 255)
						BBox.TextSize = 14.000
						BBox.TextXAlignment = Enum.TextXAlignment.Left
	
						UIListLayout.Parent = Concac
						UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder
	
						HexFrame.Name = "HexFrame"
						HexFrame.Parent = Concac
						HexFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						HexFrame.BackgroundTransparency = 1.000
						HexFrame.Size = UDim2.new(1, 0, 0, 25)
						HexFrame.LayoutOrder = 3
	
						HexText.Name = "HexText"
						HexText.Parent = HexFrame
						HexText.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						HexText.BackgroundTransparency = 1.000
						HexText.Size = UDim2.new(0, 25, 0, 25)
						HexText.Font = Enum.Font.GothamBold
						HexText.Text = "#"
						HexText.TextColor3 = Color3.fromRGB(115, 115, 115)
						HexText.TextSize = 14.000
						HexText.TextXAlignment = Enum.TextXAlignment.Left
	
						HexBox.Name = "HexBox"
						HexBox.Parent = HexFrame
						HexBox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						HexBox.BackgroundTransparency = 1.000
						HexBox.Position = UDim2.new(0, 25, 0, 0)
						HexBox.Size = UDim2.new(1, -25, 1, 0)
						HexBox.ClearTextOnFocus = false
						HexBox.Font = Enum.Font.GothamBold
						HexBox.Text = "FFFFFF"
						HexBox.TextColor3 = Color3.fromRGB(255, 255, 255)
						HexBox.TextSize = 14.000
						HexBox.TextXAlignment = Enum.TextXAlignment.Left
	
						Linesec.Name = "Linesec"
						Linesec.Parent = Concac
						Linesec.AnchorPoint = Vector2.new(0.5, 1)
						Linesec.BorderSizePixel = 0
						Linesec.Position = UDim2.new(0.5, 0, 1, -2)
						Linesec.Size = UDim2.new(1, -10, 0, 2)
						Linesec.LayoutOrder = 4
						Linesec.BackgroundColor3 = getgenv().UIColor["Section Underline Color"]
						table.insert(UpdateCallBack["Section Underline Color"],function() 
							Linesec.BackgroundColor3 = getgenv().UIColor["Section Underline Color"]
						end)
	
						UIGradient.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0.00, 1.00), NumberSequenceKeypoint.new(0.30, 0.25), NumberSequenceKeypoint.new(0.70, 0.25), NumberSequenceKeypoint.new(1.00, 1.00)}
						UIGradient.Parent = Linesec
	
						CungroiF.Name = "CungroiF"
						CungroiF.Parent = ColorPick
						CungroiF.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						CungroiF.BackgroundTransparency = 1.000
						CungroiF.Position = UDim2.new(0, 495, 0, 145)
						CungroiF.Size = UDim2.new(0, 115, 0, 25)
	
						CungroiFF.Name = "CungroiFF"
						CungroiFF.Parent = CungroiF
						CungroiFF.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						CungroiFF.BackgroundTransparency = 1.000
						CungroiFF.Size = UDim2.new(1, 0, 0, 25)
						CungroiFF.LayoutOrder = 4
	
						cungroitext.Name = "TextColor"
						cungroitext.Parent = CungroiFF
						cungroitext.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						cungroitext.BackgroundTransparency = 1.000
						cungroitext.Size = UDim2.new(0, 85, 0, 25)
						cungroitext.Font = Enum.Font.GothamBold
						cungroitext.Text = "Rainbow"
						cungroitext.TextSize = 14.000
						cungroitext.TextXAlignment = Enum.TextXAlignment.Left
						cungroitext.TextColor3 = getgenv().UIColor["Text Color"]
						table.insert(UpdateCallBack["Text Color"],function() 
							cungroitext.TextColor3 = getgenv().UIColor["Text Color"]
						end)
	
						checkbox.Name = "Setting_checkbox"
						checkbox.Parent = CungroiFF
						checkbox.AnchorPoint = Vector2.new(1, 0.5)
						checkbox.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						checkbox.BackgroundTransparency = 1.000
						checkbox.Position = UDim2.new(1, -5, 0.5, 0)
						checkbox.Size = UDim2.new(0, 25, 0, 25)
						checkbox.Image = "rbxassetid://4552505888"
						checkbox.ImageColor3 = getgenv().UIColor["Toggle Border Color"]
						table.insert(UpdateCallBack["Toggle Border Color"],function() 
							checkbox.ImageColor3 = getgenv().UIColor["Toggle Border Color"]
						end)
	
						check.Name = "Setting_check"
						check.Parent = checkbox
						check.AnchorPoint = Vector2.new(0, 1)
						check.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						check.BackgroundTransparency = 1.000
						check.Position = UDim2.new(0, 0, 1, 0)
						check.Image = "rbxassetid://4555411759"
						check.ImageColor3 = getgenv().UIColor["Toggle Checked Color"]
						table.insert(UpdateCallBack["Toggle Checked Color"],function() 
							check.ImageColor3 = getgenv().UIColor["Toggle Checked Color"]
						end)
	
						Cungroitog.Name = "Cungroitog"
						Cungroitog.Parent = CungroiFF
						Cungroitog.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						Cungroitog.BackgroundTransparency = 1.000
						Cungroitog.Size = UDim2.new(1, 0, 1, 0)
						Cungroitog.Font = Enum.Font.SourceSans
						Cungroitog.Text = ""
						Cungroitog.TextColor3 = Color3.fromRGB(0, 0, 0)
						Cungroitog.TextSize = 14.000
						
						Color.Name = "Color"
						Color.Parent = ColorPick
						Color.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
						Color.BorderSizePixel = 0
						Color.Position = UDim2.new(0, 10, 0, 40)
						Color.Size = UDim2.new(0, 440, 0, 200)
						Color.Image = "rbxassetid://4155801252"
	
						SelectorColor.Name = "SelectorColor"
						SelectorColor.Parent = Color
						SelectorColor.AnchorPoint = Vector2.new(0.5, 0.5)
						SelectorColor.BackgroundColor3 = Color3.fromRGB(203, 203, 203)
						SelectorColor.BorderColor3 = Color3.fromRGB(70, 70, 70)
						SelectorColor.Position = UDim2.new(1, 0, 0, 0)
						SelectorColor.Size = UDim2.new(0, 4, 0, 4)
	
						UICorner_2.CornerRadius = UDim.new(0, 4)
						UICorner_2.Parent = Color
	
						HoithoF.Name = "HoithoF"
						HoithoF.Parent = ColorPick
						HoithoF.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						HoithoF.BackgroundTransparency = 1.000
						HoithoF.Position = UDim2.new(0, 495, 0, 175)
						HoithoF.Size = UDim2.new(0, 115, 0, 25)
						HoithoF.LayoutOrder = 5
	
						HoithoF_2.Name = "HoithoF"
						HoithoF_2.Parent = HoithoF
						HoithoF_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						HoithoF_2.BackgroundTransparency = 1.000
						HoithoF_2.Size = UDim2.new(1, 0, 1, 25)
	
						hoithotext.Name = "TextColor"
						hoithotext.Parent = HoithoF_2
						hoithotext.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						hoithotext.BackgroundTransparency = 1.000
						hoithotext.Size = UDim2.new(0, 85, 0, 25)
						hoithotext.Font = Enum.Font.GothamBold
						hoithotext.Text = "Breathing"
						hoithotext.TextSize = 14.000
						hoithotext.TextXAlignment = Enum.TextXAlignment.Left
						hoithotext.TextColor3 = getgenv().UIColor["Text Color"]
						table.insert(UpdateCallBack["Text Color"],function() 
							hoithotext.TextColor3 = getgenv().UIColor["Text Color"]
						end)
	
						checkbox_2.Name = "setting_checkbox"
						checkbox_2.Parent = HoithoF_2
						checkbox_2.AnchorPoint = Vector2.new(1, 0)
						checkbox_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						checkbox_2.BackgroundTransparency = 1.000
						checkbox_2.Position = UDim2.new(1, -5, 0, 0)
						checkbox_2.Size = UDim2.new(0, 25, 0, 25)
						checkbox_2.Image = "rbxassetid://4552505888"
						checkbox_2.ImageColor3 = Color3.fromRGB(131, 181, 255)
						checkbox_2.ImageColor3 = getgenv().UIColor["Toggle Border Color"]
						table.insert(UpdateCallBack["Toggle Border Color"],function() 
							checkbox_2.ImageColor3 = getgenv().UIColor["Toggle Border Color"]
						end)
	
						check_2.Name = "setting_check"
						check_2.Parent = checkbox_2
						check_2.AnchorPoint = Vector2.new(0, 1)
						check_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						check_2.BackgroundTransparency = 1.000
						check_2.Position = UDim2.new(0, 0, 1, 0)
						check_2.Image = "rbxassetid://4555411759"
						check_2.ImageColor3 = getgenv().UIColor["Toggle Checked Color"]
						table.insert(UpdateCallBack["Toggle Checked Color"],function() 
							check_2.ImageColor3 = getgenv().UIColor["Toggle Checked Color"]
						end)
	
						Hoithoitog.Name = "Hoithoitog"
						Hoithoitog.Parent = HoithoF_2
						Hoithoitog.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						Hoithoitog.BackgroundTransparency = 1.000
						Hoithoitog.Size = UDim2.new(1, 0, 0, 25)
						Hoithoitog.Font = Enum.Font.SourceSans
						Hoithoitog.Text = ""
						Hoithoitog.TextColor3 = Color3.fromRGB(0, 0, 0)
						Hoithoitog.TextSize = 14.000
	
						Frame_2.Parent = HoithoF_2
						Frame_2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						Frame_2.BackgroundTransparency = 1.000
						Frame_2.Position = UDim2.new(0, 0, 0, 30)
						Frame_2.Size = UDim2.new(1, 0, 0, 25)
	
						UIListLayout_2.Parent = Frame_2
						UIListLayout_2.FillDirection = Enum.FillDirection.Horizontal
						UIListLayout_2.SortOrder = Enum.SortOrder.LayoutOrder
						UIListLayout_2.Padding = UDim.new(0, 5)
	
						Cor1.Name = "Cor1"
						Cor1.Parent = Frame_2
						Cor1.BackgroundColor3 =SettingsRac[Type].Breathing.Color1
						Cor1.Selectable = true
						Cor1.Size = UDim2.new(0, 25, 0, 25)
	
						UICorner_3.CornerRadius = UDim.new(1, 0)
						UICorner_3.Parent = Cor1
	
						BCor1.Name = "BCor1"
						BCor1.Parent = Cor1
						BCor1.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						BCor1.BackgroundTransparency = 1.000
						BCor1.Size = UDim2.new(1, 0, 1, 0)
						BCor1.Font = Enum.Font.SourceSans
						BCor1.Text = ""
						BCor1.TextColor3 = Color3.fromRGB(0, 0, 0)
						BCor1.TextSize = 14.000
	
						Cor2.Name = "Cor2"
						Cor2.Parent = Frame_2
						Cor2.BackgroundColor3 = SettingsRac[Type].Breathing.Color2
						Cor2.Selectable = true
						Cor2.Size = UDim2.new(0, 25, 0, 25)
	
						UICorner_4.CornerRadius = UDim.new(1, 0)
						UICorner_4.Parent = Cor2
	
						BCor2.Name = "BCor2"
						BCor2.Parent = Cor2
						BCor2.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						BCor2.BackgroundTransparency = 1.000
						BCor2.Size = UDim2.new(1, 0, 1, 0)
						BCor2.Font = Enum.Font.SourceSans
						BCor2.Text = ""
						BCor2.TextColor3 = Color3.fromRGB(0, 0, 0)
						BCor2.TextSize = 14.000
	
						local vandogbucu = false
						ColorValButton.MouseButton1Click:Connect(function()
							vandogbucu = not vandogbucu
							local CSize = vandogbucu and UDim2.new(1, 0, 0, 255) or UDim2.new(1, 0, 0, 35)
							TweenService:Create(ColorPick, TweenInfo.new(getgenv().UIColor["Tween Animation 1 Speed"]), {Size = CSize}):Play()
						end)
	
						ColorValButton.MouseButton1Click:Connect(function()
							Library_Function.ButtonEffect()
						end)
	
						local userInputService = game:GetService("UserInputService")
						local runService = game:GetService("RunService")
	
						local plr = game.Players.LocalPlayer
						local mouse = plr:GetMouse()
	
						local colorInput, hueInput = nil,nil
						local nguvail = true
						local cungroival = 0
						local function cum(...)
							if nguvail then
								return wait(...)
							else
								wait()
								return false
							end
						end
	
						local function RBGToText(color)
							return {math.floor(color.r*255),math.floor(color.g*255),math.floor(color.b*255)}
						end
	
						local function Color3FromHex(hex)
							hex = hex:gsub("#", ""):upper():gsub("0X", "")
							return Color3.fromRGB(tonumber(hex:sub(1, 2), 16), tonumber(hex:sub(3, 4), 16), tonumber(hex:sub(5, 6), 16))
						end
						local function Color3ToHex(color)
							local r, g, b = string.format("%X", math.floor(color.R * 255)), string.format("%X", math.floor(color.G * 255)), string.format("%X", math.floor(color.B * 255))
							if #r < 2 then
								r = "0" .. r
							end
							if #g < 2 then
								g = "0" .. g
							end
							if #b < 2 then
								b = "0" .. b
							end
							return string.format("%s%s%s", r, g, b)
						end
						H, S, V = 1,1,1
						local function LayCaiLonHon(a,b) 
							if a>b then return a,b else return b,a end
						end
						local function Cong(a,b) 
							if (a+b)>255 then 
								local lon,be = LayCaiLonHon(a,b)
								local delta = 255-lon
								local lon2,be2 = LayCaiLonHon(delta,be)
	
								return (lon2-be2)
							else
								return (a+b)
							end
						end
						function CongColor(a,b) 
							local Color1,Color2=a,b
							local SQRT = math.sqrt
							local NewColor={}
							NewColor.R = 255 - SQRT(((255-Color1.R)^2 + (255-Color2.R)^2)/2)
							NewColor.G = 255 - SQRT(((255-Color1.G)^2 + (255-Color2.G)^2)/2)
							NewColor.B = 255 - SQRT(((255-Color1.B)^2 + (255-Color2.B)^2)/2)
							return Color3.new(NewColor.R,NewColor.G,NewColor.B)
						end
						local function UpdateColor(concac)
							local NewColor = concac or Color3.fromHSV(H, S, V)
							if not NewColor then S, H, V = concac:ToHSV() end
							HexBox.Text = Color3ToHex(NewColor)
							Color.BackgroundColor3 = Color3.fromHSV(H, 1, 1)
							if concac then
								Color.BackgroundColor3 = concac
								SelectorColor.Position = UDim2.new(concac and select(3, Color3.toHSV(concac)))
							end
							local pos = 1 - (Color3.toHSV(NewColor))
							local scaley = Hue.Frame.Position.Y.Scale
							if scaley ~= pos and not ((pos == 0 or pos == 1) and (scaley == 1 or scaley == 0)) then
								Hue.Frame.Position = UDim2.fromScale(0,pos)
							end
							RBox.Text, GBox.Text, BBox.Text = RBGToText(NewColor)[1],RBGToText(NewColor)[2],RBGToText(NewColor)[3]
							ColorVal.BackgroundColor3 = NewColor
							local Types = {}
							getgenv().UIColor[Type] = NewColor
						end
						UpdateColor(SettingsRac[Type].Color)
						local function setcungroi(stage)
							if colorInput then
								colorInput = (colorInput:Disconnect() and nil) or nil
							end
							if hueInput then
								hueInput = (hueInput:Disconnect() and nil) or nil
							end
							
							if stage then 
								pcall(function()
									local kietthongminh = 1 / 255
									while cum() and _G.Cungroi do
										cungroival = kietthongminh + cungroival
										if cungroival > 1 then
											cungroival = 0
										end
										H = cungroival
										UpdateColor(Color3.fromHSV(cungroival, 1, 1))
									end
								end)
							end
							
						end
						local csize = _G.Cungroi and UDim2.new(1,-4,1,-4) or UDim2.new(0,0,0,0)
						local  pos = _G.Cungroi and UDim2.new(.5,0,.5,0) or UDim2.new(0,0,1,0)
						local apos = _G.Cungroi and Vector2.new(.5,.5) or Vector2.new(0,1)
						check.Size=csize
						check.Position=pos
						check.AnchorPoint = apos
						spawn(function() 
							setcungroi(_G.Cungroi)
						end)
						
						
	
						Cungroitog.MouseButton1Click:Connect(function() Library_Function.ButtonEffect() end)
	
						Cungroitog.MouseButton1Click:Connect(function()
							_G.Cungroi = not _G.Cungroi
							csize = _G.Cungroi and UDim2.new(1,-4,1,-4) or UDim2.new(0,0,0,0)
							pos = _G.Cungroi and UDim2.new(.5,0,.5,0) or UDim2.new(0,0,1,0)
							apos = _G.Cungroi and Vector2.new(.5,.5) or Vector2.new(0,1)
							game.TweenService:Create(check,TweenInfo.new(getgenv().UIColor["Tween Animation 1 Speed"]),{Size = csize, Position = pos, AnchorPoint = apos}):Play()
							setcungroi(_G.Cungroi)
						end)
	
						HexBox.FocusLost:Connect(function()
							if #HexBox.Text > 5 then
								local occho, rac = pcall(Color3FromHex, HexBox.Text)
								UpdateColor((occho and rac))
							end
						end)
	
						RBox.FocusLost:Connect(function()
							if tonumber(RBox.Text) > 255 then 
								RBox.Text = 255
							elseif tonumber(RBox.Text) < 0 then
								RBox.Text = 0
							end
							local occho, rac = pcall(Color3.fromRGB, tonumber(RBox.Text),tonumber(BBox.Text),tonumber(GBox.Text))
							UpdateColor((occho and rac))
						end)
	
						GBox.FocusLost:Connect(function()
							if tonumber(GBox.Text) > 255 then 
								GBox.Text = 255
							elseif tonumber(GBox.Text) < 0 then
								GBox.Text = 0
							end
							local occho, rac = pcall(Color3.fromRGB, tonumber(RBox.Text),tonumber(BBox.Text),tonumber(GBox.Text))
							UpdateColor((occho and rac))
						end)
						BBox.FocusLost:Connect(function()
							if tonumber(BBox.Text) > 255 then 
								BBox.Text = 255
							elseif tonumber(BBox.Text) < 0 then
								BBox.Text = 0
							end
							local occho, rac = pcall(Color3.fromRGB, tonumber(RBox.Text),tonumber(BBox.Text),tonumber(GBox.Text))
							UpdateColor((occho and rac))
						end)
	
						H = 1 - (math.clamp(Hue.Frame.AbsolutePosition.Y - Hue.AbsolutePosition.Y, 0, Hue.AbsoluteSize.Y) / Hue.AbsoluteSize.Y)
						S = (math.clamp(Color.SelectorColor.AbsolutePosition.X - Color.AbsolutePosition.X, 0, Color.AbsoluteSize.X) / Color.AbsoluteSize.X)
						V = 1 - (math.clamp(Color.SelectorColor.AbsolutePosition.Y - Color.AbsolutePosition.Y, 0, Color.AbsoluteSize.Y) / Color.AbsoluteSize.Y)
	
						Color.InputBegan:Connect(function(input)
							if input.UserInputType == Enum.UserInputType.MouseButton1 then
								if colorInput then
									colorInput:Disconnect()
								end
								djtmemay = true
								colorInput = runService.RenderStepped:Connect(function()
									local colorX = (math.clamp(mouse.X - Color.AbsolutePosition.X, 0, Color.AbsoluteSize.X) / Color.AbsoluteSize.X)
									local colorY = (math.clamp(mouse.Y - Color.AbsolutePosition.Y, 0, Color.AbsoluteSize.Y) / Color.AbsoluteSize.Y)
									SelectorColor.Position = UDim2.fromScale(colorX, colorY)
									S = colorX
									V = 1 - colorY
									UpdateColor()
								end)
							end
						end)
	
						Color.InputEnded:Connect(function(input)
							if input.UserInputType == Enum.UserInputType.MouseButton1 then
								if colorInput then
									djtmemay = false
									colorInput:Disconnect()
								end
							end
						end)
	
						Hue.InputBegan:Connect(function(input)
							if input.UserInputType == Enum.UserInputType.MouseButton1 then
								if hueInput then
									hueInput:Disconnect()
								end
								djtmemay = true
								hueInput = runService.RenderStepped:Connect(function()
									local hueY = math.clamp(mouse.Y - Hue.AbsolutePosition.Y, 0, Hue.AbsoluteSize.Y) / Hue.AbsoluteSize.Y
									Hue.Frame.Position = UDim2.fromScale(0,hueY)
									H = 1 - hueY
									UpdateColor()
								end)
							end
						end)
	
						Hue.InputEnded:Connect(function(input)
							if input.UserInputType == Enum.UserInputType.MouseButton1 then
								if hueInput then
									djtmemay = false
									hueInput:Disconnect()
								end
							end
						end)
	
						BCor1.MouseButton1Click:Connect(function()
							Library_Function.ButtonEffect()
						end)
	
						BCor2.MouseButton1Click:Connect(function()
							Library_Function.ButtonEffect()
						end)
	
						BCor1.MouseButton1Click:Connect(function()
							Cor1.BackgroundColor3 = ColorVal.BackgroundColor3
							SettingsRac[Type].Breathing.Color1=ColorVal.BackgroundColor3
						end)
	
						BCor2.MouseButton1Click:Connect(function()
							Cor2.BackgroundColor3 = ColorVal.BackgroundColor3
							SettingsRac[Type].Breathing.Color2=ColorVal.BackgroundColor3
						end)
					   
						Hoithoitog.MouseButton1Click:Connect(function() Library_Function.ButtonEffect() end)
						local vanmeo = false
						spawn(function() 
							while wait() do 
								if SettingsRac[Type].Breathing.Toggle then 
									UpdateColor(ColorVal.BackgroundColor3)
								end
							end
						end)
						local function cacrac() 
							local co2, co1 = Cor2.BackgroundColor3, Cor1.BackgroundColor3
							local csize = SettingsRac[Type].Breathing.Toggle and UDim2.new(1,-4,1,-4) or UDim2.new(0,0,0,0)
							local pos = SettingsRac[Type].Breathing.Toggle and UDim2.new(.5,0,.5,0) or UDim2.new(0,0,1,0)
							local apos = SettingsRac[Type].Breathing.Toggle and Vector2.new(.5,.5) or Vector2.new(0,1)
							game.TweenService:Create(check_2,TweenInfo.new(getgenv().UIColor["Tween Animation 1 Speed"]),{Size = csize, Position = pos, AnchorPoint = apos}):Play()
							if SettingsRac[Type].Breathing.Toggle then 
							   local ab = game.TweenService:Create(ColorVal,TweenInfo.new(2),{BackgroundColor3 = co1})
							   local ab1 = game.TweenService:Create(Color,TweenInfo.new(2),{BackgroundColor3 = co1})
								ab:Play()
								ab1:Play()
								ab.Completed:Connect(function()
									if SettingsRac[Type].Breathing.Toggle then 
									  local  ac = game.TweenService:Create(ColorVal,TweenInfo.new(2),{BackgroundColor3 = co2})
									   local ac1 = game.TweenService:Create(Color,TweenInfo.new(2),{BackgroundColor3 = co2})
										ac:Play()
										ac1:Play()
										if SettingsRac[Type].Breathing.Toggle then 
											ac.Completed:Connect(function()
												ab:Play()
												ab1:Play()
											end)
										end
									end
								end)
								
							end
						end
						spawn(function() 
							cacrac()
						end)
						Hoithoitog.MouseButton1Click:Connect(function()
							SettingsRac[Type].Breathing.Toggle = not SettingsRac[Type].Breathing.Toggle 
							cacrac()
						end)
	
					end
	
					function Setting_Section_Function.CreateBox(Setting)
	
						local TitleText = tostring(Setting.Title) or ""
						local Placeholder = tostring(Setting.Placeholder) or ""
						local Default = getgenv().UIColor[Setting.Type] or ""
	
						local BoxFrame = Instance.new("Frame")
						local BoxCorner = Instance.new("UICorner")
						local BoxBG = Instance.new("Frame")
						local ButtonCorner = Instance.new("UICorner")
						local Boxtitle = Instance.new("TextLabel")
						local BoxCor = Instance.new("Frame")
						local ButtonCorner_2 = Instance.new("UICorner")
						local Boxxxx = Instance.new("TextBox")
						local Lineeeee = Instance.new("Frame")
	
						BoxFrame.Name = "BoxFrame"
						BoxFrame.Parent = Section
						BoxFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
						BoxFrame.BackgroundTransparency = 1.000
						BoxFrame.Position = UDim2.new(0, 0, 0.208333328, 0)
						BoxFrame.Size = UDim2.new(1, 0, 0, 60)
	
						BoxCorner.CornerRadius = UDim.new(0, 4)
						BoxCorner.Name = "BoxCorner"
						BoxCorner.Parent = BoxFrame
	
						BoxBG.Name = "Background1"
						BoxBG.Parent = BoxFrame
						BoxBG.AnchorPoint = Vector2.new(0.5, 0.5)
						BoxBG.Position = UDim2.new(0.5, 0, 0.5, 0)
						BoxBG.Size = UDim2.new(1, -10, 1, 0)
						BoxBG.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
						table.insert(UpdateCallBack["Background 1 Color"],function() 
							BoxBG.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
						end)
						BoxBG.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
						table.insert(UpdateCallBack["Background 1 Transparency"],function() 
							BoxBG.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
						end)
	
						ButtonCorner.CornerRadius = UDim.new(0, 4)
						ButtonCorner.Name = "ButtonCorner"
						ButtonCorner.Parent = BoxBG
	
						Boxtitle.Name = "TextColor"
						Boxtitle.Parent = BoxBG
						Boxtitle.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						Boxtitle.BackgroundTransparency = 1.000
						Boxtitle.Position = UDim2.new(0, 10, 0, 0)
						Boxtitle.Size = UDim2.new(1, -10, 0.5, 0)
						Boxtitle.Font = Enum.Font.GothamBlack
						Boxtitle.Text = TitleText
						Boxtitle.TextSize = 14.000
						Boxtitle.TextXAlignment = Enum.TextXAlignment.Left
						Boxtitle.TextColor3 = getgenv().UIColor["Text Color"]
						table.insert(UpdateCallBack["Text Color"],function() 
							Boxtitle.TextColor3 = getgenv().UIColor["Text Color"]
						end)
	
						BoxCor.Name = "Background2"
						BoxCor.Parent = BoxBG
						BoxCor.AnchorPoint = Vector2.new(1, 0.5)
						BoxCor.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
						BoxCor.ClipsDescendants = true
						BoxCor.Position = UDim2.new(1, -5, 0, 40)
						BoxCor.Size = UDim2.new(1, -10, 0, 25)
						table.insert(UpdateCallBack["Text Color"],function() 
							BoxCor.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
						end)
	
						ButtonCorner_2.CornerRadius = UDim.new(0, 4)
						ButtonCorner_2.Name = "ButtonCorner"
						ButtonCorner_2.Parent = BoxCor
	
						Boxxxx.Name = "TextColorPlaceholder"
						Boxxxx.Parent = BoxCor
						Boxxxx.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
						Boxxxx.BackgroundTransparency = 1.000
						Boxxxx.Position = UDim2.new(0, 5, 0, 0)
						Boxxxx.Size = UDim2.new(1, -5, 1, 0)
						Boxxxx.Font = Enum.Font.GothamBold
						Boxxxx.PlaceholderText = Placeholder
						Boxxxx.Text = ""
						Boxxxx.TextSize = 14.000
						Boxxxx.TextXAlignment = Enum.TextXAlignment.Left
						Boxxxx.PlaceholderColor3 = getgenv().UIColor["Placeholder Text Color"]
						Boxxxx.TextColor3 = getgenv().UIColor["Text Color"]
						table.insert(UpdateCallBack["Placeholder Text Color"],function() 
							Boxxxx.PlaceholderColor3 = getgenv().UIColor["Placeholder Text Color"]
						end)
						table.insert(UpdateCallBack["Text Color"],function() 
							Boxxxx.TextColor3 = getgenv().UIColor["Text Color"]
						end)
	
						Lineeeee.Name = "Setting_Lineeeee"
						Lineeeee.Parent = BoxCor
						Lineeeee.BackgroundTransparency = 1.000
						Lineeeee.Position = UDim2.new(0, 0, 1, -2)
						Lineeeee.Size = UDim2.new(1, 0, 0, 6)
						Lineeeee.BackgroundColor3 = getgenv().UIColor["Textbox Highlight Color"]
						table.insert(UpdateCallBack["Textbox Highlight Color"],function() 
							Lineeeee.BackgroundColor3 = getgenv().UIColor["Textbox Highlight Color"]
						end)
	
						Boxxxx.Focused:Connect(function() 
							TweenService:Create(Lineeeee,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{BackgroundTransparency = 0}):Play()
						end)
	
						Boxxxx.Focused:Connect(function() 
							Library_Function.ButtonEffect()
						end)
	
						Boxxxx.FocusLost:Connect(function()
							TweenService:Create(Lineeeee,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{BackgroundTransparency = 1}):Play()
							if Boxxxx.Text ~= '' then
								getgenv().UIColor[Setting.Type] = Boxxxx.Text
								if Setting.Type == "Background Image" then
									Library_Function.ReloadMain(Boxxxx.Text)
								end
							end
						end)
	
						local textbox_function = {}
	
						if Default then
							Boxxxx.Text = Default
							getgenv().UIColor[Setting.Type] = Default
						end
	
						function textbox_function.SetValue(Value)
							Boxxxx.Text = Value
							getgenv().UIColor[Setting.Type]=Value
						end 
	
						return textbox_function;
	
	
					end
	
					function Setting_Section_Function.CreateSlider(Setting)
							
						local TitleText = tostring(Setting.Title) or ""
						local Min_Value = tonumber(Setting.Min) or 0
						local Max_Value = tonumber(Setting.Max) or 100
						local Precise = Setting.Precise or false
						local DefaultValue = getgenv().UIColor[Setting.Type] or 0
						local Callback = function(v) getgenv().UIColor[Setting.Type]=v end
	
						local SizeChia = 600;
	
						local SliderFrame = Instance.new("Frame")
						local SliderCorner = Instance.new("UICorner")
						local SliderBG = Instance.new("Frame")
						local SliderBGCorner = Instance.new("UICorner")
						local SliderTitle = Instance.new("TextLabel")
						local SliderBar = Instance.new("Frame")
						local SliderButton = Instance.new("TextButton")
						local SliderBarCorner = Instance.new("UICorner")
						local Bar = Instance.new("Frame")
						local BarCorner = Instance.new("UICorner")
						local Sliderboxframe = Instance.new("Frame")
						local Sliderbox = Instance.new("UICorner")
						local Sliderbox_2 = Instance.new("TextBox")
	
						SliderFrame.Name = TitleText..'buda'
						SliderFrame.Parent = Section
						SliderFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
						SliderFrame.BackgroundTransparency = 1.000
						SliderFrame.Position = UDim2.new(0, 0, 0.208333328, 0)
						SliderFrame.Size = UDim2.new(1, 0, 0, 50)
	
						SliderCorner.CornerRadius = UDim.new(0, 4)
						SliderCorner.Name = "SliderCorner"
						SliderCorner.Parent = SliderFrame
	
						SliderBG.Name = "Background1"
						SliderBG.Parent = SliderFrame
						SliderBG.AnchorPoint = Vector2.new(0.5, 0.5)
						SliderBG.Position = UDim2.new(0.5, 0, 0.5, 0)
						SliderBG.Size = UDim2.new(1, -10, 1, 0)
						SliderBG.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
						table.insert(UpdateCallBack["Background 1 Color"],function() 
							SliderBG.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
						end)
						SliderBG.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
						table.insert(UpdateCallBack["Background 1 Transparency"],function() 
							SliderBG.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
						end)
	
						SliderBGCorner.CornerRadius = UDim.new(0, 4)
						SliderBGCorner.Name = "SliderBGCorner"
						SliderBGCorner.Parent = SliderBG
	
						SliderTitle.Name = "TextColor"
						SliderTitle.Parent = SliderBG
						SliderTitle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
						SliderTitle.BackgroundTransparency = 1.000
						SliderTitle.Position = UDim2.new(0, 10, 0, 0)
						SliderTitle.Size = UDim2.new(1, -10, 0, 25)
						SliderTitle.Font = Enum.Font.GothamBlack
						SliderTitle.Text = TitleText
						SliderTitle.TextSize = 14.000
						SliderTitle.TextXAlignment = Enum.TextXAlignment.Left
						SliderTitle.TextColor3 = getgenv().UIColor["Text Color"]
						table.insert(UpdateCallBack["Text Color"],function() 
							SliderTitle.TextColor3 = getgenv().UIColor["Text Color"]
						end)
	
						SliderBar.Name = "SliderBar"
						SliderBar.Parent = SliderFrame
						SliderBar.AnchorPoint = Vector2.new(.5, 0.5)
						SliderBar.Position = UDim2.new(.5, 0, 0.5, 14)
						SliderBar.Size = UDim2.new(0, 600, 0, 6)
						SliderBar.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
						table.insert(UpdateCallBack["Background 2 Color"],function() 
							SliderBar.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
						end)
	
						SliderButton.Name = "SliderButton "
						SliderButton.Parent = SliderBar
						SliderButton.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
						SliderButton.BackgroundTransparency = 1.000
						SliderButton.Size = UDim2.new(1, 0, 1, 0)
						SliderButton.Font = Enum.Font.GothamBold
						SliderButton.Text = ""
						SliderButton.TextColor3 = Color3.fromRGB(230, 230, 230)
						SliderButton.TextSize = 14.000
	
						SliderBarCorner.CornerRadius = UDim.new(1, 0)
						SliderBarCorner.Name = "SliderBarCorner"
						SliderBarCorner.Parent = SliderBar
	
						Bar.Name = "Bar"
						Bar.BorderSizePixel = 0
						Bar.Parent = SliderBar
						Bar.Size = UDim2.new(0, 0, 1, 0)
						Bar.BackgroundColor3 = getgenv().UIColor["Slider Line Color"]
						table.insert(UpdateCallBack["Slider Line Color"],function() 
							Bar.BackgroundColor3 = getgenv().UIColor["Slider Line Color"]
						end)
	
	
						BarCorner.CornerRadius = UDim.new(1, 0)
						BarCorner.Name = "BarCorner"
						BarCorner.Parent = Bar
	
						Sliderboxframe.Name = "Background2"
						Sliderboxframe.Parent = SliderFrame
						Sliderboxframe.AnchorPoint = Vector2.new(1, 0)
						Sliderboxframe.Position = UDim2.new(1, -10, 0, 5)
						Sliderboxframe.Size = UDim2.new(0, 150, 0, 25)
						Sliderboxframe.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
						table.insert(UpdateCallBack["Background 2 Color"],function() 
							Sliderboxframe.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
						end)
	
						Sliderbox.CornerRadius = UDim.new(0, 4)
						Sliderbox.Name = "Sliderbox"
						Sliderbox.Parent = Sliderboxframe
	
						Sliderbox_2.Name = "TextColor"
						Sliderbox_2.Parent = Sliderboxframe
						Sliderbox_2.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
						Sliderbox_2.BackgroundTransparency = 1.000
						Sliderbox_2.Size = UDim2.new(1, 0, 1, 0)
						Sliderbox_2.Font = Enum.Font.GothamBold
						Sliderbox_2.Text = ""
						Sliderbox_2.TextSize = 14.000
						Sliderbox_2.TextColor3 = getgenv().UIColor["Text Color"]
						table.insert(UpdateCallBack["Text Color"],function() 
							Sliderbox_2.TextColor3 = getgenv().UIColor["Text Color"]
						end)
	
						SliderButton.MouseEnter:Connect(function()
							TweenService:Create(Bar,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{BackgroundColor3 = getgenv().UIColor["Slider Highlight Color"]}):Play()
						end)
	
						SliderButton.MouseLeave:Connect(function()
							TweenService:Create(Bar,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{BackgroundColor3 = getgenv().UIColor["Slider Line Color"]}):Play()
						end)
	
						local mouse = game.Players.LocalPlayer:GetMouse()
	
						if DefaultValue then 
							if DefaultValue <= Min_Value then DefaultValue = Min_Value elseif DefaultValue >= Max_Value then DefaultValue = Max_Value end
							Bar.Size = UDim2.new(1 - ((Max_Value - DefaultValue) / (Max_Value - Min_Value)),0, 0, 6)
							Sliderbox_2.Text = DefaultValue
							Callback(DefaultValue)
						end
	
						SliderButton.MouseButton1Down:Connect(function()
							local value = Precise and  tonumber(string.format("%.1f",(((tonumber(Max_Value) - tonumber(Min_Value)) / SizeChia) * Bar.AbsoluteSize.X) + tonumber(Min_Value))) or math.floor((((tonumber(Max_Value) - tonumber(Min_Value)) / SizeChia) * Bar.AbsoluteSize.X) + tonumber(Min_Value))
	
							pcall(function()
								Callback(value)
								Sliderbox_2.Text = value
							end)
							Bar.Size = UDim2.new(0, math.clamp(mouse.X - Bar.AbsolutePosition.X, 0, SizeChia), 0, 6)
							moveconnection = mouse.Move:Connect(function()   
								local value = Precise and  tonumber(string.format("%.1f",(((tonumber(Max_Value) - tonumber(Min_Value)) / SizeChia) * Bar.AbsoluteSize.X) + tonumber(Min_Value))) or math.floor((((tonumber(Max_Value) - tonumber(Min_Value)) / SizeChia) * Bar.AbsoluteSize.X) + tonumber(Min_Value))
								pcall(function()
									Callback(value)
									Sliderbox_2.Text = value
								end)
								Bar.Size = UDim2.new(0, math.clamp(mouse.X - Bar.AbsolutePosition.X, 0, SizeChia), 0, 6)
							end)
							releaseconnection = uis.InputEnded:Connect(function(Mouse)
								if Mouse.UserInputType == Enum.UserInputType.MouseButton1 then
									local value = Precise and  tonumber(string.format("%.1f",(((tonumber(Max_Value) - tonumber(Min_Value)) / SizeChia) * Bar.AbsoluteSize.X) + tonumber(Min_Value))) or math.floor((((tonumber(Max_Value) - tonumber(Min_Value)) / SizeChia) * Bar.AbsoluteSize.X) + tonumber(Min_Value))
	
									pcall(function()
										Callback(value)
										Sliderbox_2.Text = value
									end)
									Bar.Size = UDim2.new(0, math.clamp(mouse.X - Bar.AbsolutePosition.X, 0, SizeChia), 0, 6)
									moveconnection:Disconnect()
									releaseconnection:Disconnect()
								end
							end)
						end)
	
						local function GetSliderValue(Value)
							if tonumber(Value) <= Min_Value then
								Bar.Size = UDim2.new(0,(0 * SizeChia), 0, 6)
								Sliderbox_2.Text = Min_Value
								Callback(tonumber(Min_Value))
	
							elseif tonumber(Value) >= Max_Value then
								Bar.Size = UDim2.new(0,(Max_Value  /  Max_Value * SizeChia), 0, 6)
								Sliderbox_2.Text = Max_Value
								Callback(tonumber(Max_Value))
							else
								Bar.Size = UDim2.new(1 - ((Max_Value - Value) / (Max_Value - Min_Value)),0, 0, 6)
								Callback(tonumber(Value))
							end
						end
	
	
						Sliderbox_2.FocusLost:Connect(function()
							GetSliderValue(Sliderbox_2.Text)
						end)
	
	
						local slider_function = {}
	
						function slider_function.SetValue(Value)
							GetSliderValue(Value)
						end
	
						return slider_function
	
	
					end
	
				return Setting_Section_Function
	
			end
	
			return Setting_Function
	
	
		end
	
		local CustomColorUI = Library.CreateCustomColor()
	
		local CCMain = CustomColorUI.CreateSection("Main")
		CCMain.CreateColorPicker({Title = "Border Color", Type = "Border Color"})
		CCMain.CreateColorPicker({Title = "Click Effect Color", Type = "Click Effect Color"})
		CCMain.CreateColorPicker({Title = "Setting Icon Color", Type = "Setting Icon Color"})
		CCMain.CreateBox({Title = 'Logo Image', Placeholder = 'URL Here (PNG only), Recommended 128x128', Type = "Logo Image"})
		
		local CCSearch = CustomColorUI.CreateSection("Search")
		CCSearch.CreateColorPicker({Title = "Search Icon Color", Type = "Search Icon Color"})
		CCSearch.CreateColorPicker({Title = "Search Icon Highlight Color", Type = "Search Icon Highlight Color"})
		
		local CCText = CustomColorUI.CreateSection("Text")
		CCText.CreateColorPicker({Title = "GUI Text Color", Type = "GUI Text Color"})
		CCText.CreateColorPicker({Title = "Text Color", Type = "Text Color"})
		CCText.CreateColorPicker({Title = "Placeholder Text Color", Type = "Placeholder Text Color"})
		CCText.CreateColorPicker({Title = "Title Text Color", Type = "Title Text Color"})
		
		local CCBackground = CustomColorUI.CreateSection("Background")
		CCBackground.CreateColorPicker({Title = "Background 1 Color", Type = "Background 1 Color"})
		CCBackground.CreateSlider({Title = 'Background 1 Transparency', Type = "Background 1 Transparency", Min = 0, Max = 1, Default = 0, Precise = true})
		CCBackground.CreateColorPicker({Title = "Background 2 Color", Type = "Background 2 Color"})
		CCBackground.CreateColorPicker({Title = "Background 3 Color", Type = "Background 3 Color"})
		CCBackground.CreateBox({Title = 'Background Image', Placeholder = 'URL Here (WEBM / PNG only), Recommended 1280x720', Type = "Background Image"})
		
		local CCPage = CustomColorUI.CreateSection("Page")
		CCPage.CreateColorPicker({Title = "Page Selected Color", Type = "Page Selected Color"})
		
		local CCSection = CustomColorUI.CreateSection("Section")
		CCSection.CreateColorPicker({Title = "Section Text Color", Type = "Section Text Color"})
		CCSection.CreateColorPicker({Title = "Section Underline Color", Type = "Section Underline Color"})
		
		local CCToggle = CustomColorUI.CreateSection("Toggle")
		CCToggle.CreateColorPicker({Title = "Toggle Border Color", Type = "Toggle Border Color"})
		CCToggle.CreateColorPicker({Title = "Toggle Checked Color", Type = "Toggle Checked Color"})
		CCToggle.CreateColorPicker({Title = "Toggle Desc Color", Type = "Toggle Desc Color"})
		
		local CCButton = CustomColorUI.CreateSection("Button")
		CCButton.CreateColorPicker({Title = "Button Color", Type = "Button Color"})
		
		local CCButton = CustomColorUI.CreateSection("Label")
		CCButton.CreateColorPicker({Title = "Label Color", Type = "Label Color"})
		
		local CCDropdown = CustomColorUI.CreateSection("Dropdown")
		CCDropdown.CreateColorPicker({Title = "Dropdown Icon Color", Type = "Dropdown Icon Color"})
		CCDropdown.CreateColorPicker({Title = "Dropdown Selected Color", Type = "Dropdown Selected Color"})
		
		local CCTextbox = CustomColorUI.CreateSection("Textbox")
		CCTextbox.CreateColorPicker({Title = "Textbox Highlight Color", Type = "Textbox Highlight Color"})
		
		local CCBox = CustomColorUI.CreateSection("Box")
		CCBox.CreateColorPicker({Title = "Box Highlight Color", Type = "Box Highlight Color"})
		
		local CCSlider = CustomColorUI.CreateSection("Slider")
		CCSlider.CreateColorPicker({Title = "Slider Line Color", Type = "Slider Line Color"})
		CCSlider.CreateColorPicker({Title = "Slider Highlight Color", Type = "Slider Highlight Color"})
		
		local CCAnimation = CustomColorUI.CreateSection("Animation")
		CCAnimation.CreateSlider({Title = 'Tween Animation 1 Speed', Type = "Tween Animation 1 Speed", Min = 0, Max = 0.75, Default = 0.25, Precise = true})
		CCAnimation.CreateSlider({Title = 'Tween Animation 2 Speed', Type = "Tween Animation 2 Speed", Min = 0, Max = 1, Default = 0.5, Precise = true})
		CCAnimation.CreateSlider({Title = 'Tween Animation 3 Speed', Type = "Tween Animation 3 Speed", Min = 0, Max = 0.5, Default = 0.1, Precise = true})
	
		local Main_Function = {}
	
		local LayoutOrderBut = -1
		local LayoutOrder = -1
		local PageCounter = 1
	
		function Main_Function.CreatePage(Setting)
	
			local Page_Name = tostring(Setting.Page_Name) 
			local Page_Title = tostring(Setting.Page_Title)
	
			LayoutOrder = LayoutOrder + 1
			LayoutOrderBut = LayoutOrderBut + 1
	
			--Control 
			local PageName = Instance.new("Frame")
			local Frame = Instance.new("Frame")
			local TabNameCorner = Instance.new("UICorner")
			local Line = Instance.new("Frame")
			local InLine = Instance.new("Frame")
			local LineCorner = Instance.new("UICorner")
			local TabTitleContainer = Instance.new("Frame")
			local TabTitle = Instance.new("TextLabel")
			local PageButton = Instance.new("TextButton")
	
	
			PageName.Name = Page_Name.."_Control"
			PageName.Parent = ControlList
			PageName.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
			PageName.BackgroundTransparency = 1.000
			PageName.Size = UDim2.new(1, -10, 0, 25)
			PageName.LayoutOrder = LayoutOrderBut
	
			Frame.Parent = PageName
			Frame.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
			Frame.BackgroundTransparency = 1.000
			Frame.Position = UDim2.new(0, 5, 0, 0)
			Frame.Size = UDim2.new(1, -5, 1, 0)
	
			TabNameCorner.CornerRadius = UDim.new(0, 4)
			TabNameCorner.Name = "TabNameCorner"
			TabNameCorner.Parent = Frame
	
			Line.Name = "Line"
			Line.Parent = Frame
			Line.AnchorPoint = Vector2.new(0, 0.5)
			Line.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
			Line.BackgroundTransparency = 1.000
			Line.Position = UDim2.new(0, 0, 0.5, 0)
			Line.Size = UDim2.new(0, 14, 1, 0)
	
			InLine.Name = "PageInLine"
			InLine.Parent = Line
			InLine.AnchorPoint = Vector2.new(0.5, 0.5)
			InLine.BorderSizePixel = 0
			InLine.Position = UDim2.new(0.5, 0, 0.5, 0)
			InLine.Size = UDim2.new(1, -10, 0, 0)
			InLine.BackgroundColor3 = getgenv().UIColor["Page Selected Color"]
			table.insert(UpdateCallBack["Page Selected Color"],function() 
				InLine.BackgroundColor3 = getgenv().UIColor["Page Selected Color"]
			end)
	
			LineCorner.Name = "LineCorner"
			LineCorner.Parent = InLine
	
			TabTitleContainer.Name = "TabTitleContainer"
			TabTitleContainer.Parent = Frame
			TabTitleContainer.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
			TabTitleContainer.BackgroundTransparency = 1.000
			TabTitleContainer.Position = UDim2.new(0, 15, 0, 0)
			TabTitleContainer.Size = UDim2.new(1, -15, 1, 0)
	
			TabTitle.Name = "GUITextColor"
			TabTitle.Parent = TabTitleContainer
			TabTitle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
			TabTitle.BackgroundTransparency = 1.000
			TabTitle.Size = UDim2.new(1, 0, 1, 0)
			TabTitle.Font = Enum.Font.GothamBold
			TabTitle.Text = Page_Name
			TabTitle.TextColor3 = Color3.fromRGB(230, 230, 230)
			TabTitle.TextSize = 14.000
			TabTitle.TextXAlignment = Enum.TextXAlignment.Left
			TabTitle.TextColor3 = getgenv().UIColor["GUI Text Color"]
			table.insert(UpdateCallBack["GUI Text Color"],function() 
				TabTitle.TextColor3 = getgenv().UIColor["GUI Text Color"]
			end)
	
			PageButton.Name = "PageButton"
			PageButton.Parent = PageName
			PageButton.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
			PageButton.BackgroundTransparency = 1.000
			PageButton.Size = UDim2.new(1, 0, 1, 0)
			PageButton.Font = Enum.Font.SourceSans
			PageButton.Text = ""
			PageButton.TextColor3 = Color3.fromRGB(0, 0, 0)
			PageButton.TextSize = 14.000
	
			-- Container
	
			local PageContainer = Instance.new("Frame")
			local UICorner = Instance.new("UICorner")
			local PageTitle = Instance.new("TextLabel")
			local PageList = Instance.new("ScrollingFrame")
			local Pagelistlayout = Instance.new("UIListLayout")
	
			local CurrentPage = PageCounter
			PageCounter = PageCounter + 1
			PageContainer.Name = "Page" .. CurrentPage
			PageContainer.Parent = MainPage
			PageContainer.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
			PageContainer.Position = UDim2.new(0, 190, 0, 30)
			PageContainer.Size = UDim2.new(0, 435, 0, 325)
			PageContainer.LayoutOrder = LayoutOrder
			table.insert(UpdateCallBack["Background 1 Color"],function() 
				PageContainer.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
			end)
			PageContainer.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
			table.insert(UpdateCallBack["Background 1 Transparency"],function() 
				PageContainer.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
			end)
	
			UICorner.CornerRadius = UDim.new(0, 4)
			UICorner.Parent = PageContainer
	
			PageTitle.Name = "GUITextColor"
			PageTitle.Parent = PageContainer
			PageTitle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
			PageTitle.BackgroundTransparency = 1.000
			PageTitle.Position = UDim2.new(0, 5, 0, 0)
			PageTitle.Size = UDim2.new(1, 0, 0, 25)
			PageTitle.Font = Enum.Font.GothamBold
			PageTitle.Text = Page_Title
			PageTitle.TextSize = 16.000
			PageTitle.TextXAlignment = Enum.TextXAlignment.Left
			PageTitle.TextColor3 = getgenv().UIColor["GUI Text Color"]
			table.insert(UpdateCallBack["GUI Text Color"],function() 
				PageTitle.TextColor3 = getgenv().UIColor["GUI Text Color"]
			end)
	
			PageList.Name = "PageList"
			PageList.Parent = PageContainer
			PageList.Active = true
			PageList.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
			PageList.BackgroundTransparency = 1.000
			PageList.BorderColor3 = Color3.fromRGB(27, 42, 53)
			PageList.BorderSizePixel = 0
			PageList.Position = UDim2.new(0, 5, 0, 30)
			PageList.Size = UDim2.new(1, -10, 1, -30)
			PageList.BottomImage = "rbxasset://textures/ui/Scroll/scroll-middle.png"
			PageList.ScrollBarThickness = 5
			PageList.TopImage = "rbxasset://textures/ui/Scroll/scroll-middle.png"
	
			Pagelistlayout.Name = "Pagelistlayout"
			Pagelistlayout.Parent = PageList
			Pagelistlayout.SortOrder = Enum.SortOrder.LayoutOrder
			Pagelistlayout.Padding = UDim.new(0, 5)
			Pagelistlayout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
				PageList.CanvasSize = UDim2.new(0, 0, 0, Pagelistlayout.AbsoluteContentSize.Y + 5)
			end)
	
			local PageSearch = Instance.new("Frame")
			local PageSearchCorner = Instance.new("UICorner")
			local SearchFrame = Instance.new("Frame")
			local SearchIcon = Instance.new("ImageLabel")
			local active = Instance.new("TextButton")
			local Bucu = Instance.new("TextBox")
	
			PageSearch.Name = "Background2"
			PageSearch.Parent = PageContainer
			PageSearch.AnchorPoint = Vector2.new(1, 0)
			PageSearch.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
			PageSearch.Position = UDim2.new(1, -5, 0, 5)
			PageSearch.Size = UDim2.new(0, 20, 0, 20)
			PageSearch.ClipsDescendants = true
			table.insert(UpdateCallBack["Background 2 Color"],function() 
				PageSearch.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
			end)
	
			PageSearchCorner.CornerRadius = UDim.new(0, 2)
			PageSearchCorner.Name = "PageSearchCorner"
			PageSearchCorner.Parent = PageSearch
	
			SearchFrame.Name = "SearchFrame"
			SearchFrame.Parent = PageSearch
			SearchFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
			SearchFrame.BackgroundTransparency = 1.000
			SearchFrame.Size = UDim2.new(0, 20, 0, 20)
	
			SearchIcon.Name = "SearchIcon"
			SearchIcon.Parent = SearchFrame
			SearchIcon.AnchorPoint = Vector2.new(0.5, 0.5)
			SearchIcon.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
			SearchIcon.BackgroundTransparency = 1.000
			SearchIcon.Position = UDim2.new(0.5, 0, 0.5, 0)
			SearchIcon.Size = UDim2.new(0, 16, 0, 16)
			SearchIcon.Image = "rbxassetid://8154282545"
			SearchIcon.ImageColor3 = getgenv().UIColor["Search Icon Color"]
			table.insert(UpdateCallBack["Search Icon Color"],function() 
				SearchIcon.ImageColor3 = getgenv().UIColor["Search Icon Color"]
			end)
	
			active.Name = "active"
			active.Parent = SearchFrame
			active.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
			active.BackgroundTransparency = 1.000
			active.Size = UDim2.new(1, 0, 1, 0)
			active.Font = Enum.Font.SourceSans
			active.Text = ""
			active.TextColor3 = Color3.fromRGB(0, 0, 0)
			active.TextSize = 14.000
	
			Bucu.Name = "TextColorPlaceholder"
			Bucu.Parent = PageSearch
			Bucu.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
			Bucu.BackgroundTransparency = 1.000
			Bucu.Position = UDim2.new(0, 30, 0, 0)
			Bucu.Size = UDim2.new(1, -30, 1, 0)
			Bucu.Font = Enum.Font.GothamBold
			Bucu.Text = ""
			Bucu.TextSize = 14.000
			Bucu.TextXAlignment = Enum.TextXAlignment.Left
			Bucu.PlaceholderText = "Search Section name"
			Bucu.PlaceholderColor3 = getgenv().UIColor["Placeholder Text Color"]
			Bucu.TextColor3 = getgenv().UIColor["Text Color"]
			table.insert(UpdateCallBack["Placeholder Text Color"],function() 
				Bucu.PlaceholderColor3 = getgenv().UIColor["Placeholder Text Color"]
			end)
			table.insert(UpdateCallBack["Text Color"],function() 
				Bucu.TextColor3 = getgenv().UIColor["Text Color"]
			end)
			
			local cummmed = false 
	
			active.MouseEnter:Connect(function()
				TweenService:Create(SearchIcon,TweenInfo.new(getgenv().UIColor["Tween Animation 3 Speed"]),{ImageColor3 = getgenv().UIColor["Search Icon Highlight Color"]}):Play()
			end)
	
			active.MouseLeave:Connect(function()
				TweenService:Create(SearchIcon,TweenInfo.new(getgenv().UIColor["Tween Animation 3 Speed"]),{ImageColor3 = getgenv().UIColor["Search Icon Color"]}):Play()
			end)
	
			active.MouseButton1Click:Connect(function()
				Library_Function.ButtonEffect()
			end)
	
			Bucu.Focused:Connect(function()
				Library_Function.ButtonEffect()
			end)
	
			active.MouseButton1Click:Connect(function()
				cummmed = not cummmed
				local size = cummmed and UDim2.new(0,175,0,20) or  UDim2.new(0,20,0,20)
				game.TweenService:Create(PageSearch,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{Size = size}):Play()
			end)
	
			local function succac()
				for i,v in next, PageList:GetChildren() do 
					if not v:IsA('UIListLayout') then 
						v.Visible = false
					end
				end
			end
			
			local function ra()
				for a, b in pairs(PageList:GetChildren()) do
					if not b:IsA('UIListLayout') then 
						if string.find(string.lower(b.Name),string.lower(Bucu.Text)) then 
							b.Visible = true
						end
					end
				end
			end
			
			Bucu:GetPropertyChangedSignal("Text"):Connect(function()
				succac()
				ra()
			end)
	
			for i,v in pairs(ControlList:GetChildren()) do
				if not (v:IsA('UIListLayout')) then
					if i == 2 then 
						v.Frame.Line.PageInLine.Size = UDim2.new(1, -10, 1, -10)
						oldlay = v.LayoutOrder
						oldobj = v
					end
				end
			end
	
			PageButton.MouseButton1Click:Connect(function()
				spawn(function()
					Library_Function.ButtonEffect()
				end)
		  
				if tostring(UIPage.CurrentPage) == PageContainer.Name then 
					return
				end
	
				for i,v in pairs(MainPage:GetChildren()) do
					if not (v:IsA('UIPageLayout')) and not (v:IsA('UICorner')) then
						v.Visible = false
					end
				end
	
				PageContainer.Visible = true 
				UIPage:JumpTo(PageContainer)
	
				for i,v in next, ControlList:GetChildren() do
					if not (v:IsA('UIListLayout')) then
						if v.Name == Page_Name.."_Control" then 
							if v.LayoutOrder > oldlay  then 
								oldobj.Active = false 
								TweenService:Create(oldobj.Frame.Line.PageInLine,TweenInfo.new(getgenv().UIColor["Tween Animation 1 Speed"]),{Size = UDim2.new(1,-10,0,0),Position = UDim2.new(0.5, 0, 1, 0), AnchorPoint = Vector2.new(.5,1)}):Play()
								v.Frame.Line.PageInLine.Position = UDim2.new(0.5, 0, 0, 0)
								v.Frame.Line.PageInLine.AnchorPoint = Vector2.new(.5,0)
								wait(getgenv().UIColor["Tween Animation 1 Speed"])
								TweenService:Create(v.Frame.Line.PageInLine,TweenInfo.new(getgenv().UIColor["Tween Animation 1 Speed"]),{Size = UDim2.new(1,-10,1,-10),Position = UDim2.new(0.5, 0, .5, 0), AnchorPoint = Vector2.new(.5,.5)}):Play()
								v.Active = true
								oldobj = v
								oldlay = v.LayoutOrder
							else
								oldobj.Active = false 
								TweenService:Create(oldobj.Frame.Line.PageInLine,TweenInfo.new(getgenv().UIColor["Tween Animation 1 Speed"]),{Size = UDim2.new(1,-10,0,0),Position = UDim2.new(0.5, 0, 0, 0), AnchorPoint = Vector2.new(.5,0)}):Play()
								v.Frame.Line.PageInLine.Position = UDim2.new(0.5, 0, 1, 0)
								v.Frame.Line.PageInLine.AnchorPoint = Vector2.new(.5,1)
								wait(getgenv().UIColor["Tween Animation 1 Speed"])
								TweenService:Create(v.Frame.Line.PageInLine,TweenInfo.new(getgenv().UIColor["Tween Animation 1 Speed"]),{Size = UDim2.new(1,-10,1,-10),Position = UDim2.new(0.5, 0, .5, 0), AnchorPoint = Vector2.new(.5,.5)}):Play()
								v.Active = true
								oldobj = v
								oldlay = v.LayoutOrder
							end
	
						end
					end
				end
			end)
	
			local Page_Function = {}
	
				function Page_Function.CreateSection(Section_Name)
	
					local Section = Instance.new("Frame")
					local UICorner = Instance.new("UICorner")
					local Topsec = Instance.new("Frame")
					local Sectiontitle = Instance.new("TextLabel")
					local Linesec = Instance.new("Frame")
					local UIGradient = Instance.new("UIGradient")
					local SectionList = Instance.new("UIListLayout")
	
	
					Section.Name = Section_Name.."_Dot"
					Section.Parent = PageList
					Section.Size = UDim2.new(0, 415, 0, 100)
					Section.BackgroundColor3 = getgenv().UIColor["Background 3 Color"]
					table.insert(UpdateCallBack["Background 3 Color"],function() 
						Section.BackgroundColor3 = getgenv().UIColor["Background 3 Color"]
					end)
					Section.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
					table.insert(UpdateCallBack["Background 1 Transparency"],function() 
						Section.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
					end)
	
					UICorner.CornerRadius = UDim.new(0, 4)
					UICorner.Parent = Section
	
					Topsec.Name = "Topsec"
					Topsec.Parent = Section
					Topsec.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
					Topsec.BackgroundTransparency = 1.000
					Topsec.Size = UDim2.new(0, 415, 0, 30)
	
					Sectiontitle.Name = "Sectiontitle"
					Sectiontitle.Parent = Topsec
					Sectiontitle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
					Sectiontitle.BackgroundTransparency = 1.000
					Sectiontitle.Size = UDim2.new(1, 0, 1, 0)
					Sectiontitle.Font = Enum.Font.GothamBold
					Sectiontitle.Text = Section_Name
					Sectiontitle.TextSize = 14.000
					Sectiontitle.TextColor3 = getgenv().UIColor["Section Text Color"]
					table.insert(UpdateCallBack["Section Text Color"],function() 
						Sectiontitle.TextColor3 = getgenv().UIColor["Section Text Color"]
					end)
	
					Linesec.Name = "Linesec"
					Linesec.Parent = Topsec
					Linesec.AnchorPoint = Vector2.new(0.5, 1)
					Linesec.BorderSizePixel = 0
					Linesec.Position = UDim2.new(0.5, 0, 1, -2)
					Linesec.Size = UDim2.new(1, -10, 0, 2)
					Linesec.BackgroundColor3 = getgenv().UIColor["Section Underline Color"]
					table.insert(UpdateCallBack["Section Underline Color"],function() 
						Linesec.BackgroundColor3 = getgenv().UIColor["Section Underline Color"]
					end)
	
					UIGradient.Transparency = NumberSequence.new{NumberSequenceKeypoint.new(0.00, 1.00), NumberSequenceKeypoint.new(0.50, 0.00), NumberSequenceKeypoint.new(0.51, 0.02), NumberSequenceKeypoint.new(1.00, 1.00)}
					UIGradient.Parent = Linesec
	
					SectionList.Name = "SectionList"
					SectionList.Parent = Section
					SectionList.SortOrder = Enum.SortOrder.LayoutOrder
					SectionList.Padding = UDim.new(0, 5)
	
					SectionList:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
						Section.Size = UDim2.new(1, -5, 0, SectionList.AbsoluteContentSize.Y + 5)
					end)
	
					local Section_Function = {}
	
					   function Section_Function.CreateToggle(Setting, Callback)
	
							local Title = tostring(Setting.Title)
							local Desc = Setting.Desc
							local Default = Setting.Default
							local Callback = Callback or function() end
	
							local ToggleFrame = Instance.new("Frame")
							local TogFrame1 = Instance.new("Frame")
							local checkbox = Instance.new("ImageLabel")
							local check = Instance.new("ImageLabel")
							local ToggleDesc = Instance.new("TextLabel")
							local ToggleTitle = Instance.new("TextLabel")
							local ToggleBg = Instance.new("Frame")
							local ToggleCorner = Instance.new("UICorner")
							local ToggleButton = Instance.new("TextButton")
							local ToggleList = Instance.new("UIListLayout")
	
							ToggleFrame.Name = "ToggleFrame"
							ToggleFrame.Parent = Section
							ToggleFrame.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							ToggleFrame.BackgroundTransparency = 1.000
							ToggleFrame.Position = UDim2.new(0, 0, 0.300000012, 0)
							ToggleFrame.Size = UDim2.new(1, 0, 0, 0)
							ToggleFrame.AutomaticSize = Enum.AutomaticSize.Y
	
							TogFrame1.Name = "TogFrame1"
							TogFrame1.Parent = ToggleFrame
							TogFrame1.AnchorPoint = Vector2.new(0.5, 0.5)
							TogFrame1.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							TogFrame1.BackgroundTransparency = 1.000
							TogFrame1.Position = UDim2.new(0.5, 0, 0.5, 0)
							TogFrame1.Size = UDim2.new(1, -10, 0, 0)
							TogFrame1.AutomaticSize = Enum.AutomaticSize.Y
	
							checkbox.Name = "checkbox"
							checkbox.Parent = TogFrame1
							checkbox.AnchorPoint = Vector2.new(1, 0.5)
							checkbox.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							checkbox.BackgroundTransparency = 1.000
							checkbox.Position = UDim2.new(1, -5, 0.5, 3)
							checkbox.Size = UDim2.new(0, 25, 0, 25)
							checkbox.Image = "rbxassetid://4552505888"
							checkbox.ImageColor3 = getgenv().UIColor["Toggle Border Color"]
							table.insert(UpdateCallBack["Toggle Border Color"],function() 
								checkbox.ImageColor3 = getgenv().UIColor["Toggle Border Color"]
							end)
	
							check.Name = "check"
							check.Parent = checkbox
							check.AnchorPoint = Vector2.new(0, 1)
							check.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							check.BackgroundTransparency = 1.000
							check.Position = UDim2.new(0, 0, 1, 0)
							check.Image = "rbxassetid://4555411759"
							check.ImageColor3 = getgenv().UIColor["Toggle Checked Color"]
							table.insert(UpdateCallBack["Toggle Checked Color"],function() 
								check.ImageColor3 = getgenv().UIColor["Toggle Checked Color"]
							end)
	
							local cac = 5
							if Desc then
								cac = 0
								ToggleDesc.Name = "ToggleDesc"
								ToggleDesc.Parent = TogFrame1
								ToggleDesc.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
								ToggleDesc.BackgroundTransparency = 1.000
								ToggleDesc.Position = UDim2.new(0, 15, 0, 20)
								ToggleDesc.Size = UDim2.new(1, -50, 0, 0)
								ToggleDesc.Font = Enum.Font.GothamBlack
								ToggleDesc.Text = Desc
								ToggleDesc.TextSize = 13.000
								ToggleDesc.TextWrapped = true
								ToggleDesc.TextXAlignment = Enum.TextXAlignment.Left
								ToggleDesc.RichText = true
								ToggleDesc.AutomaticSize = Enum.AutomaticSize.Y
								ToggleDesc.TextColor3 = getgenv().UIColor["Toggle Desc Color"]
								table.insert(UpdateCallBack["Toggle Desc Color"],function() 
									ToggleDesc.TextColor3 = getgenv().UIColor["Toggle Desc Color"]
								end)
							else
								ToggleDesc.Text = ''
							end
	
							ToggleTitle.Name = "TextColor"
							ToggleTitle.Parent = TogFrame1
							ToggleTitle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							ToggleTitle.BackgroundTransparency = 1.000
							ToggleTitle.Position = UDim2.new(0, 10, 0, cac)
							ToggleTitle.Size = UDim2.new(1, -10, 0, 20)
							ToggleTitle.Font = Enum.Font.GothamBlack
							ToggleTitle.Text = Title
							ToggleTitle.TextSize = 14.000
							ToggleTitle.TextXAlignment = Enum.TextXAlignment.Left
							ToggleTitle.TextYAlignment = Enum.TextYAlignment.Center
							ToggleTitle.RichText = true
							ToggleTitle.AutomaticSize = Enum.AutomaticSize.Y
							ToggleTitle.TextColor3 = getgenv().UIColor["Text Color"]
							table.insert(UpdateCallBack["Text Color"],function() 
								ToggleTitle.TextColor3 = getgenv().UIColor["Text Color"]
							end)
	
							ToggleBg.Name = "Background1"
							ToggleBg.Parent = TogFrame1
							ToggleBg.Size = UDim2.new(1, 0, 1, 6)
							ToggleBg.ZIndex = 0
							ToggleBg.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
							table.insert(UpdateCallBack["Background 1 Color"],function() 
								ToggleBg.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
							end)
							ToggleBg.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							table.insert(UpdateCallBack["Background 1 Transparency"],function() 
								ToggleBg.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							end)
	
							ToggleCorner.CornerRadius = UDim.new(0, 4)
							ToggleCorner.Name = "ToggleCorner"
							ToggleCorner.Parent = ToggleBg
	
							ToggleButton.Name = "ToggleButton"
							ToggleButton.Parent = TogFrame1
							ToggleButton.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							ToggleButton.BackgroundTransparency = 1.000
							ToggleButton.Size = UDim2.new(1, 0, 1, 6)
							ToggleButton.Font = Enum.Font.SourceSans
							ToggleButton.Text = ""
							ToggleButton.TextColor3 = Color3.fromRGB(0, 0, 0)
							ToggleButton.TextSize = 14.000
	
							ToggleList.Name = "ToggleList"
							ToggleList.Parent = ToggleFrame
							ToggleList.HorizontalAlignment = Enum.HorizontalAlignment.Center
							ToggleList.SortOrder = Enum.SortOrder.LayoutOrder
							ToggleList.VerticalAlignment = Enum.VerticalAlignment.Center
							ToggleList.Padding = UDim.new(0, 5)
	
							local function ChangeStage(val)
	
								local csize = val and UDim2.new(1,-4,1,-4) or UDim2.new(0,0,0,0)
								local pos = val and UDim2.new(.5,0,.5,0) or UDim2.new(0,0,1,0)
								local apos = val and Vector2.new(.5,.5) or Vector2.new(0,1)
	
								game.TweenService:Create(check,TweenInfo.new(getgenv().UIColor["Tween Animation 1 Speed"]),{Size = csize, Position = pos, AnchorPoint = apos}):Play()
	
								Callback(val)
	
							end
	
							if Callback then ChangeStage(Default) end 
	
							ToggleButton.MouseButton1Click:Connect(function()
								Library_Function.ButtonEffect()
							end)
							local function ButtonClick() 
								Default = not Default
								ChangeStage(Default)
							end
							ToggleButton.MouseButton1Down:Connect(function()
								ButtonClick()
							end)
	
							local tog_func = {}
	
									function tog_func.SetStage(value)
										if value ~= Default then 
											ButtonClick()
										end
									end
	
							return tog_func
	
	
						end
	
						function Section_Function.CreateButton(Setting, Callback)
	
							local Title = Setting.Title
							local Callback = Callback or function() end
	
							local ButtonFrame = Instance.new("Frame")
							local ButtonBG = Instance.new("Frame")
							local ButtonCorner = Instance.new("UICorner")
							local ButtonTitle = Instance.new("TextLabel")
							local Button = Instance.new("TextButton")
	
							ButtonFrame.Name = Title..'dot'
							ButtonFrame.Parent = Section
							ButtonFrame.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							ButtonFrame.BackgroundTransparency = 1.000
							ButtonFrame.Position = UDim2.new(0, 0, 0.300000012, 0)
							ButtonFrame.Size = UDim2.new(1, 0, 0, 25)
	
							ButtonBG.Name = "ButtonBG"
							ButtonBG.Parent = ButtonFrame
							ButtonBG.AnchorPoint = Vector2.new(0.5, 0.5)
							ButtonBG.Position = UDim2.new(0.5, 0, 0.5, 0)
							ButtonBG.Size = UDim2.new(1, -10, 1, 0)
							ButtonBG.BackgroundColor3 = getgenv().UIColor["Button Color"]
							table.insert(UpdateCallBack["Button Color"],function() 
								ButtonBG.BackgroundColor3 = getgenv().UIColor["Button Color"]
							end)
							ButtonBG.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							table.insert(UpdateCallBack["Background 1 Transparency"],function() 
								ButtonBG.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							end)
	
							ButtonCorner.CornerRadius = UDim.new(0, 4)
							ButtonCorner.Name = "ButtonCorner"
							ButtonCorner.Parent = ButtonBG
	
							ButtonTitle.Name = "TextColor"
							ButtonTitle.Parent = ButtonBG
							ButtonTitle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							ButtonTitle.BackgroundTransparency = 1.000
							ButtonTitle.Position = UDim2.new(0, 10, 0, 0)
							ButtonTitle.Size = UDim2.new(1, -10, 1, 0)
							ButtonTitle.Font = Enum.Font.GothamBlack
							ButtonTitle.Text = Title
							ButtonTitle.TextSize = 14.000
							ButtonTitle.TextXAlignment = Enum.TextXAlignment.Left
							ButtonTitle.TextColor3 = getgenv().UIColor["Text Color"]
							table.insert(UpdateCallBack["Text Color"],function() 
								ButtonTitle.TextColor3 = getgenv().UIColor["Text Color"]
							end)
	
	
							Button.Name = "Button"
							Button.Parent = ButtonBG
							Button.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							Button.BackgroundTransparency = 1.000
							Button.Size = UDim2.new(1, 0, 1, 0)
							Button.Font = Enum.Font.SourceSans
							Button.Text = ""
							Button.TextColor3 = Color3.fromRGB(0, 0, 0)
							Button.TextSize = 14.000
	
							Button.MouseButton1Click:Connect(function()
								Library_Function.ButtonEffect()
							end)
	
							Button.MouseButton1Down:Connect(function()
								Callback()
							end)
	
						end
	
						function Section_Function.CreateLabel(Setting)
	
							local Title = tostring(Setting.Title)
	
							local LabelFrame = Instance.new("Frame")
							local LabelBG = Instance.new("Frame")
							local LabelCorner = Instance.new("UICorner")
							local LabelTitle = Instance.new("TextLabel")
	
							LabelFrame.Name = "LabelFrame"
							LabelFrame.Parent = Section
							LabelFrame.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							LabelFrame.BackgroundTransparency = 1.000
							LabelFrame.Position = UDim2.new(0, 0, 0, 0)
							LabelFrame.Size = UDim2.new(1, 0, 0, 0)
							LabelFrame.AutomaticSize = Enum.AutomaticSize.Y
	
							LabelBG.Name = "LabelBG"
							LabelBG.Parent = LabelFrame
							LabelBG.AnchorPoint = Vector2.new(0.5, 0)
							LabelBG.Position = UDim2.new(0.5, 0, 0, 0)
							LabelBG.Size = UDim2.new(1, -10, 0, -10)
							LabelBG.BackgroundColor3 = getgenv().UIColor["Label Color"]
							LabelBG.AutomaticSize = Enum.AutomaticSize.Y
							table.insert(UpdateCallBack["Label Color"],function() 
								LabelBG.BackgroundColor3 = getgenv().UIColor["Label Color"]
							end)
							LabelBG.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							table.insert(UpdateCallBack["Background 1 Transparency"],function() 
								LabelBG.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							end)
	
							LabelCorner.CornerRadius = UDim.new(0, 4)
							LabelCorner.Name = "LabelCorner"
							LabelCorner.Parent = LabelBG
	
							LabelTitle.Name = "TextColor"
							LabelTitle.Parent = LabelBG
							LabelTitle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							LabelTitle.BackgroundTransparency = 1.000
							LabelTitle.Position = UDim2.new(0, 10, 0, 3)
							LabelTitle.Size = UDim2.new(1, -20, 1, 0)
							LabelTitle.Font = Enum.Font.GothamBlack
							LabelTitle.Text = Title
							LabelTitle.TextSize = 14.000
							LabelTitle.TextXAlignment = Enum.TextXAlignment.Left
							LabelTitle.AutomaticSize = Enum.AutomaticSize.Y
							LabelTitle.TextWrapped = true
							LabelTitle.TextColor3 = getgenv().UIColor["Text Color"]
							table.insert(UpdateCallBack["Text Color"],function() 
								LabelTitle.TextColor3 = getgenv().UIColor["Text Color"]
							end)
	
							local label_func = {}
	
								function label_func.SetText(text)
									LabelTitle.Text = text
								end
	
								function label_func.SetColor(color)
									LabelTitle.TextColor3 = color
								end
	
							return label_func
						end
	
						function Section_Function.CreateDropdown(Setting, Callback)
	
							local Title = tostring(Setting.Title)
							local List = Setting.List
							local Search = Setting.Search or false
							local Selected = Setting.Selected or false
							local Default = Setting.Default
							local Callback = Callback or function() end
	
							local DropdownFrame = Instance.new("Frame")
							local Dropdownbg = Instance.new("Frame")
							local Dropdowncorner = Instance.new("UICorner")
							local Topdrop = Instance.new("Frame")
							local UICorner = Instance.new("UICorner")
							local ImgDrop = Instance.new("ImageLabel")
							local DropdownButton = Instance.new("TextButton")
							local Dropdownlisttt = Instance.new("Frame")
							local DropdownScroll = Instance.new("ScrollingFrame")
							local ScrollContainer = Instance.new("Frame")
							local ScrollContainerList = Instance.new("UIListLayout")
	
	
							local Dropdowntitle; 
							if Search then 
								Dropdowntitle = Instance.new("TextBox")
								DropdownButton.Visible = false
							else
								Dropdowntitle = Instance.new("TextLabel")
							end
	
	
							DropdownFrame.Name = Title.."DropdownFrame"
							DropdownFrame.Parent = Section
							DropdownFrame.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							DropdownFrame.BackgroundTransparency = 1.000
							DropdownFrame.Position = UDim2.new(0, 0, 0.473684222, 0)
							DropdownFrame.Size = UDim2.new(1, 0, 0, 25)
	
							Dropdownbg.Name = "Background1"
							Dropdownbg.Parent = DropdownFrame
							Dropdownbg.AnchorPoint = Vector2.new(0.5, 0.5)
							Dropdownbg.Position = UDim2.new(0.5, 0, 0.5, 0)
							Dropdownbg.Size = UDim2.new(1, -10, 1, 0)
							Dropdownbg.ClipsDescendants = true
							Dropdownbg.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
							table.insert(UpdateCallBack["Background 1 Color"],function() 
								Dropdownbg.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
							end)
							Dropdownbg.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							table.insert(UpdateCallBack["Background 1 Transparency"],function() 
								Dropdownbg.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							end)
	
							Dropdowncorner.CornerRadius = UDim.new(0, 4)
							Dropdowncorner.Name = "Dropdowncorner"
							Dropdowncorner.Parent = Dropdownbg
	
							Topdrop.Name = "Background2"
							Topdrop.Parent = Dropdownbg
							Topdrop.Size = UDim2.new(1, 0, 0, 25)
							Topdrop.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
							table.insert(UpdateCallBack["Background 2 Color"],function() 
								Topdrop.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
							end)
							Topdrop.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							table.insert(UpdateCallBack["Background 1 Transparency"],function() 
								Topdrop.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							end)
	
	
							UICorner.CornerRadius = UDim.new(0, 4)
							UICorner.Parent = Topdrop
	
							Dropdowntitle.Name = "TextColorPlaceholder"
							Dropdowntitle.Parent = Topdrop
							Dropdowntitle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							Dropdowntitle.BackgroundTransparency = 1.000
							Dropdowntitle.Position = UDim2.new(0, 10, 0, 0)
							Dropdowntitle.Size = UDim2.new(1, -40, 1, 0)
							Dropdowntitle.Font = Enum.Font.GothamBlack
							Dropdowntitle.Text = ''
							Dropdowntitle.TextSize = 14.000
							Dropdowntitle.TextXAlignment = Enum.TextXAlignment.Left
							Dropdowntitle.ClipsDescendants = true
							local Sel = Instance.new("IntValue",Dropdowntitle)
							Sel.Value=-1
							if Default and table.find(List,Default) then 
								Sel.Value=table.find(List,Default)
							end
							if not Selected then
								if Search then
									Dropdowntitle.PlaceholderColor3 = getgenv().UIColor["Placeholder Text Color"]
									Dropdowntitle.PlaceholderText = Title..': '..tostring(Default); 
									table.insert(UpdateCallBack["Placeholder Text Color"],function() 
										Dropdowntitle.PlaceholderColor3 = getgenv().UIColor["Placeholder Text Color"]
									end)
								else
									Dropdowntitle.Text = Title..': '..tostring(Default); 
								end
							else
								if Search then
									Dropdowntitle.PlaceholderColor3 = getgenv().UIColor["Placeholder Text Color"]
									Dropdowntitle.PlaceholderText = Title..': '..tostring(Default); 
									table.insert(UpdateCallBack["Placeholder Text Color"],function() 
										Dropdowntitle.PlaceholderColor3 = getgenv().UIColor["Placeholder Text Color"]
									end)
								else
									Dropdowntitle.Text = Title..': '..tostring(Default); 
								end
							end
							Dropdowntitle.TextColor3 = getgenv().UIColor["Text Color"]
							table.insert(UpdateCallBack["Text Color"],function() 
								Dropdowntitle.TextColor3 = getgenv().UIColor["Text Color"]
							end)
	
							ImgDrop.Name = "ImgDrop"
							ImgDrop.Parent = Topdrop
							ImgDrop.AnchorPoint = Vector2.new(1, 0.5)
							ImgDrop.BackgroundTransparency = 1.000
							ImgDrop.BorderColor3 = Color3.fromRGB(27, 42, 53)
							ImgDrop.Position = UDim2.new(1, -6, 0.5, 0)
							ImgDrop.Size = UDim2.new(0, 15, 0, 15)
							ImgDrop.Image = "rbxassetid://6954383209"
							ImgDrop.ImageColor3 = getgenv().UIColor["Dropdown Icon Color"]
							table.insert(UpdateCallBack["Dropdown Icon Color"],function() 
								ImgDrop.ImageColor3 = getgenv().UIColor["Dropdown Icon Color"]
							end)
	
							DropdownButton.Name = "DropdownButton"
							DropdownButton.Parent = Topdrop
							DropdownButton.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							DropdownButton.BackgroundTransparency = 1.000
							DropdownButton.Size = UDim2.new(1, 0, 1, 0)
							DropdownButton.Font = Enum.Font.GothamBold
							DropdownButton.Text = ""
							DropdownButton.TextColor3 = Color3.fromRGB(230, 230, 230)
							DropdownButton.TextSize = 14.000
	
							Dropdownlisttt.Name = "Dropdownlisttt"
							Dropdownlisttt.Parent = Dropdownbg
							Dropdownlisttt.BackgroundTransparency = 1.000
							Dropdownlisttt.BorderSizePixel = 0
							Dropdownlisttt.Position = UDim2.new(0, 0, 0, 25)
							Dropdownlisttt.Size = UDim2.new(1, 0, 0, 25)
							Dropdownlisttt.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
	
							DropdownScroll.Name = "DropdownScroll"
							DropdownScroll.Parent = Dropdownlisttt
							DropdownScroll.Active = true
							DropdownScroll.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							DropdownScroll.BackgroundTransparency = 1.000
							DropdownScroll.BorderSizePixel = 0
							DropdownScroll.Size = UDim2.new(1, 0, 1, 0)
							DropdownScroll.BottomImage = "rbxasset://textures/ui/Scroll/scroll-middle.png"
							DropdownScroll.CanvasSize = UDim2.new(0, 0, 0, 0)
							DropdownScroll.ScrollBarThickness = 5
							DropdownScroll.TopImage = "rbxasset://textures/ui/Scroll/scroll-middle.png"
	
							ScrollContainer.Name = "ScrollContainer"
							ScrollContainer.Parent = DropdownScroll
							ScrollContainer.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							ScrollContainer.BackgroundTransparency = 1.000
							ScrollContainer.Position = UDim2.new(0, 5, 0, 5)
							ScrollContainer.Size = UDim2.new(1, -15, 1, -5)
	
							ScrollContainerList.Name = "ScrollContainerList"
							ScrollContainerList.Parent = ScrollContainer
							ScrollContainerList.SortOrder = Enum.SortOrder.LayoutOrder
	
							ScrollContainerList:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
								DropdownScroll.CanvasSize = UDim2.new(0, 0, 0, 10 + ScrollContainerList.AbsoluteContentSize.Y + 5)
							end)
	
							local isbusy = false
	
							local found = {}
	
							local searchtable = {}
							
							local function edit()
								for i in pairs(found) do
									found[i] = nil
								end
								for h, l in pairs(ScrollContainer:GetChildren()) do
									if not l:IsA("UIListLayout") and not l:IsA("UIPadding") and not l:IsA('UIGridLayout') then
										l.Visible = false
									end
								end
								Dropdowntitle.Text = string.lower(Dropdowntitle.Text)
							end
	
							local function SearchDropdown()
								local Results = {}
								for i, v in pairs(searchtable) do
									if string.find(v, Dropdowntitle.Text) then
										table.insert(found, v)
									end
								end
								for a, b in pairs(ScrollContainer:GetChildren()) do
									for c, d in pairs(found) do
										if d == b.Name then
											b.Visible = true
										end
									end
								end
							end
	
							local function clear_object_in_list()
								for i,v in next, ScrollContainer:GetChildren() do 
									if v:IsA('Frame') then 
										v:Destroy()
									end
								end
							end
	
							local ListNew = List
							
							local function refreshlist()
								clear_object_in_list()
	
								searchtable = {}
								
								for i, v in pairs(ListNew) do
									if not Selected then 
									table.insert(searchtable, string.lower(v))
									else 
										table.insert(searchtable, string.lower(i))
									end 
								end
	
								if not Selected then 
									for i,v in pairs (ListNew) do
										local Dropval = Instance.new("Frame")
										local DropvalCorner = Instance.new("UICorner")
										local Line = Instance.new("Frame")
										local InLine = Instance.new("Frame")
										local LineCorner = Instance.new("UICorner")
										local Dropvalcontainer = Instance.new("Frame")
										local Dropvalbutton = Instance.new("TextButton")
	
										Dropval.Name = string.lower(v)
										Dropval.Parent = ScrollContainer
										Dropval.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
										Dropval.BackgroundTransparency = 1.000
										Dropval.Size = UDim2.new(1, 0, 0, 25)
	
										DropvalCorner.CornerRadius = UDim.new(0, 4)
										DropvalCorner.Name = "DropvalCorner"
										DropvalCorner.Parent = Dropval
	
										Line.Name = "Line"
										Line.Parent = Dropval
										Line.AnchorPoint = Vector2.new(0, 0.5)
										Line.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
										Line.BackgroundTransparency = 1.000
										Line.Position = UDim2.new(0, 0, 0.5, 0)
										Line.Size = UDim2.new(0, 14, 1, 0)
	
										InLine.Name = "InLine"
										InLine.Parent = Line
										InLine.AnchorPoint = Vector2.new(0.5, 0.5)
										InLine.BorderSizePixel = 0
										InLine.Position = UDim2.new(0.5, 0, 0.5, 0)
										InLine.Size = UDim2.new(1, -10, 1, -10)
										InLine.BackgroundTransparency = 1
										InLine.BackgroundColor3 = getgenv().UIColor["Dropdown Selected Color"]
										table.insert(UpdateCallBack["Dropdown Selected Color"],function() 
											InLine.BackgroundColor3 = getgenv().UIColor["Dropdown Selected Color"]
										end)
	
										LineCorner.Name = "LineCorner"
										LineCorner.Parent = InLine
	
										Dropvalcontainer.Name = "Dropvalcontainer"
										Dropvalcontainer.Parent = Dropval
										Dropvalcontainer.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
										Dropvalcontainer.BackgroundTransparency = 1.000
										Dropvalcontainer.Position = UDim2.new(0, 15, 0, 0)
										Dropvalcontainer.Size = UDim2.new(1, -15, 1, 0)
	
										Dropvalbutton.Name = "TextColor"
										Dropvalbutton.Parent = Dropvalcontainer
										Dropvalbutton.Active = false
										Dropvalbutton.BackgroundTransparency = 1.000
										Dropvalbutton.Selectable = false
										Dropvalbutton.Size = UDim2.new(1, 0, 1, 0)
										Dropvalbutton.Font = Enum.Font.GothamBold
										Dropvalbutton.Text = v
										Dropvalbutton.TextSize = 14.000
										Dropvalbutton.TextWrapped = true
										Dropvalbutton.TextXAlignment = Enum.TextXAlignment.Left
										Dropvalbutton.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
										Dropvalbutton.TextColor3 = getgenv().UIColor["Text Color"]
										table.insert(UpdateCallBack["Text Color"],function() 
											Dropvalbutton.TextColor3 = getgenv().UIColor["Text Color"]
										end)
										
										if Search then
											if Sel.Value == i then
												InLine.BackgroundTransparency = 0;
											end
										else
											if Sel.Value == i then
												InLine.BackgroundTransparency = 0;
											end
										end
	
										Dropvalbutton.MouseButton1Click:Connect(function()
					
											if Search then
												Dropdowntitle.PlaceholderText = Title..': '..v
												Sel.Value=i
											   
											else
												Dropdowntitle.Text = Title..': '..v
												Sel.Value=i
											  
											end
	
	
											refreshlist()
											if Callback then 
												Callback(v,i)
											end
	
										end)
	
										Dropvalbutton.MouseButton1Click:Connect(function()
											Library_Function.ButtonEffect()
										end)
	
									end
	
								else
	
									for i,v in pairs (ListNew) do
												
										local linetran = v and 0 or 1
	
										local Dropval = Instance.new("Frame")
										local DropvalCorner = Instance.new("UICorner")
										local Line = Instance.new("Frame")
										local InLine = Instance.new("Frame")
										local LineCorner = Instance.new("UICorner")
										local Dropvalcontainer = Instance.new("Frame")
										local Dropvalbutton = Instance.new("TextButton")
	
										Dropval.Name = string.lower(i)
										Dropval.Parent = ScrollContainer
										Dropval.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
										Dropval.BackgroundTransparency = 1.000
										Dropval.Size = UDim2.new(1, 0, 0, 25)
	
										DropvalCorner.CornerRadius = UDim.new(0, 4)
										DropvalCorner.Name = "DropvalCorner"
										DropvalCorner.Parent = Dropval
	
										Line.Name = "Line"
										Line.Parent = Dropval
										Line.AnchorPoint = Vector2.new(0, 0.5)
										Line.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
										Line.BackgroundTransparency = 1
										Line.Position = UDim2.new(0, 0, 0.5, 0)
										Line.Size = UDim2.new(0, 14, 1, 0)
	
										InLine.Name = "InLine"
										InLine.Parent = Line
										InLine.AnchorPoint = Vector2.new(0.5, 0.5)
										InLine.BorderSizePixel = 0
										InLine.Position = UDim2.new(0.5, 0, 0.5, 0)
										InLine.Size = UDim2.new(1, -10, 1, -10)
										InLine.BackgroundTransparency = linetran
										InLine.BackgroundColor3 = getgenv().UIColor["Dropdown Selected Color"]
										table.insert(UpdateCallBack["Dropdown Selected Color"],function() 
											InLine.BackgroundColor3 = getgenv().UIColor["Dropdown Selected Color"]
										end)
	
										LineCorner.Name = "LineCorner"
										LineCorner.Parent = InLine
	
										Dropvalcontainer.Name = "Dropvalcontainer"
										Dropvalcontainer.Parent = Dropval
										Dropvalcontainer.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
										Dropvalcontainer.BackgroundTransparency = 1.000
										Dropvalcontainer.Position = UDim2.new(0, 15, 0, 0)
										Dropvalcontainer.Size = UDim2.new(1, -15, 1, 0)
	
										Dropvalbutton.Name = "TextColor"
										Dropvalbutton.Parent = Dropvalcontainer
										Dropvalbutton.Active = false
										Dropvalbutton.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
										Dropvalbutton.BackgroundTransparency = 1.000
										Dropvalbutton.Selectable = false
										Dropvalbutton.Size = UDim2.new(1, 0, 1, 0)
										Dropvalbutton.Font = Enum.Font.GothamBold
										Dropvalbutton.Text = i
										Dropvalbutton.TextSize = 14.000
										Dropvalbutton.TextWrapped = true
										Dropvalbutton.TextXAlignment = Enum.TextXAlignment.Left
										Dropvalbutton.TextColor3 = getgenv().UIColor["Text Color"]
										table.insert(UpdateCallBack["Text Color"],function() 
											Dropvalbutton.TextColor3 = getgenv().UIColor["Text Color"]
										end)
	
										Dropvalbutton.MouseButton1Click:Connect(function()
											Library_Function.ButtonEffect()
										end)
										
										Dropvalbutton.MouseButton1Click:Connect(function()
											v = not v 
	
											local linetran = v and 0 or 1
	
											TweenService:Create(InLine,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{BackgroundTransparency = linetran}):Play()
	
											if Callback then
												Callback(i,v)
												ListNew[i] = v
											end
										end)
	
									end
	
	
								end
	
							end
	
							if Search then
								Dropdowntitle.Changed:Connect(function()
									edit()
									SearchDropdown()
								end)
							end
	
							if typeof(Default) ~= 'table' then
								Callback(Default)
								if Search then
									Dropdowntitle.PlaceholderText = Title..': '..tostring(Default)
								else
									Dropdowntitle.Text = Title..': '..tostring(Default)
								end
							elseif Selected then
								for i,v in next, Default do
									ListNew[i] = v
									Callback(i,v)
								end
								Dropdowntitle.Text = ''
								Dropdowntitle.PlaceholderText = Title..': '
							end
	
							DropdownButton.MouseButton1Click:Connect(function()
								refreshlist()
								isbusy = not isbusy
								local listsize = isbusy and UDim2.new(1, 0,0, 170) or UDim2.new(1, 0,0, 0)
								local mainsize = isbusy and UDim2.new(1, 0,0, 200) or UDim2.new(1, 0,0, 25)
								local DropCRotation = isbusy and 90 or 0
	
								TweenService:Create(Dropdownlisttt,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{Size = listsize}):Play()
								TweenService:Create(DropdownFrame,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{Size = mainsize}):Play()
								TweenService:Create(ImgDrop,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{Rotation = DropCRotation}):Play()
	
							end)
	
							DropdownButton.MouseButton1Click:Connect(function()
								Library_Function.ButtonEffect()
							end)
	
							if Search then
								Dropdowntitle.Focused:Connect(function()
									refreshlist()
									isbusy = not isbusy
									local listsize = isbusy and UDim2.new(1, 0,0, 170) or UDim2.new(1, 0,0, 0)
									local mainsize = isbusy and UDim2.new(1, 0,0, 200) or UDim2.new(1, 0,0, 25)
									local DropCRotation = isbusy and 90 or 0
		
									TweenService:Create(Dropdownlisttt,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{Size = listsize}):Play()
									TweenService:Create(DropdownFrame,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{Size = mainsize}):Play()
									TweenService:Create(ImgDrop,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{Rotation = DropCRotation}):Play()
		
								end)
		
								Dropdowntitle.Focused:Connect(function()
									Library_Function.ButtonEffect()
								end)
							end
	
							local dropdown_function = {rf=refreshlist}
	
							function dropdown_function:ClearText()
								if not Selected then
									if Search then
										Dropdowntitle.PlaceholderText = Title..': '
									else
										Dropdowntitle.Text = Title..': ' 
									end
								else
									Dropdowntitle.Text = Title..': '
								end
							end
	
							function dropdown_function:GetNewList(List)
								refreshlist()
								isbusy = false
								local listsize = isbusy and UDim2.new(1, 0,0, 170) or UDim2.new(1, 0,0, 0)
								local mainsize = isbusy and UDim2.new(1, 0,0, 200) or UDim2.new(1, 0,0, 25)
								local DropCRotation = isbusy and 90 or 0
	
								TweenService:Create(Dropdownlisttt,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{Size = listsize}):Play()
								TweenService:Create(DropdownFrame,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{Size = mainsize}):Play()
								TweenService:Create(ImgDrop,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{Rotation = DropCRotation}):Play()
								
								ListNew = {}
								ListNew = List
	
								for i,v in next, ListNew do
									if Selected then
										Callback(i,v)
									end
								end
	
							end
							
							return dropdown_function
	
						end
	
						function Section_Function.CreateBind(Setting, Callback)
	
							local TitleText = tostring(Setting.Title) or ""
							local KeyCode = Setting.Key
							local Default = Setting.Default or Setting.Key
							local Type = tostring(Default):match("UserInputType") and "UserInputType" or "KeyCode"
							local Callback = Callback or function() end
							
							KeyCode = tostring(KeyCode):gsub("Enum.UserInputType.", "")
							KeyCode = tostring(KeyCode):gsub("Enum.KeyCode.", "")
	
							local BindFrame = Instance.new("Frame")
							local BindCorner = Instance.new("UICorner")
							local BindBG = Instance.new("Frame")
							local ButtonCorner = Instance.new("UICorner")
							local BindButtonTitle = Instance.new("TextLabel")
							local Button = Instance.new("TextButton")
							local BindCor = Instance.new("Frame")
							local ButtonCorner_2 = Instance.new("UICorner")
							local Bindkey = Instance.new("TextButton")
	
							BindFrame.Name = TitleText.."bguvl"
							BindFrame.Parent = Section
							BindFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
							BindFrame.BackgroundTransparency = 1.000
							BindFrame.Position = UDim2.new(0, 0, 0.208333328, 0)
							BindFrame.Size = UDim2.new(1, 0, 0, 35)
	
							BindCorner.CornerRadius = UDim.new(0, 4)
							BindCorner.Name = "BindCorner"
							BindCorner.Parent = BindFrame
	
							BindBG.Name = "Background1"
							BindBG.Parent = BindFrame
							BindBG.AnchorPoint = Vector2.new(0.5, 0.5)
							BindBG.Position = UDim2.new(0.5, 0, 0.5, 0)
							BindBG.Size = UDim2.new(1, -10, 1, 0)
							BindBG.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
							table.insert(UpdateCallBack["Background 1 Color"],function() 
								BindBG.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
							end)
							BindBG.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							table.insert(UpdateCallBack["Background 1 Transparency"],function() 
								BindBG.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							end)
	
							ButtonCorner.CornerRadius = UDim.new(0, 4)
							ButtonCorner.Name = "ButtonCorner"
							ButtonCorner.Parent = BindBG
	
							BindButtonTitle.Name = "TextColor"
							BindButtonTitle.Parent = BindBG
							BindButtonTitle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							BindButtonTitle.BackgroundTransparency = 1.000
							BindButtonTitle.Position = UDim2.new(0, 10, 0, 0)
							BindButtonTitle.Size = UDim2.new(1, -10, 1, 0)
							BindButtonTitle.Font = Enum.Font.GothamBlack
							BindButtonTitle.Text = TitleText
							BindButtonTitle.TextSize = 14.000
							BindButtonTitle.TextXAlignment = Enum.TextXAlignment.Left
							BindButtonTitle.TextColor3 = getgenv().UIColor["Text Color"]
							table.insert(UpdateCallBack["Text Color"],function() 
								BindButtonTitle.TextColor3 = getgenv().UIColor["Text Color"]
							end)
	
							BindCor.Name = "Background2"
							BindCor.Parent = BindBG
							BindCor.AnchorPoint = Vector2.new(1, 0.5)
							BindCor.Position = UDim2.new(1, -5, 0.5, 0)
							BindCor.Size = UDim2.new(0, 150, 0, 25)
							BindCor.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
							table.insert(UpdateCallBack["Background 2 Color"],function() 
								BindCor.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
							end)
	
							ButtonCorner_2.CornerRadius = UDim.new(0, 4)
							ButtonCorner_2.Name = "ButtonCorner"
							ButtonCorner_2.Parent = BindCor
	
							Bindkey.Name = "Bindkey"
							Bindkey.Parent = BindCor
							Bindkey.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							Bindkey.BackgroundTransparency = 1.000
							Bindkey.Size = UDim2.new(1, 0, 1, 0)
							Bindkey.Font = Enum.Font.GothamBold
							Bindkey.Text = tostring(Default):gsub("Enum.KeyCode.", "");
							Bindkey.TextSize = 14.000
							Bindkey.TextColor3 = getgenv().UIColor["Text Color"]
							table.insert(UpdateCallBack["Text Color"],function() 
								Bindkey.TextColor3 = getgenv().UIColor["Text Color"]
							end)
	
							local WhitelistedType = {
								[Enum.UserInputType.MouseButton1] = "Mouse1";
								[Enum.UserInputType.MouseButton2] = "Mouse2";
								[Enum.UserInputType.MouseButton3] = "Mouse3";
							};
	
							Bindkey.MouseButton1Click:Connect(function()
								Library_Function.ButtonEffect()
							end)
			
							Bindkey.MouseButton1Click:Connect(function()
								local Connection;
			
								Bindkey.Text = "...";
			
								Connection = game:GetService("UserInputService").InputBegan:Connect(function(i)
									if WhitelistedType[i.UserInputType] then
										Bindkey.Text = WhitelistedType[i.UserInputType];
										spawn(function()
											wait(0.1)
											Default = i.UserInputType;
											Type = "UserInputType";
										end);
									elseif i.KeyCode ~= Enum.KeyCode.Unknown then
										Bindkey.Text = tostring(i.KeyCode):gsub("Enum.KeyCode.", "");
										spawn(function()
											wait(0.1)
											Default = i.KeyCode;
											Type = "KeyCode";
										end);
									end;
			
			
									Connection:Disconnect();
								end);
							end);
			
							game:GetService("UserInputService").InputBegan:Connect(function(i)
								if (Default == i.UserInputType or Default == i.KeyCode) then
									Callback(Default);
								end;
							end);
							
						end
	
						function Section_Function.CreateBox(Setting, Callback)
	
							local TitleText = tostring(Setting.Title) or ""
							local Placeholder = tostring(Setting.Placeholder) or ""
							local Default = Setting.Default or false
							local Number_Only = Setting.Number or false 
							local Callback = Callback or function() end
	
							local BoxFrame = Instance.new("Frame")
							local BoxCorner = Instance.new("UICorner")
							local BoxBG = Instance.new("Frame")
							local ButtonCorner = Instance.new("UICorner")
							local Boxtitle = Instance.new("TextLabel")
							local BoxCor = Instance.new("Frame")
							local ButtonCorner_2 = Instance.new("UICorner")
							local Boxxx = Instance.new("TextBox")
							local Lineeeee = Instance.new("Frame")
							local UICorner = Instance.new("UICorner")
	
							BoxFrame.Name = "BoxFrame"
							BoxFrame.Parent = Section
							BoxFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
							BoxFrame.BackgroundTransparency = 1.000
							BoxFrame.Position = UDim2.new(0, 0, 0.208333328, 0)
							BoxFrame.Size = UDim2.new(1, 0, 0, 60)
	
							BoxCorner.CornerRadius = UDim.new(0, 4)
							BoxCorner.Name = "BoxCorner"
							BoxCorner.Parent = BoxFrame
	
							BoxBG.Name = "Background1"
							BoxBG.Parent = BoxFrame
							BoxBG.AnchorPoint = Vector2.new(0.5, 0.5)
							BoxBG.Position = UDim2.new(0.5, 0, 0.5, 0)
							BoxBG.Size = UDim2.new(1, -10, 1, 0)
							BoxBG.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
							table.insert(UpdateCallBack["Background 1 Color"],function() 
								BoxBG.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
							end)
							BoxBG.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							table.insert(UpdateCallBack["Background 1 Transparency"],function() 
								BoxBG.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							end)
	
							ButtonCorner.CornerRadius = UDim.new(0, 4)
							ButtonCorner.Name = "ButtonCorner"
							ButtonCorner.Parent = BoxBG
	
							Boxtitle.Name = "TextColor"
							Boxtitle.Parent = BoxBG
							Boxtitle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							Boxtitle.BackgroundTransparency = 1.000
							Boxtitle.Position = UDim2.new(0, 10, 0, 0)
							Boxtitle.Size = UDim2.new(1, -10, 0.5, 0)
							Boxtitle.Font = Enum.Font.GothamBlack
							Boxtitle.Text = TitleText
							Boxtitle.TextSize = 14.000
							Boxtitle.TextXAlignment = Enum.TextXAlignment.Left
							Boxtitle.TextColor3 = getgenv().UIColor["Text Color"]
							table.insert(UpdateCallBack["Text Color"],function() 
								Boxtitle.TextColor3 = getgenv().UIColor["Text Color"]
							end)
	
							BoxCor.Name = "Background2"
							BoxCor.Parent = BoxBG
							BoxCor.AnchorPoint = Vector2.new(1, 0.5)
							BoxCor.ClipsDescendants = true
							BoxCor.Position = UDim2.new(1, -5, 0, 40)
							BoxCor.Size = UDim2.new(1, -10, 0, 25)
							BoxCor.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
							table.insert(UpdateCallBack["Background 2 Color"],function() 
								BoxCor.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
							end)
	
							ButtonCorner_2.CornerRadius = UDim.new(0, 4)
							ButtonCorner_2.Name = "ButtonCorner"
							ButtonCorner_2.Parent = BoxCor
	
							Boxxx.Name = "TextColorPlaceholder"
							Boxxx.Parent = BoxCor
							Boxxx.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							Boxxx.BackgroundTransparency = 1.000
							Boxxx.Position = UDim2.new(0, 5, 0, 0)
							Boxxx.Size = UDim2.new(1, -5, 1, 0)
							Boxxx.Font = Enum.Font.GothamBold
							Boxxx.PlaceholderText = Placeholder
							Boxxx.Text = ""
							Boxxx.TextSize = 14.000
							Boxxx.TextXAlignment = Enum.TextXAlignment.Left
							Boxxx.PlaceholderColor3 = getgenv().UIColor["Placeholder Text Color"]
							Boxxx.TextColor3 = getgenv().UIColor["Text Color"]
							table.insert(UpdateCallBack["Placeholder Text Color"],function() 
								Boxxx.PlaceholderColor3 = getgenv().UIColor["Placeholder Text Color"]
							end)
							table.insert(UpdateCallBack["Text Color"],function() 
								Boxxx.TextColor3 = getgenv().UIColor["Text Color"]
							end)
	
							Lineeeee.Name = "TextNSBoxLineeeee"
							Lineeeee.Parent = BoxCor
							Lineeeee.BackgroundTransparency = 1.000
							Lineeeee.Position = UDim2.new(0, 0, 1, -2)
							Lineeeee.Size = UDim2.new(1, 0, 0, 6)
							Lineeeee.BackgroundColor3 = getgenv().UIColor["Box Highlight Color"]
							table.insert(UpdateCallBack["Box Highlight Color"],function() 
								Lineeeee.BackgroundColor3 = getgenv().UIColor["Box Highlight Color"]
							end)
							
	
							UICorner.CornerRadius = UDim.new(1, 0)
							UICorner.Parent = Lineeeee
	
							Boxxx.Focused:Connect(function() 
								TweenService:Create(Lineeeee,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{BackgroundTransparency = 0}):Play()
							end)
	
							Boxxx.Focused:Connect(function() 
						
								Library_Function.ButtonEffect()
	
							end)
	
							if Number_Only then 
								Boxxx:GetPropertyChangedSignal("Text"):Connect(function()
									if tonumber(Boxxx.Text) then 
									else 
										Boxxx.PlaceholderText = Placeholder
										Boxxx.Text = ''
									end
								end)
							end
	
							Boxxx.FocusLost:Connect(function()
								TweenService:Create(Lineeeee,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{BackgroundTransparency = 1}):Play()
								if Boxxx.Text ~= '' then
									Callback(Boxxx.Text)
								end
							end)
	
							local textbox_function = {}
	
							if Default then
								Boxxx.Text = Default
								Callback(Default)
							end
	
							function textbox_function.SetValue(Value)
								Boxxx.Text = Value
								Callback(Value)
							end 
	
							return textbox_function;
	
	
						end
	
						function Section_Function.CreateSlider(Setting, Callback)
							
							local TitleText = tostring(Setting.Title) or ""
							local Min_Value = tonumber(Setting.Min) or 0
							local Max_Value = tonumber(Setting.Max) or 100
							local Precise = Setting.Precise or false
							local DefaultValue = tonumber(Setting.Default) or 0
							local Callback = Callback or function() end
	
							local SizeChia = 400;
	
							local Callback = Callback or function() end
	
							local SliderFrame = Instance.new("Frame")
							local SliderCorner = Instance.new("UICorner")
							local SliderBG = Instance.new("Frame")
							local SliderBGCorner = Instance.new("UICorner")
							local SliderTitle = Instance.new("TextLabel")
							local SliderBar = Instance.new("Frame")
							local SliderButton = Instance.new("TextButton")
							local SliderBarCorner = Instance.new("UICorner")
							local Bar = Instance.new("Frame")
							local BarCorner = Instance.new("UICorner")
							local Sliderboxframe = Instance.new("Frame")
							local Sliderbox = Instance.new("UICorner")
							local Sliderbox_2 = Instance.new("TextBox")
	
							SliderFrame.Name = TitleText..'buda'
							SliderFrame.Parent = Section
							SliderFrame.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
							SliderFrame.BackgroundTransparency = 1.000
							SliderFrame.Position = UDim2.new(0, 0, 0.208333328, 0)
							SliderFrame.Size = UDim2.new(1, 0, 0, 50)
	
							SliderCorner.CornerRadius = UDim.new(0, 4)
							SliderCorner.Name = "SliderCorner"
							SliderCorner.Parent = SliderFrame
	
							SliderBG.Name = "Background1"
							SliderBG.Parent = SliderFrame
							SliderBG.AnchorPoint = Vector2.new(0.5, 0.5)
							SliderBG.Position = UDim2.new(0.5, 0, 0.5, 0)
							SliderBG.Size = UDim2.new(1, -10, 1, 0)
							SliderBG.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
							table.insert(UpdateCallBack["Background 1 Color"],function() 
								SliderBG.BackgroundColor3 = getgenv().UIColor["Background 1 Color"]
							end)
							SliderBG.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							table.insert(UpdateCallBack["Background 1 Transparency"],function() 
								SliderBG.BackgroundTransparency = getgenv().UIColor["Background 1 Transparency"]
							end)
	
	
							SliderBGCorner.CornerRadius = UDim.new(0, 4)
							SliderBGCorner.Name = "SliderBGCorner"
							SliderBGCorner.Parent = SliderBG
	
							SliderTitle.Name = "TextColor"
							SliderTitle.Parent = SliderBG
							SliderTitle.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							SliderTitle.BackgroundTransparency = 1.000
							SliderTitle.Position = UDim2.new(0, 10, 0, 0)
							SliderTitle.Size = UDim2.new(1, -10, 0, 25)
							SliderTitle.Font = Enum.Font.GothamBlack
							SliderTitle.Text = TitleText
							SliderTitle.TextSize = 14.000
							SliderTitle.TextXAlignment = Enum.TextXAlignment.Left
							SliderTitle.TextColor3 = getgenv().UIColor["Text Color"]
							table.insert(UpdateCallBack["Text Color"],function() 
								SliderTitle.TextColor3 = getgenv().UIColor["Text Color"]
							end)
	
							SliderBar.Name = "SliderBar"
							SliderBar.Parent = SliderFrame
							SliderBar.AnchorPoint = Vector2.new(.5, 0.5)
							SliderBar.Position = UDim2.new(.5, 0, 0.5, 14)
							SliderBar.Size = UDim2.new(0, 400, 0, 6)
							SliderBar.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
							table.insert(UpdateCallBack["Background 2 Color"],function() 
								SliderBar.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
							end)
	
							SliderButton.Name = "SliderButton "
							SliderButton.Parent = SliderBar
							SliderButton.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							SliderButton.BackgroundTransparency = 1.000
							SliderButton.Size = UDim2.new(1, 0, 1, 0)
							SliderButton.Font = Enum.Font.GothamBold
							SliderButton.Text = ""
							SliderButton.TextColor3 = Color3.fromRGB(230, 230, 230)
							SliderButton.TextSize = 14.000
	
							SliderBarCorner.CornerRadius = UDim.new(1, 0)
							SliderBarCorner.Name = "SliderBarCorner"
							SliderBarCorner.Parent = SliderBar
	
							Bar.Name = "Bar"
							Bar.BorderSizePixel = 0
							Bar.Parent = SliderBar
							Bar.Size = UDim2.new(0, 0, 1, 0)
							Bar.BackgroundColor3 = getgenv().UIColor["Slider Line Color"]
							table.insert(UpdateCallBack["Slider Line Color"],function() 
								Bar.BackgroundColor3 = getgenv().UIColor["Slider Line Color"]
							end)
	
	
							BarCorner.CornerRadius = UDim.new(1, 0)
							BarCorner.Name = "BarCorner"
							BarCorner.Parent = Bar
	
							Sliderboxframe.Name = "Background2"
							Sliderboxframe.Parent = SliderFrame
							Sliderboxframe.AnchorPoint = Vector2.new(1, 0)
							Sliderboxframe.Position = UDim2.new(1, -10, 0, 5)
							Sliderboxframe.Size = UDim2.new(0, 150, 0, 25)
							Sliderboxframe.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
							table.insert(UpdateCallBack["Background 2 Color"],function() 
								Sliderboxframe.BackgroundColor3 = getgenv().UIColor["Background 2 Color"]
							end)
	
							Sliderbox.CornerRadius = UDim.new(0, 4)
							Sliderbox.Name = "Sliderbox"
							Sliderbox.Parent = Sliderboxframe
	
							Sliderbox_2.Name = "TextColor"
							Sliderbox_2.Parent = Sliderboxframe
							Sliderbox_2.BackgroundColor3 = Color3.fromRGB(230, 230, 230)
							Sliderbox_2.BackgroundTransparency = 1.000
							Sliderbox_2.Size = UDim2.new(1, 0, 1, 0)
							Sliderbox_2.Font = Enum.Font.GothamBold
							Sliderbox_2.Text = ""
							Sliderbox_2.TextSize = 14.000
							Sliderbox_2.TextColor3 = getgenv().UIColor["Text Color"]
							table.insert(UpdateCallBack["Text Color"],function() 
								Sliderbox_2.TextColor3 = getgenv().UIColor["Text Color"]
							end)
	
							SliderButton.MouseEnter:Connect(function()
								TweenService:Create(Bar,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{BackgroundColor3 = getgenv().UIColor["Slider Highlight Color"]}):Play()
							end)
	
							SliderButton.MouseLeave:Connect(function()
								TweenService:Create(Bar,TweenInfo.new(getgenv().UIColor["Tween Animation 2 Speed"]),{BackgroundColor3 = getgenv().UIColor["Slider Line Color"]}):Play()
							end)
	
							local mouse = game.Players.LocalPlayer:GetMouse()
	
							if DefaultValue then 
								if DefaultValue <= Min_Value then DefaultValue = Min_Value elseif DefaultValue >= Max_Value then DefaultValue = Max_Value end
								Bar.Size = UDim2.new(1 - ((Max_Value - DefaultValue) / (Max_Value - Min_Value)),0, 0, 6)
								Sliderbox_2.Text = DefaultValue
								Callback(DefaultValue)
							end
	
							SliderButton.MouseButton1Down:Connect(function()
								local value = Precise and  tonumber(string.format("%.1f",(((tonumber(Max_Value) - tonumber(Min_Value)) / SizeChia) * Bar.AbsoluteSize.X) + tonumber(Min_Value))) or math.floor((((tonumber(Max_Value) - tonumber(Min_Value)) / SizeChia) * Bar.AbsoluteSize.X) + tonumber(Min_Value))
	
								pcall(function()
									Callback(value)
									Sliderbox_2.Text = value
								end)
								Bar.Size = UDim2.new(0, math.clamp(mouse.X - Bar.AbsolutePosition.X, 0, SizeChia), 0, 6)
								moveconnection = mouse.Move:Connect(function()   
									local value = Precise and  tonumber(string.format("%.1f",(((tonumber(Max_Value) - tonumber(Min_Value)) / SizeChia) * Bar.AbsoluteSize.X) + tonumber(Min_Value))) or math.floor((((tonumber(Max_Value) - tonumber(Min_Value)) / SizeChia) * Bar.AbsoluteSize.X) + tonumber(Min_Value))
									pcall(function()
										Callback(value)
										Sliderbox_2.Text = value
									end)
									Bar.Size = UDim2.new(0, math.clamp(mouse.X - Bar.AbsolutePosition.X, 0, SizeChia), 0, 6)
								end)
								releaseconnection = uis.InputEnded:Connect(function(Mouse)
									if Mouse.UserInputType == Enum.UserInputType.MouseButton1 then
										local value = Precise and  tonumber(string.format("%.1f",(((tonumber(Max_Value) - tonumber(Min_Value)) / SizeChia) * Bar.AbsoluteSize.X) + tonumber(Min_Value))) or math.floor((((tonumber(Max_Value) - tonumber(Min_Value)) / SizeChia) * Bar.AbsoluteSize.X) + tonumber(Min_Value))
	
										pcall(function()
											Callback(value)
											Sliderbox_2.Text = value
										end)
										Bar.Size = UDim2.new(0, math.clamp(mouse.X - Bar.AbsolutePosition.X, 0, SizeChia), 0, 6)
										moveconnection:Disconnect()
										releaseconnection:Disconnect()
									end
								end)
							end)
	
							local function GetSliderValue(Value)
								if tonumber(Value) <= Min_Value then
									Bar.Size = UDim2.new(0,(0 * SizeChia), 0, 6)
									Sliderbox_2.Text = Min_Value
									Callback(tonumber(Min_Value))
	
								elseif tonumber(Value) >= Max_Value then
									Bar.Size = UDim2.new(0,(Max_Value  /  Max_Value * SizeChia), 0, 6)
									Sliderbox_2.Text = Max_Value
									Callback(tonumber(Max_Value))
								else
									Bar.Size = UDim2.new(1 - ((Max_Value - Value) / (Max_Value - Min_Value)),0, 0, 6)
									Callback(tonumber(Value))
								end
							end
	
	
							Sliderbox_2.FocusLost:Connect(function()
								GetSliderValue(Sliderbox_2.Text)
							end)
	
	
							local slider_function = {}
	
							function slider_function.SetValue(Value)
								GetSliderValue(Value)
							end
	
							return slider_function
	
	
						end
	
	
					return Section_Function
	
				end
	
			return Page_Function
	
		end
	
		return Main_Function
	
	end
	
	return Library
]])()

pcall(function()
    require(plr.PlayerScripts.CombatFramework.CameraShaker).Shake = function() end
end)

loadstring([[
    local old
    old = hookfunction(require(game:GetService("ReplicatedStorage").CombatFramework.RigLib).getBladeHits,function(...) 
        local a,b = ...
        local returned = old(game.Players.LocalPlayer.Character,{game.Players.LocalPlayer.Character.HumanoidRootPart},50)
        if StartAutoAttack then
            local cac = {}
            local hash = {}
            for k, v in pairs(returned) do
                if v.Parent:FindFirstChild("HumanoidRootPart") and not hash[v.Parent] then
                    if v.Parent.Parent.Name == "Enemies" then
                        table.insert(cac, v.Parent.HumanoidRootPart)
                        hash[v.Parent] = true
                    end
                end
            end
            returned = cac
        end
        if #returned > 0 or StartAutoAttack then 
            game:GetService("ReplicatedStorage").RigControllerEvent:FireServer("weaponChange",b[1].Parent.Parent.Name)
            game:GetService("ReplicatedStorage").RigControllerEvent:FireServer("hit", returned, 1, "")
        end
        return returned
    end)
    local CbFw = getupvalues(require(plr.PlayerScripts.CombatFramework))
    local CbFw2 = CbFw[2]
    local AC = CbFw2.activeController
    getgenv().AttackM1 = function()
        getgenv().StartAutoAttack = true
        getgenv().LastEnableAttack = tick()
        game:GetService("VirtualUser"):Button1Down(Vector2.new(50, 50))
        AC.timeToNextAttack = 0
        AC.attacking = false
        AC.increment = 3
    end
    spawn(function()
        while wait(10) do
            if LastEnableAttack and tick() - LastEnableAttack >= 5 then
                getgenv().StartAutoAttack = false
                getgenv().LastEnableAttack = nil
            end
        end
    end)
]])
loadstring([[
    local CbFw = getupvalues(require(plr.PlayerScripts.CombatFramework))
    local CbFw2 = CbFw[2]
    
    function GetCurrentBlade() 
        local p13 = CbFw2.activeController
        local ret = p13.blades[1]
        if not ret then
            return
        end
        while ret.Parent ~= plr.Character do
            ret = ret.Parent
        end
        return ret
    end
    getgenv().TimerAttack = tick()
    getgenv().AttackM1 = function(BladeHitRoot) 
        local CurrentEquipWP = plr.Character:FindFirstChildOfClass("Tool")
        if not CurrentEquipWP
        or not CheckM1Weapon(CurrentEquipWP) then
            return
        end
        local AC = CbFw2.activeController
        if not AC.attack then return end
        for i = 1, 1 do 
            local bladehit
            if BladeHitRoot then
                bladehit = require(game.ReplicatedStorage.CombatFramework.RigLib).getBladeHits(
                    game.Players[BladeHitRoot.Name].Character,
                    {BladeHitRoot.HumanoidRootPart},
                    60
                )
            else
                bladehit = require(game.ReplicatedStorage.CombatFramework.RigLib).getBladeHits(
                    plr.Character,
                    {plr.Character.HumanoidRootPart},
                    60
                )
            end
            local cac = {}
            local hash = {}
            for k, v in pairs(bladehit) do
                if v.Parent:FindFirstChild("HumanoidRootPart") and not hash[v.Parent] then
                    table.insert(cac, v.Parent.HumanoidRootPart)
                    hash[v.Parent] = true
                end
            end
            bladehit = cac
            if #bladehit > 0 then
                local u8 = debug.getupvalue(AC.attack, 5)
                local u9 = debug.getupvalue(AC.attack, 6)
                local u7 = debug.getupvalue(AC.attack, 4)
                local u10 = debug.getupvalue(AC.attack, 7)
                local u12 = (u8 * 798405 + u7 * 727595) % u9
                local u13 = u7 * 798405
                (function()
                    u12 = (u12 * u9 + u13) % 1099511627776
                    u8 = math.floor(u12 / u9)
                    u7 = u12 - u8 * u9
                end)()
                u10 = u10 + 1
                debug.setupvalue(AC.attack, 5, u8)
                debug.setupvalue(AC.attack, 6, u9)
                debug.setupvalue(AC.attack, 4, u7)
                debug.setupvalue(AC.attack, 7, u10)
                pcall(function()
                    for k, v in pairs(AC.animator.anims.basic) do
                        v:Play()
                    end                  
                end)
                if AC.blades and AC.blades[1] then 
                    if Settings.AttackAutoScale
                    and (not AttackingMob or IsMobAlive(AttackingMob) and string.find(AttackingMob.Name, "Boss"))
                    and tick() - TimerAttack > 4 and not AttackCheck then 
                        getgenv().AttackCheck = true
                        getgenv().AntiLagSvKick = false
                        delay(2, function()
                            getgenv().AttackCheck = false
                            getgenv().AntiLagSvKick = true
                            getgenv().TimerAttack = tick()
                        end)
                    end
                    game:GetService("ReplicatedStorage").RigControllerEvent:FireServer("weaponChange", tostring(GetCurrentBlade()))
                    game.ReplicatedStorage.Remotes.Validator:FireServer(math.floor(u12 / 1099511627776 * 16777215), u10)
                    game:GetService("ReplicatedStorage").RigControllerEvent:FireServer("hit", bladehit, i, "")
                elseif not AC.blades
                and (AttackNoCDAura or AttackingMob and IsMobAlive(AttackingMob)) then
                    local TimerWait = tick()
                    local AMHealth
                    if AttackingMob then 
                        AMHealth = AttackingMob.Humanoid.Health
                    end
                    repeat wait()
                    until CbFw2.activeController.blades
                    or tick() - TimerWait >= 2
                    and (AttackNoCDAura or AttackingMob.Humanoid.Health == AMHealth)
                    if tick() - TimerWait >= 2 then 
                        local CurEWP = plr.Character:FindFirstChildOfClass("Tool")
                        plr.Character.Humanoid:UnequipTools()
                        wait()
                        plr.Character.Humanoid:EquipTool(CurEWP)
                        wait(.5)
                    end
                end
            end
        end
    end
]])
loadstring([[
    local connect
    local old
    old = hookmetamethod(game,"__index",function(...) 
        if checkcaller() then return old(...) end
        if not connect then 
            connect = Instance.new("BindableFunction")
            connect.OnInvoke = function(f) 
                return f()
            end
        end
        return old(...)
    end)
    repeat wait() until connect
    getgenv().warpF2 = function(f) 
        return connect:Invoke(f)
    end
]])()
loadstring([[
    local up = getupvalues(require(game:GetService("Players").LocalPlayer.PlayerScripts.CombatFramework))
    local ret = up[2]
    getgenv().countattack = 0
    local riglib = require(game.ReplicatedStorage.CombatFramework.RigLib)
    local plr 
    
    local old
    old = hookfunction(riglib.getBladeHits,function(...) 
        local a,b = ...
        local returned = old(game.Players.LocalPlayer.Character,{game.Players.LocalPlayer.Character.HumanoidRootPart},50)
        if #returned > 0 then 
            game:GetService("ReplicatedStorage").RigControllerEvent:FireServer("weaponChange",b[1].Parent.Parent.Name)
        end
        return returned
    end)
    
    function GetMobLevel(v)
        a = string.gsub(v, "%D", "")
        return tonumber(a)
    end
    getgenv().TimerAttack = tick()
    warpF2(function()
        getgenv().AttackM1 = function()
            if game.Players.LocalPlayer.Character.Stun.Value == 0 then
                if Settings.AttackAutoScale
                and (not AttackingMob or IsMobAlive(AttackingMob) and (string.find(AttackingMob.Name, "Boss") or GetMobLevel(AttackingMob.Name) - plrLevel > 300))
                and tick() - TimerAttack > 4 and not AttackCheck then 
                    getgenv().AttackCheck = true
                    getgenv().AntiLagSvKick = false
                    delay(2, function()
                        getgenv().AttackCheck = false
                        getgenv().AntiLagSvKick = true
                        getgenv().TimerAttack = tick()
                    end)
                end
                local p13 = ret.activeController
                --p13:attack()
                p13.timeToNextAttack = 0
                p13.attacking = false
                p13.increment = 3
                game:GetService("VirtualUser"):Button1Down(Vector2.new(50, 50))
            end
        end
    end)
]])()
--[[
 spawn(function()
        while wait(2) do
            local CurrentEquipWP = plr.Character:FindFirstChildOfClass("Tool")
            if CurrentEquipWP
            and CheckM1Weapon(CurrentEquipWP)
            and getgenv().noclip
            and not Settings.NoClip
            and not TweenPath then
                local Timer = tick()
                while plr.Character:FindFirstChildOfClass("Tool")
                and getgenv().noclip and not Settings.NoClip
                and not TweenPath do wait()
                    if tick() - Timer > 15 then
                        local v = plr.Character:FindFirstChildOfClass("Tool")
                        plr.Character.Humanoid:UnequipTools()
                        wait()
                        plr.Character.Humanoid:EquipTool(v)
                        break
                    end
                end
            end
        end
    end)
]]

function ClickM1()
    spawn(function()
        if not plr.Character:FindFirstChildOfClass("Tool") then return end
        if Settings.AttackNoCD
        and not getgenv().AntiLagSvKick then
            if not getgenv().AntiLagSvKick2 and not Settings.AttackAutoScale then
                getgenv().AntiLagSvKick2 = true
                delay(Settings.AttackDuration, function()
                    getgenv().AntiLagSvKick = true
                    local Timer = tick()
                    repeat wait()
                    until tick() - Timer >= Settings.AttackCooldown
                    getgenv().AntiLagSvKick = false
                end)
                getgenv().AntiLagSvKick2 = false
            end
            spawn(AttackM1)
        else
            spawn(function()
                if AttackInCooldown then
                    local Timer = tick()
                    while getgenv().AttackInCooldown do wait()
                        if tick() - Timer > 5 then
                            getgenv().AttackInCooldown = false
                        end
                    end
                else
                    if TimerAttack and tick() - TimerAttack > 3 and not Settings.AttackAutoScale then 
                        getgenv().AntiLagSvKick = false
                        getgenv().TimerAttack = tick()
                    end
                    getgenv().AttackInCooldown = true
                    spawn(AttackM1)
                    wait(.3)
                    getgenv().AttackInCooldown = false
                end
            end)
        end
    end)
end
loadstring([[
    Mouse = plr:GetMouse()
    mt = getrawmetatable(game)
    old = mt.__index
    setreadonly(mt, false)
    mt.__index = newcclosure(function(a, b)
        if not checkcaller()
        and a == Mouse
        and b == "Hit" then
            if AimPos
            and (Settings.MasteryFarm or Settings.SilentAim or Settings.BountyFarm or Settings.SeaBeastFarm)
            and not game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.F) -- Flight Skills
            and not game:GetService("UserInputService"):IsKeyDown(Enum.KeyCode.R) -- Flash Step
            and not plr.Character.HumanoidRootPart:FindFirstChild("PounceRush") -- Godhuman Z
            and not plr.Character.HumanoidRootPart:FindFirstChild("ShadowGlide") -- Shadow Z
            then
                if AimPos.Y == 0 then return end
                return CFrame.new(AimPos.X, AimPos.Y, AimPos.Z)
            end
        end
        return old(a, b)
    end)
    setreadonly(mt, true)
]])()
--[[
    local mt = getrawmetatable(game)
    local old = mt.__namecall
    setreadonly(mt, false)
    mt.__namecall = function(self, ...)
        local args = {...}
        if getnamecallmethod() == "FireServer"
        and self.Name == "RemoteEvent" then
            if Settings.MasteryFarm
            and AimPos
            or Settings.SilentAim
            and AimPos then
                if typeof(args[1]) == "Vector3" then
                    args[1] = Vector3.new(AimPos.X, AimPos.Y, AimPos.Z)
                elseif typeof(args[1]) == "CFrame" then
                    args[1] = CFrame.new(AimPos.X, AimPos.Y, AimPos.Z)
                end
            end
        end
        return old(self, unpack(args))
    end

    Mouse = plr:GetMouse()
    mt = getrawmetatable(game)
    old = mt.__index
    setreadonly(mt, false)
    mt.__index = newcclosure(function(a, b)
        if not checkcaller()
        and a == Mouse
        and b == "Hit" then
            if Settings.SilentAim
            and AimPos then
                local WP = plr.Character:FindFirstChildOfClass("Tool")
                if WP and WP.ToolTip == "Gun"
                and getcallingscript() == WP:FindFirstChildOfClass("LocalScript") then
                    return CFrame.new(AimPos.X, AimPos.Y, AimPos.Z)
                end
            end
        end
        return old(a, b)
    end)
    setreadonly(mt, true)
]]
function ShootM1(v)
    local Pos, OnScreen = CurCam:WorldToViewportPoint(v.HumanoidRootPart.Position)
    if OnScreen then
        warpF2(function() 
            spawn(function()
                getconnections(game:GetService("UserInputService").TouchTapInWorld)[1].Function(Pos, false)
            end)
        end)
    end
end

local QuestNPCs = {}
for i, v in pairs(DialogueList) do
    if QuestPoses[v] then
        QuestNPCs[RemoteList[i]] = DialogueList[i]
    end
end

local Mobs = {}
local MobsName = {}
warpF2(function()
for i, x in pairs(require(game.ReplicatedStorage.Quests)) do
    for m, v in pairs(x) do
        for k, _ in pairs(v.Task) do
            if v.Task[k] > 1 and QuestNPCs[i] and v.LevelReq then
                a = v.Name
                if a:sub(#a, #a) == "s"
                and a:sub(#a - 1, #a) ~= "ss" then
                    b = a:sub(#a, #a)
                    a = a:gsub(b, "")
                end
                if game.PlaceId == 2753915549 
                and string.find(a, "Mil.") then
                    a = a:gsub("Mil.", "Military")
                end
                Mobs[a] = {
                    ["QNPC"] = QuestNPCs[i],
                    ["QPos"] = QuestPoses[QuestNPCs[i]],
                    ["QName"] = i,
                    ["QNumber"] = m,
                    ["QLevel"] = v.LevelReq,
                }
                if a == "God's Guard" then
                    Mobs[a].QPos = CFrame.new(-4721.5625, 845.2771606445312, -1952.377685546875)
                elseif a == "Wysper" then
                    Mobs[a].QPos = CFrame.new(-7860.703125, 5545.51904296875, -380.1561584472656)
                end
                table.insert(MobsName, a)
            end
        end
    end
end
end)
local Bosses = {}
local BossesName = {}
warpF2(function()
for i, x in pairs(require(game.ReplicatedStorage.Quests)) do
    for m, v in pairs(x) do
        for k, _ in pairs(v.Task) do
            if v.Task[k] == 1 and QuestNPCs[i] and v.LevelReq then
                local d = v.Name
                if d == "Ice Admiral" then
                    d = "Awakened Ice Admiral"
                end
                Bosses[d] = {
                    ["QNPC"] = QuestNPCs[i],
                    ["QPos"] = QuestPoses[QuestNPCs[i]],
                    ["QName"] = i,
                    ["QNumber"] = m,
                    ["QLevel"] = v.LevelReq,
                }
                table.insert(BossesName, d)
            end
        end
    end
end
end)
if game.PlaceId == 4442272183 then
    local ExtraBoss = {
        "Cursed Captain",
        "Don Swan"
    }
    for i, v in pairs(ExtraBoss) do
        Bosses[v] = {
            ["QLevel"] = math.huge,
        }
        table.insert(BossesName, v)
    end
end
function GetMobNameOnly(v)
    local mName = v:gsub(" %pLv. %d+%p", "")
    if string.find(mName, "Boss") then
        mName = mName:split(" \[")[1]
    end
    return mName
end
local EnemySpawns = {}
for i, v in ipairs(wOrigin.EnemySpawns:GetChildren()) do
    table.insert(EnemySpawns, v)
end
for i, v in pairs(getnilinstances()) do
    if v:IsA("Part") and string.find(v.Name, "Lv. ") then
        table.insert(EnemySpawns, v)
    end
end
function GetMidPoint(mob)
    local count = 0
    local vec
    local AllMobs = {}
    for i, v in ipairs(EnemySpawns) do
        if mob == GetMobNameOnly(v.Name) then
            table.insert(AllMobs, v)
        end
    end
    for i, v in pairs(AllMobs) do
        if vec == nil then
            vec = v.Position
            count = count + 1
        else
            vec = vec + v.Position
            count = count + 1
        end
    end
    vec = vec / count
    return vec
end
for i, v in pairs(Mobs) do
    Mobs[i].MPos = GetMidPoint(i)
end

local Title = Library.CreateMain({Title = 'Blox Fruits'})

Page1 = Title.CreatePage({Page_Name = 'Main', Page_Title = 'Main Tab'})
Section11 = Page1.CreateSection('Misc Features')
local Codes = {
    "Sub2Fer999",
    "Enyu_is_Pro",
    "JCWK",
    "StarcodeHEO",
    "MagicBUS",
    "KittGaming",
    "Sub2CaptainMaui",
    "Sub2OfficialNoobie",
    "TheGreatAce",
    "Sub2NoobMaster123",
    "Sub2Daigrock",
    "Axiore",
    "StrawHatMaine",
    "TantaiGaming",
    "Bluxxy",
    "SUB2GAMERROBOT_EXP1"
}
Section11.CreateButton({Title = 'Redeem all EXP Codes'}, function()
	for i, v in pairs(Codes) do
        game.ReplicatedStorage.Remotes.Redeem:InvokeServer(v)
    end
end)
loadstring([[
    local PlaceID = game.PlaceId
    local AllIDs = {}
    local foundAnything = ""
    local actualHour = os.date("!*t").hour
    local Deleted = false
    local File = pcall(function()
        AllIDs = game:GetService('HttpService'):JSONDecode(readfile("NotSameServers.json"))
    end)
    if not File then
        table.insert(AllIDs, actualHour)
        writefile("NotSameServers.json", game:GetService('HttpService'):JSONEncode(AllIDs))
    end
    function TPReturner()
        local Site;
        if foundAnything == "" then
            Site = game.HttpService:JSONDecode(game:HttpGet('https://games.roblox.com/v1/games/' .. PlaceID .. '/servers/Public?sortOrder=Asc&limit=100'))
        else
            Site = game.HttpService:JSONDecode(game:HttpGet('https://games.roblox.com/v1/games/' .. PlaceID .. '/servers/Public?sortOrder=Asc&limit=100&cursor=' .. foundAnything))
        end
        local ID = ""
        if Site.nextPageCursor and Site.nextPageCursor ~= "null" and Site.nextPageCursor ~= nil then
            foundAnything = Site.nextPageCursor
        end
        local num = 0;
        for i,v in pairs(Site.data) do
            local Possible = true
            ID = tostring(v.id)
            if tonumber(v.maxPlayers) > tonumber(v.playing)
            and tonumber(v.playing) <= 2 then
                for _,Existing in pairs(AllIDs) do
                    if num ~= 0 then
                        if ID == tostring(Existing) then
                            Possible = false
                        end
                    else
                        if tonumber(actualHour) ~= tonumber(Existing) then
                            local delFile = pcall(function()
                                delfile("NotSameServers.json")
                                AllIDs = {}
                                table.insert(AllIDs, actualHour)
                            end)
                        end
                    end
                    num = num + 1
                end
                if Possible == true then
                    table.insert(AllIDs, ID)
                    wait()
                    pcall(function()
                        writefile("NotSameServers.json", game:GetService('HttpService'):JSONEncode(AllIDs))
                        wait()
                        game:GetService("TeleportService"):TeleportToPlaceInstance(PlaceID, ID, game.Players.LocalPlayer)
                    end)
                    wait(4)
                end
            end
        end
    end
    
    getgenv().TeleportLow = function()
        pcall(function()
            TPReturner()
            if foundAnything ~= "" then
                TPReturner()
            end
        end)
    end
]])()
loadstring([[
    local S = {}
    local HttpService = game:GetService("HttpService")
    local SaveFileName = "!BloxFruit_BlacklistServers.json"
    
    function SaveS()
        local HttpService = game:GetService("HttpService")
        if not isfolder("Sea Hub") then
            makefolder("Sea Hub")
        end
        writefile("Sea Hub/" .. SaveFileName, HttpService:JSONEncode(S))
    end
    
    function ReadS() 
        local s,e = pcall(function() 
            local HttpService = game:GetService("HttpService")
            if not isfolder("Sea Hub") then
                makefolder("Sea Hub")
            end
            return HttpService:JSONDecode(readfile("Sea Hub/" .. SaveFileName))
        end)
        if s then return e 
        else
            SaveS()
            return ReadS()
        end
    end
    S = ReadS()
    function Hop(IgnoreRegion) 
        for i = 1, 100 do 
            local huhu = game:GetService("ReplicatedStorage").__ServerBrowser:InvokeServer(i)
            if huhu then
                for k,v in pairs(huhu) do 
                    if v.Count <= 11
                    and (IgnoreRegion
                    or not Settings.HopServerRegion
                    or Settings.HopServerRegion == "Random"
                    or string.find(v.Region, Settings.HopServerRegion)) then 
                        if not S[k] or tick() - S[k].Time > 60 * 60  then 
                            S = ReadS()
                            S[k] = {
                                Time = tick()
                            }
                            SaveS()
                           game:GetService("ReplicatedStorage").__ServerBrowser:InvokeServer("teleport",k)
                           return true
                        elseif tick() - S[k].Time > 60 * 60 then
                            S[k] = nil 
                        end
                    end
                end
            end
        end
        return false
    end 
    getgenv().Teleport = function(IgnoreRegion, HopLowServer) 
        local x = plr.Character:FindFirstChild("Chop Glitch Fix")
        if x then
            x:Destroy()
        end
        getgenv().Hopping = true
        if not getgenv().Loaded then 
            function child(v)
                if v.Name == "ErrorPrompt" then 
                    if v.Visible then 
                        if v.TitleFrame.ErrorTitle.Text == "Teleport Failed" then 
                            Teleport()
                        end
                    end
                    v:GetPropertyChangedSignal("Visible"):Connect(function() 
                        if v.Visible then 
                            if v.TitleFrame.ErrorTitle.Text == "Teleport Failed" then 
                                Teleport()
                            end
                        end
                    end)
                end
            end
            for k, v in pairs(game.CoreGui.RobloxPromptGui.promptOverlay:GetChildren()) do 
                child(v)
            end
            game.CoreGui.RobloxPromptGui.promptOverlay.ChildAdded:Connect(child)
            getgenv().Loaded = true
        end
        while wait() do
            pcall(function()
                ForceStopTween()
                getgenv().noclip = true
                local plrPos = plr.Character.HumanoidRootPart.Position
                plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 10000, plrPos.Z)
                if plr.PlayerGui.Main.InCombat.Visible then
                    plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 20000, plrPos.Z)
                    wait()
                    plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 30000, plrPos.Z)
                    wait()
                    plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 40000, plrPos.Z)
                    wait()
                    plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 50000, plrPos.Z)
                end
                if not plr.PlayerGui.Main.InCombat.Visible and not DisableEquipItem then
                    if HopLowServer then
                        if not TeleportingLow then
                            getgenv().TeleportingLow = tick()
                        end
                        if tick() - TeleportingLow < 10 then
                            TeleportLow()
                        else
                            Hop(IgnoreRegion)
                        end
                    else
                        Hop(IgnoreRegion)
                    end
                end
            end)
        end
    end
]])()
getgenv().SendWebHook = function(v, x)
    if not x then
        x = Settings.TextBoxWebhookURL
    end
	http_request({
		Url = x,
		Method = "POST",
		Headers = {
			["Content-Type"] = "application/json"
		},
		Body = HttpService:JSONEncode(v)
	})
end
function CheckMoon()
    if game.PlaceId ~= 7449423635 or game.Players.NumPlayers <= 5 then return end
    if LastChecked0 and tick() - LastChecked0 < 120 then
        return
    end
    getgenv().LastChecked0 = tick()
    local MoonState
    if game.Lighting.Sky.MoonTextureId == "http://www.roblox.com/asset/?id=9709149052" then
        MoonState = "Gibbous Moon :waning_gibbous_moon:"
    elseif game.Lighting.Sky.MoonTextureId == "http://www.roblox.com/asset/?id=9709149431" then
        MoonState = "Full Moon :full_moon:"
    end
    if MoonState then
        local PlayerCount = game.Players.NumPlayers
        if PlayerCount >= 12 then
            PlayerCount = PlayerCount .. "/12 :red_circle:" 
        else
            PlayerCount = PlayerCount .. "/12 :green_circle:" 
        end
        local JoinScript = 'game:GetService("TeleportService"):TeleportToPlaceInstance(' .. game.PlaceId .. ',"' .. game.JobId .. '",game.Players.LocalPlayer)'
        SendWebHook({
            ["embeds"] = {{
                ["title"] = "Blox Fruits",
                ["type"] = "rich",
                ["color"] = tonumber(0xbdce44),
                ["fields"] = {
                    {
                        ["name"] = "Informations",
                        ["value"] = PlayerCount .. " | " .. MoonState,
                        ["inline"] = false
                    },
                    {
                        ["name"] = "Script to Join",
                        ["value"] = "```lua\n" .. JoinScript .. "```",
                        ["inline"] = false
                    },
                },
                ["footer"] = {
                    ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                    ["text"] = "Sea Hub - Moon Finder"
                }
            }}
        }, "https://discord.com/api/webhooks/1075721391971770378/kTYu4xbIAqAtcPIOfRlVJ0nUDfilbkwA3JF0o3im6hWBNqKxR7bS9-jQxR4SclsDvXFT")
        repeat wait(3)
            getgenv().LastChecked0 = tick()
        until game.Lighting.Sky.MoonTextureId ~= "http://www.roblox.com/asset/?id=9709149052"
        and game.Lighting.Sky.MoonTextureId ~= "http://www.roblox.com/asset/?id=9709149431"
    end
end
function CheckMirage()
    if game.PlaceId ~= 7449423635 or game.Players.NumPlayers <= 5 then return end
    if LastChecked1 and tick() - LastChecked1 < 120 then
        return
    end
    repeat wait()
    until game.workspace.NPCs:FindFirstChild("Advanced Fruit Dealer")
    getgenv().LastChecked1 = tick()
    local IsMirage
    if game.workspace.NPCs["Advanced Fruit Dealer"].HumanoidRootPart.Position.Y > -100 then
        IsMirage = "Mirage Island :island:"
    end
    if IsMirage then
        local IsNight = ""
        if game.Lighting.ClockTime >= 18 or game.Lighting.ClockTime <= 4 then
            IsNight = " | :crescent_moon: Night"
        end
        local PlayerCount = game.Players.NumPlayers
        if PlayerCount >= 12 then
            PlayerCount = PlayerCount .. "/12 :red_circle:" 
        else
            PlayerCount = PlayerCount .. "/12 :green_circle:" 
        end
        local JoinScript = 'game:GetService("TeleportService"):TeleportToPlaceInstance(' .. game.PlaceId .. ',"' .. game.JobId .. '",game.Players.LocalPlayer)'
        SendWebHook({
            ["embeds"] = {{
                ["title"] = "Blox Fruits",
                ["type"] = "rich",
                ["color"] = tonumber(0xbdce44),
                ["fields"] = {
                    {
                        ["name"] = "Informations",
                        ["value"] = PlayerCount .. " | " .. IsMirage .. IsNight,
                        ["inline"] = false
                    },
                    {
                        ["name"] = "Script to Join",
                        ["value"] = "```lua\n" .. JoinScript .. "```",
                        ["inline"] = false
                    },
                },
                ["footer"] = {
                    ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                    ["text"] = "Sea Hub - Mirage Finder"
                }
            }}
        }, "https://discord.com/api/webhooks/1075721480182177802/S86T1MZXEB3y4gW5Z6jPaMgVF5FpJ03OnNlalsZAd_AP_AhYfRERV6WajvoEw2mL6Mo6")
        repeat wait(3)
            getgenv().LastChecked1 = tick()
        until game.workspace.NPCs["Advanced Fruit Dealer"].HumanoidRootPart.Position.Y < -100
    end
end
function CheckAura()
    if game.PlaceId == 2753915549 or game.Players.NumPlayers <= 5 then return end
    if LastChecked2 and tick() - LastChecked2 < 120 then
        return
    end
    getgenv().LastChecked2 = tick()
    repeat wait()
    until game.workspace.NPCs:FindFirstChild("Master of Auras")
    if game.workspace.NPCs["Master of Auras"].HumanoidRootPart.Position.Y > -100 then
        local AuraText = CommF:InvokeServer("ColorsDealer", "1", true)
        if not AuraText then return end
        local AuraText = AuraText:gsub("%d+", ""):gsub("%s+$", "")
        if table.find({"Snow White", "Pure Red", "Winter Sky"}, AuraText) then
            local PlayerCount = game.Players.NumPlayers
            if PlayerCount >= 12 then
                PlayerCount = PlayerCount .. "/12 :red_circle:" 
            else
                PlayerCount = PlayerCount .. "/12 :green_circle:" 
            end
            local JoinScript = 'game:GetService("TeleportService"):TeleportToPlaceInstance(' .. game.PlaceId .. ',"' .. game.JobId .. '",game.Players.LocalPlayer)'
            SendWebHook({
                ["embeds"] = {{
                    ["title"] = "Blox Fruits",
                    ["type"] = "rich",
                    ["color"] = tonumber(0xbdce44),
                    ["fields"] = {
                        {
                            ["name"] = "Informations",
                            ["value"] = PlayerCount .. " | " .. AuraText .. " :sparkles:",
                            ["inline"] = false
                        },
                        {
                            ["name"] = "Script to Join",
                            ["value"] = "```lua\n" .. JoinScript .. "```",
                            ["inline"] = false
                        },
                    },
                    ["footer"] = {
                        ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                        ["text"] = "Sea Hub - Aura Finder"
                    }
                }}
            }, "https://discord.com/api/webhooks/1077011976460443658/hyQPK3mG2VSaaMxZsePTAAIYpZI7o11ZGqWt-Z4cjxbW1-vegXMP5_KvnqxCCrWpZkBj")
        end
        repeat wait(3)
            getgenv().LastChecked2 = tick()
        until game.workspace.NPCs["Master of Auras"].HumanoidRootPart.Position.Y < -100
    end
end
function CheckLegSword()
    if game.PlaceId ~= 4442272183 or game.Players.NumPlayers <= 5 then return end
    if LastChecked3 and tick() - LastChecked3 < 120 then
        return
    end
    getgenv().LastChecked3 = tick()
    repeat wait()
    until game.workspace.NPCs:FindFirstChild("Legendary Sword Dealer ")
    if game.workspace.NPCs["Legendary Sword Dealer "].HumanoidRootPart.Position.Y > -100 then
        local PlayerCount = game.Players.NumPlayers
        if PlayerCount >= 12 then
            PlayerCount = PlayerCount .. "/12 :red_circle:" 
        else
            PlayerCount = PlayerCount .. "/12 :green_circle:" 
        end
        local SwordText = CommF:InvokeServer("LegendarySwordDealer", "1", true)
        local JoinScript = 'game:GetService("TeleportService"):TeleportToPlaceInstance(' .. game.PlaceId .. ',"' .. game.JobId .. '",game.Players.LocalPlayer)'
        SendWebHook({
            ["embeds"] = {{
                ["title"] = "Blox Fruits",
                ["type"] = "rich",
                ["color"] = tonumber(0xbdce44),
                ["fields"] = {
                    {
                        ["name"] = "Informations",
                        ["value"] = PlayerCount .. " | " .. SwordText .. " :crossed_swords:",
                        ["inline"] = false
                    },
                    {
                        ["name"] = "Script to Join",
                        ["value"] = "```lua\n" .. JoinScript .. "```",
                        ["inline"] = false
                    },
                },
                ["footer"] = {
                    ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                    ["text"] = "Sea Hub - Legend Sword Finder"
                }
            }}
        }, "https://discord.com/api/webhooks/1075752048122929222/ctTdJe-ePmWBaDfV5Gu_Xsw-RiMy7teFtPef4V5dB3CftLB0KNp5nWS0zaQe2RZpiBYS")
        repeat wait(3)
            getgenv().LastChecked3 = tick()
        until game.workspace.NPCs["Legendary Sword Dealer "].HumanoidRootPart.Position.Y < -100
    end
end
function CheckFinder()
    pcall(function()
        spawn(CheckMoon)
    end)
    pcall(function()
        spawn(CheckMirage)
    end)
    pcall(function()
        spawn(CheckAura)
    end)
    pcall(function()
        spawn(CheckLegSword)
    end)
end
function TeleportServer(IgnoreRegion, HopLowServer)
    getgenv().QueueHopping = true
    if HopLowServer then
        Library.CreateNoti({Desc = "Hopping Low Player Server", ShowTime = 30})
    else
        Library.CreateNoti({Desc = "Hopping Server", ShowTime = 30})
    end
    pcall(function()
        spawn(CheckFinder)
    end)
    Teleport(IgnoreRegion, HopLowServer)
end
function HopServer(IgnoreRegion, HopLowServer, DisableDelay)
    if QueueHopping then return end
    if Settings.CT_HopServerDelay and Settings.CT_HopServerDelay ~= 0 then
        if DisableSave then return end
        SaveSettings()
        getgenv().DisableSave = true
        if Settings.CT_HopServerDelay * 60 >= 120 then
            CT_DisableAutoRaid()
            CT_EnableFarm()
        else
            getgenv().QueueHopping = true
        end
        Library.CreateNoti({Desc = "Delaying Hop Server (" .. Settings.CT_HopServerDelay .. " minute)", ShowTime = (Settings.CT_HopServerDelay * 60) + 3})
        wait(3)
        local Timer = tick()
        local DelayHopServerText
        for i, v in pairs(game.CoreGui["Sea Hub Notification"].NotiContainer:GetChildren()) do
            if v.Name == "NotiFrame" and string.find(v.Noticontainer.TextColor.Text, "Delaying Hop Server") then
                DelayHopServerText = v.Noticontainer.TextColor
            end
        end
        spawn(function()
            repeat wait(.5)
                if DelayHopServerText then
                    local SecondCountdown = Settings.CT_HopServerDelay * 60 - (tick() - Timer)
                    DelayHopServerText.Text = "Delaying Hop Server (" .. math.round(SecondCountdown) .. "s left)"
                end
            until tick() - Timer >= Settings.CT_HopServerDelay * 60
            TeleportServer(IgnoreRegion, HopLowServer)
        end)
        return
    end
    TeleportServer(IgnoreRegion, HopLowServer)
end
Section11.CreateButton({Title = 'Hop Server'}, function()
    if #game.CoreGui["Sea Hub Notification"].NotiContainer:GetChildren() > 1 then
	    return HopServer(nil, nil, true)
    end
    Library.CreateNoti({Desc = "Press the Hop Server button again to Hop Server", ShowTime = 10})
end)
Section11.CreateButton({Title = 'Hop Server (Low Player)'}, function()
    if #game.CoreGui["Sea Hub Notification"].NotiContainer:GetChildren() > 1 then
	    return HopServer(nil, true, true)
    end
    Library.CreateNoti({Desc = "Press the Hop Server button again to Hop Server", ShowTime = 10})
end)
spawn(function()
    while wait(1) do
        pcall(function()
            if not Hopping then
                if game.CoreGui.RobloxPromptGui.promptOverlay:FindFirstChild("ErrorPrompt") and Settings.AutoRejoin then    
                    while wait() do
                        game:GetService("TeleportService"):Teleport(game.PlaceId, plr)
                        wait(10)
                    end
                end
            end
        end)
    end
end)
AutoRejoinToggle = Section11.CreateToggle({Title = 'Auto Rejoin', Desc = "Auto Rejoin if got kicked\n(this doesn't work with Private Server)", Default = Settings.AutoRejoin}, function(v) 
    Settings.AutoRejoin = v
end)

function ConvertPing(v)
    v = v.Text:gsub(" ms", "")
    return tonumber(v)
end
function GetPingTextPath() 
    for i, v in ipairs(game.CoreGui.RobloxGui.PerformanceStats:GetChildren()) do
        if v:FindFirstChild("StatsMiniTextPanelClass") and v.StatsMiniTextPanelClass.TitleLabel.Text == "Ping" then
            return v.StatsMiniTextPanelClass.ValueLabel
        end
    end
end
function GetPing()
    if not game.CoreGui.RobloxGui:FindFirstChild("PerformanceStats") then 
        UserSettings().GameSettings.PerformanceStatsVisible = true
    else
        local path = GetPingTextPath()
        return ConvertPing(path)
    end
end
Section11 = Page1.CreateSection('Auto Kick')
Section11.CreateDropdown({Title = 'Select Kick Method', List = {"Close Game", "Normal Kick"}, Search = false, Default = Settings.KickMethod or "Close Game"}, function(v)
    Settings.KickMethod = v
end)
getgenv().WaitForLoad = true
delay(120, function()
    getgenv().WaitForLoad = false
end)
spawn(function() 
    while wait() do
        if Settings.AutoKickPing and Settings.AutoKickPing_Ping and not WaitForLoad then
            wait(1)
            local ping = GetPing()
            if ping then 
                if ping > Settings.AutoKickPing_Ping then 
                    if Settings.KickMethod == "Close Game" then 
                        game:Shutdown()
                    else
                        plr:Kick("\n[Sea Hub]\n".." Ping reached ".. tostring(Settings.AutoKickPing_Ping))
                    end
                end
            end
        end
    end
end)
AutoKickPingToggle = Section11.CreateToggle({Title = 'Auto Kick when Ping', Desc = "Auto kick you from the game when your ping higher than Over ping", Default = Settings.AutoKickPing}, function(v)
    Settings.AutoKickPing = v
end)
Section11.CreateSlider({Title = "Over ping", Min = 500, Max = 10000, Default = Settings.AutoKickPing_Ping or 1000}, function(v)
    Settings.AutoKickPing_Ping = v
end)
spawn(function()
	while wait() do
		pcall(function() 
            if Settings.AutoKickTimer and Settings.AutoKickTimer_Timer then
                local CurrentTick = tick()
                repeat wait()
                until tick() - CurrentTick >= Settings.AutoKickTimer_Timer * 60
                or not Settings.AutoKickTimer
                if Settings.AutoKickTimer then
                    if Settings.KickMethod == "Close Game" then 
                        game:Shutdown()
                    else
                        plr:Kick("\n[Sea Hub]\n".. tostring(Settings.AutoKickTimer_Timer) .." minute reached (Auto Kick Timer)")
                    end
                end
            end
            wait(2)
		end)
	end
end)
Section11.CreateToggle({Title = 'Auto Kick after Timer', Desc = 'Auto kick you from the game after Kick Timer minute', Default = Settings.AutoKickTimer}, function(v)
    Settings.AutoKickTimer = v
end)
Section11.CreateSlider({Title = "Kick Timer (minute)", Min = 1, Max = 180, Default = Settings.AutoKickTimer_Timer or 30, Precise = false}, function(v)
    Settings.AutoKickTimer_Timer = v
end)
function tuoidz1() 
    local PingTextPath
    local PingText
    bangnhaucmmsucvatruaditconmemayruathieunang = tick()
    local deobangnhaucmmsucvatruaditconmemayruathieunang = tick()
    getgenv().AntiFPToggle = Section11.CreateToggle({Title = 'Anti Froze Ping', Desc = "Auto kick you from the game if client's ping froze for 30s", Default = Settings.AntiFP}, function(v)
        Settings.AntiFP = v
        spawn(function()
            while Settings.AntiFP and wait(1) do 
                pcall(function()
                    if not game.CoreGui.RobloxGui:FindFirstChild("PerformanceStats") then
                        UserSettings().GameSettings.PerformanceStatsVisible = true
                        wait(1)
                    else
                        if not PingTextPath then 
                            PingTextPath = GetPingTextPath() 
                        end
                        if PingTextPath then 
                            if PingText == ConvertPing(PingTextPath) and PingText ~= 0 then
                                bangnhaucmmsucvatruaditconmemayruathieunang = tick()
                            else
                                deobangnhaucmmsucvatruaditconmemayruathieunang = tick()
                            end
                            if bangnhaucmmsucvatruaditconmemayruathieunang - deobangnhaucmmsucvatruaditconmemayruathieunang > 30 then 
                                if Settings.KickMethod == "Close Game" then 
                                    game:Shutdown()
                                else
                                    plr:Kick("\n[Sea Hub]\n".."Your ping froze")
                                end
                                wait(10)
                            end
                            PingText = ConvertPing(PingTextPath)
                        end
                    end 
                end)
            end
        end)
    end)
end
tuoidz1()

Section11 = Page1.CreateSection('Auto Chest')
loadstring([[
    getgenv().GetChests = function()
        for i, v in ipairs(game.workspace:GetChildren()) do
            if string.find(v.Name, "Chest")
            and v:IsA("Part") then
                table.insert(getgenv().Chests, v)
            end
        end
        for i, v in ipairs(game.workspace.Map:GetDescendants()) do
            if string.find(v.Name, "Chest")
            and v:IsA("Part") then
                table.insert(getgenv().Chests, v)
            end
        end
    end
]])()
getgenv().Chests = {}
AutoChestToggle = Section11.CreateToggle({Title = "Auto Chest", Desc = "Tween to collect chests\n(can use with Auto Farm features)", Default = Settings.AutoChest}, function(v)
    if Settings.AutoChest and not v then
        spawn(function()
            wait(.5)
            ForceStopTween(true)
        end)
    end
    getgenv().CollectedChest = 0
    Settings.AutoChest = v
end)
Section11.CreateToggle({Title = "Hop Server if no Chest", Desc = "Will Hop Server if current server out of chest", Default = Settings.ACHopServer}, function(v)
    Settings.ACHopServer = v
end)
if game.PlaceId ~= 2753915549 then
    getgenv().SafeZone = "Mansion"
    getgenv().WorldReward = "God's Chalice"
    if game.PlaceId == 4442272183 then
        getgenv().WorldReward = "Fist of Darkness"
        getgenv().SafeZone = "Cafe"
    end
    AC10ChestToggle = Section11.CreateToggle({Title = "Hop Server after collected 10 Chest", Desc = "Will Hop Server after collected 10 chest\n(for " .. WorldReward .. " farm)", Default = Settings.AC10Chest}, function(v)
        Settings.AC10Chest = v
    end)
    Section11.CreateToggle({Title = 'Disable if got ' .. WorldReward, Desc = 'Will not Hop Server / Stop collecting chest and tween to ' .. SafeZone .. ' if got ' .. WorldReward, Default = Settings.ACDisable}, function(v)
        Settings.ACDisable = v
    end)
end
Section12 = Page1.CreateSection('Blox Fruit')
function FruitNameToFF(v)
    v = v:gsub(" Fruit", "")
    if string.find(v, ":") then
        local x = v:split(":")
        v = x[1] .. "-" .. x[1] .. ":" .. x[2]
    else
        v = v .. "-" .. v
    end
    return v
end
function FFToFruitName(v)
    v = v:split("-")[1]
    return v .. " Fruit" 
end
local BloxFruitList = {}
local OneMilFruits = {}
for i, v in pairs(CommF:InvokeServer("GetFruits")) do
    table.insert(BloxFruitList, v.Name)
    if v.Price >= 1000000 then
        table.insert(OneMilFruits, FFToFruitName(v.Name)) 
    end
end
getgenv().SelectedSnipeBloxFruit = {}
if not Settings.SnipeBloxFruit then
    Settings.SnipeBloxFruit = {}
    for i, v in pairs(BloxFruitList) do
        Settings.SnipeBloxFruit[v] = false
    end
else
    local BloxFruitLCheck = {}
    for i, v in pairs(Settings.SnipeBloxFruit) do
        if v then
            table.insert(getgenv().SelectedSnipeBloxFruit, i)
        end
        table.insert(BloxFruitLCheck, i)
    end
    for i, v in pairs(BloxFruitList) do
        if not table.find(BloxFruitLCheck, v) then
            Settings.SnipeBloxFruit[v] = false
        end
    end
end
if CuttayAccountFarm and CuttayAccountFarm["Blox Fruit Sniper"] then
    for i, v in pairs(CuttayAccountFarm["Blox Fruit Sniper"]) do
        if table.find(BloxFruitList, v) then
            Settings.SnipeBloxFruit[v] = true
            table.insert(getgenv().SelectedSnipeBloxFruit, i)
        end
    end
end
function CheckPermBF(i)
    for _, v in pairs(CommF:InvokeServer("GetFruits")) do
        if i == v.Name
        and v.HasPermanent then
            return true
        end
    end
end
SelectSnipeBFDropdown = Section12.CreateDropdown({Title = 'Select Snipe Blox Fruit', List = Settings.SnipeBloxFruit, Selected = true, Search = true}, function(i, v)
    if i then
        if v and CheckPermBF(i) then
            Library.CreateNoti({Desc = "You already has permanent " .. i, ShowTime = 5})
            spawn(function()
                wait()
                Settings.SnipeBloxFruit[i] = false
                if SelectSnipeBFDropdown then
                    SelectSnipeBFDropdown:GetNewList(Settings.SnipeBloxFruit)
                end
            end)
        elseif v and tostring(plr.Data.DevilFruit.Value) == i then
            Library.CreateNoti({Desc = "You currently equipped " .. i, ShowTime = 5})
            spawn(function()
                wait()
                Settings.SnipeBloxFruit[i] = false
                if SelectSnipeBFDropdown then
                    SelectSnipeBFDropdown:GetNewList(Settings.SnipeBloxFruit)
                end
            end)
        else
            Settings.SnipeBloxFruit[i] = v
            if v and not table.find(SelectedSnipeBloxFruit, i) then
                table.insert(getgenv().SelectedSnipeBloxFruit, i)
            elseif not v and table.find(SelectedSnipeBloxFruit, i) then
                table.remove(getgenv().SelectedSnipeBloxFruit, table.find(SelectedSnipeBloxFruit, i))
            end
        end
    end
end)
function IsAwakedCurrent()
    if plr.Data.DevilFruit.Value == "" then return end
    local BF = GetM1WP("Blox Fruit")
    if not BF then return end
    local BF = CheckPlrBackpack(BF)
    if not BF then return end
    if BF:FindFirstChild("AwakenedMoves") and BF.AwakenedMoves:FindFirstChild("Z") then
        return true
    end
end
spawn(function()
    while wait(1) do
        pcall(function()
            if Settings.BFDealerSniper then
                if table.find(SelectedSnipeBloxFruit, tostring(plr.Data.DevilFruit.Value)) then
                    if BFDealerSniperToggle then BFDealerSniperToggle.SetStage(false) end
                    return Library.CreateNoti({Desc = "Already own " .. tostring(plr.Data.DevilFruit.Value), ShowTime = 5})
                end
                if Settings.Cuttay and IsAwakedCurrent() then
                    if BFDealerSniperToggle then BFDealerSniperToggle.SetStage(false) end
                    return Library.CreateNoti({Desc = "Current Blox Fruit are awaked (" .. tostring(plr.Data.DevilFruit.Value) .. ") can't buy another one", ShowTime = 5})
                end
                local FruitPrio = CommF:InvokeServer("GetFruits")
                table.sort(FruitPrio, function(a, b)
                    return a.Price > b.Price
                end)
                for i, v in pairs(FruitPrio) do
                    if v.OnSale
                    and table.find(SelectedSnipeBloxFruit, v.Name)
                    and (not Settings.Cuttay or plr.Data.DevilFruit.Value == "") then
                        local CurBF = plr.Data.DevilFruit.Value
                        CommF:InvokeServer("GetFruits")
                        CommF:InvokeServer("PurchaseRawFruit", v.Name)
                        wait(2)
                        if CurBF ~= plr.Data.DevilFruit.Value then
                            if Settings.BFBSDWebhook then
                                SendWebHook({
                                    ["content"] = "@everyone",
                                    ["embeds"] = {{
                                        ["title"] = "Blox Fruits",
                                        ["type"] = "rich",
                                        ["color"] = tonumber(0xbdce44),
                                        ["fields"] = {
                                            {
                                                ["name"] = "Name",
                                                ["value"] = "||" .. plr.Name .. "||",
                                                ["inline"] = false
                                            },
                                            {
                                                ["name"] = "Blox Fruit Dealer Sniper",
                                                ["value"] = "Bought " .. v.Name,
                                                ["inline"] = false
                                            }
                                        },
                                        ["footer"] = {
                                            ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                            ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                                        }
                                    }}
                                })
                            end
                            if BFDealerSniperToggle then BFDealerSniperToggle.SetStage(false) end
                            Library.CreateNoti({Desc = "Bought " .. v.Name, ShowTime = 5})
                            break
                        end
                    end
                end
                wait(10)
            end
        end)
    end
end)
BFDealerSniperToggle = Section12.CreateToggle({Title = 'Blox Fruit Dealer Sniper', Desc = "Auto buy selected Blox Fruit when on stock\n(will prioritize purchase highest value Fruit)", Default = Settings.BFDealerSniper}, function(v) 
    if v and not #SelectedSnipeBloxFruit == 0 then
        if BFDealerSniperToggle then BFDealerSniperToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "Please select a Blox Fruit you want to snipe", ShowTime = 5})
    end
    Settings.BFDealerSniper = v
end)
function GetStoreBF(path)
    for i, v in ipairs(path:GetChildren()) do
        if string.find(v.Name, " Fruit")
        and not v:FindFirstChild("Ignored") then
            return v
        end
    end
end
function GetDropBF(path)
    for i, v in ipairs(path:GetChildren()) do
        if string.find(v.Name, " Fruit")
        and v:FindFirstChild("Ignored")
        and not v:FindFirstChild("CantDrop") then
            return v
        end
    end
end
function GetNearestLocation(x)
    local Dist = math.huge
    local NearestSpawn
    for i, v in ipairs(wOrigin.Locations:GetChildren()) do
        local Mag
        if x then
            Mag = (x - v.Position).magnitude
        else
            Mag = plr:DistanceFromCharacter(v.Position)
        end
        if Mag < Dist then
            Dist = Mag
            NearestSpawn = v
        end
    end
    return NearestSpawn.Name
end
spawn(function()
    while wait(1) do
        pcall(function()
            if Settings.AutoStoreBF
            and not DisableAutoStore then
                local v = GetStoreBF(plr.Character) or GetStoreBF(plr.Backpack)
                if v then
                    getgenv().DisableEquipItem = true
                    repeat wait()
                        plr.Character.Humanoid:EquipTool(v)
                    until v.Parent == plr.Character
                    or not Settings.AutoStoreBF
                    if Settings.AutoStoreBF then
                        local FruitName = FruitNameToFF(v.Name)
                        local StoreBF = CommF:InvokeServer("StoreFruit", FruitName, v)
                        if StoreBF then
                            Library.CreateNoti({Desc = "Stored Blox Fruit " .. FruitName, ShowTime = 5})
                            if Settings.BFBSDWebhook then
                                local PingEvery1 = ""
                                if table.find(OneMilFruits, v.Name) then
                                    PingEvery1 = "@everyone"
                                end
                                SendWebHook({
                                    ["content"] = PingEvery1,
                                    ["embeds"] = {{
                                        ["title"] = "Blox Fruits",
                                        ["type"] = "rich",
                                        ["color"] = tonumber(0xbdce44),
                                        ["fields"] = {
                                            {
                                                ["name"] = "Name",
                                                ["value"] = "||" .. plr.Name .. "||",
                                                ["inline"] = false
                                            },
                                            {
                                                ["name"] = "Auto Store Blox Fruit",
                                                ["value"] = "Stored " .. v.Name,
                                                ["inline"] = false
                                            }
                                        },
                                        ["footer"] = {
                                            ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                            ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                                        }
                                    }}
                                })
                            end
                        else
                            Library.CreateNoti({Desc = "Maxed amount to store Blox Fruit " .. FruitName, ShowTime = 5})
                            plr.Character.Humanoid:UnequipTools()
                            local Ignored = Instance.new("IntValue", v)
                            Ignored.Name = "Ignored"
                        end
                    end
                else
                    if Settings.DropIfMaxed then
                        local v = GetDropBF(plr.Character) or GetDropBF(plr.Backpack)
                        if v then
                            getgenv().DisableEquipItem = true
                            repeat wait()
                                plr.Character.Humanoid:EquipTool(v)
                            until v.Parent == plr.Character
                            or not Settings.DropIfMaxed
                            if Settings.DropIfMaxed then
                                local plrPos = plr.Character.HumanoidRootPart.Position
                                plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, plrPos.Y, plrPos.Z)
                                local DropBF = v.EatRemote:InvokeServer("Drop")
                                if DropBF then
                                    Library.CreateNoti({Desc = "Dropped Blox Fruit " .. v.Name, ShowTime = 5})
                                    if Settings.BFBSDWebhook then
                                        local PingEvery1 = ""
                                        if table.find(OneMilFruits, v.Name) then
                                            PingEvery1 = "@everyone"
                                        end
                                        SendWebHook({
                                            ["content"] = PingEvery1,
                                            ["embeds"] = {{
                                                ["title"] = "Blox Fruits",
                                                ["type"] = "rich",
                                                ["color"] = tonumber(0xbdce44),
                                                ["fields"] = {
                                                    {
                                                        ["name"] = "Name",
                                                        ["value"] = "||" .. plr.Name .. "||",
                                                        ["inline"] = false
                                                    },
                                                    {
                                                        ["name"] = "Drop if Maxed",
                                                        ["value"] = "Dropped " .. v.Name
                                                        .. "\nAt (near): " .. GetNearestLocation(),
                                                        ["inline"] = false
                                                    }
                                                },
                                                ["footer"] = {
                                                    ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                                    ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                                                }
                                            }}
                                        })
                                    end
                                else
                                    Library.CreateNoti({Desc = "Can't dropped Treasure Inventory Blox Fruit\n(" .. v.Name .. ")", ShowTime = 5})
                                    local CantDrop = Instance.new("IntValue", v)
                                    CantDrop.Name = "CantDrop"
                                end
                            end
                        else
                            getgenv().DisableEquipItem = false
                        end
                    else
                        getgenv().DisableEquipItem = false
                    end
                end
            end
        end)
    end
end)
AutoStoreBFToggle = Section12.CreateToggle({Title = 'Auto Store Blox Fruit', Desc = "Auto Store Blox Fruit in Inventory to Treasure Inventory", Default = Settings.AutoStoreBF}, function(v) 
    if Settings.AutoStoreBF and not v then
       spawn(function()
            wait(.5)
            getgenv().DisableEquipItem = false   
        end)
    end
    Settings.AutoStoreBF = v
end)
Section12.CreateToggle({Title = 'Drop if Maxed', Desc = "Will drop the Blox Fruit underground place you standing if maxed stored Blox Fruit amount\n(enable with Auto Store Blox Fruit)", Default = Settings.DropIfMaxed}, function(v) 
    if Settings.DropIfMaxed and not v then
        spawn(function()
             wait(.5)
             getgenv().DisableEquipItem = false   
         end)
     end
    Settings.DropIfMaxed = v
end)
Section12 = Page1.CreateSection('Blox Fruit Farm')
function GetDroppedFruit()
    local StoredFruits = {}
    if Settings.NPIII then
        for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
            if v.details and v.details.Type == "Blox Fruit" then
                table.insert(StoredFruits, v.details.Name)
            end
        end
    end
    local Dist = math.huge
    local Fruit
    for i, v in pairs(game.workspace:GetChildren()) do
        if v:IsA("Tool")
        and not v:FindFirstChild("Ignored")
        and v:FindFirstChild("TouchInterest", true) then
            local FruitName = FruitNameToFF(v.Name)
            local x = v:FindFirstChild("TouchInterest", true)
            if x
            and not table.find(StoredFruits, FruitName) then
                local Mag = plr:DistanceFromCharacter(x.Parent.Position)
                if Mag < Dist then
                    Dist = Mag
                    Fruit = x.Parent
                end
            else
                local Ignored = Instance.new("IntValue", v)
                Ignored.Name = "Ignored"
            end
        end
    end
    return Fruit
end
TweenBFToggle = Section12.CreateToggle({Title = 'Tween Blox Fruit', Desc = "Tween to dropped Blox Fruits by Players", Default = Settings.TweenBF}, function(v) 
    if Settings.TweenBF and not v then
        spawn(function()
            wait(.5)
            ForceStopTween(true)
        end)
    end
    Settings.TweenBF = v
end)
TweenNBFToggle = Section12.CreateToggle({Title = 'Tween Natural Blox Fruit', Desc = "Work same as Tween Blox Fruit but for natural spawned Blox Fruits", Default = Settings.TweenNBF}, function(v) 
    if Settings.TweenNBF and not v then
        spawn(function()
            wait(.5)
            ForceStopTween(true)
        end)
    end
    Settings.TweenNBF = v
end)
NPIIIToggle = Section12.CreateToggle({Title = 'No pickup if in Inventory', Default = Settings.NPIII, Desc = 'Will not pickup the dropped fruit / natural fruit if that fruit already'}, function(v)
    Settings.NPIII = v
end)
BTDFHopServerToggle = Section12.CreateToggle({Title = 'Hop Server if no Fruit', Default = Settings.BTDFHopServer, Desc = 'Will Hop Server if no dropped fruit / natural fruit in current server\n(enable with Auto Store Blox Fruit / stay at Mansion)'}, function(v)
    Settings.BTDFHopServer = v
end)
Section13 = Page1.CreateSection('Visual')
function GetPlayer()
	local player
	for i, v in ipairs(game.Players:GetChildren()) do
		if v.Name ~= plr.Name
        and v.Character
		and v.Character:FindFirstChild("HumanoidRootPart")
		and not v.Character.HumanoidRootPart:FindFirstChild("Ignored") then
			player = v.Character
		end
	end
	return player
end
function IsMobAlive(v)
    if v and v.Parent
    and v:FindFirstChild("Humanoid")
    and pcall(function() return v.Humanoid.Health end)
    and v.Humanoid.Health ~= 0
    and v:FindFirstChild("HumanoidRootPart")
    and v.HumanoidRootPart.Position.Y > -100 then
        return true
    end
end
spawn(function()
    while wait(1) do
		pcall(function()
            if Settings.PlayerESP then
                local v = GetPlayer()
                if v then
                    local Ignored = Instance.new("IntValue", v.HumanoidRootPart)
                    Ignored.Name = "Ignored"
                    local Text = Drawing.new("Text")
                    Text.Visible = false
                    Text.Transparency = 1
                    Text.Text = v.Name
                    Text.Color = game.Players[v.Name].TeamColor.Color
                    Text.Size = 20
                    Text.Outline = true
                    Text.OutlineColor = Color3.fromRGB(0, 0, 0)
                    Text.Center = true
                    Text.Font = 1
                    spawn(function()
                        repeat wait()
                            if v:FindFirstChild("HumanoidRootPart") then
                                local Pos, OnScreen = CurCam:WorldToViewportPoint(v.HumanoidRootPart.Position)
                                if OnScreen then
                                    Text.Text = v.Name .. " (" .. math.round(plr:DistanceFromCharacter(v.HumanoidRootPart.Position)) .. ")"
                                    Text.Position = Vector2.new(Pos.X, Pos.Y - 20)
                                    Text.Visible = true
                                    if Targeting
                                    and Settings.SilentAim
                                    and v.Name == Targeting then
                                        Text.Color = Color3.fromRGB(130, 0, 255)
                                    elseif game.Players:FindFirstChild(v.Name) then
                                        Text.Color = game.Players[v.Name].TeamColor.Color
                                    end
                                else
                                    Text.Visible = false
                                end
                            end
                        until not v or not v.Parent or not game.Players:FindFirstChild(v.Name)
                        or not IsMobAlive(v)
                        or not Settings.PlayerESP
                        Text:Remove()
                        if v then
                            Ignored:Destroy()
                        end
                    end)
                end
            end
		end)
	end
end)
Section13.CreateToggle({Title = 'Player ESP', Default = Settings.PlayerESP, Desc = 'Will show ESP on Players'}, function(v)
	Settings.PlayerESP = v
end)
function GetBloxFruit()
    for i, v in ipairs(game.workspace:GetChildren()) do
        if string.find(v.Name, "Fruit") and not v:FindFirstChild("ESP_Ignored") then
            return v
        end
    end
end
function child_stringfind(child, string, mob, childreturn)
    if not child or not string then return end
    local target
    if not childreturn then
        target = 0
    end
    for i, v in ipairs(child:GetChildren()) do
        if not mob and string.find(v.Name, string)
        or mob and GetMobNameOnly(v.Name) == string
        and (child.Name == "ReplicatedStorage" or IsMobAlive(v)) then
            if mob
            and not childreturn then
                target = target + 1
            else
                target = v
            end
        end
    end
    return target
end
--[[
function FruitNameToFF(v)
    v = v:gsub(" Fruit", "")
    if string.find(v, ":") then
        local x = v:split(":")
        v = x[1] .. "-" .. x[1] .. ":" .. x[2]
    else
        v = v .. "-" .. v
    end
    return v
end
for i, v in pairs(plr.Backpack:GetChildren()) do
    if string.find(v.Name, " Fruit") then
        a = ""
        for _, x in pairs(v:GetDescendants()) do
            if x:IsA("MeshPart") and x.Name == "Fruit" then 
                a = '["' .. x.MeshId .. '"] = "' .. v.Name .. '",'
            end
        end
        setclipboard(a)
        local FruitName = FruitNameToFF(v.Name)
        game.ReplicatedStorage.Remotes.CommF_:InvokeServer("StoreFruit", FruitName, v)
    end
end
]]
local MeshList = {
    ["https://assetdelivery.roblox.com/v1/asset/?id=10445043756"] = "Leopard Fruit",
    ["https://assetdelivery.roblox.com/v1/asset/?id=10537896371"] = "Dragon Fruit",
    ["https://assetdelivery.roblox.com/v1/asset/?id=10056654383"] = "Control Fruit",
    ["https://assetdelivery.roblox.com/v1/asset/?id=10395893751"] = "Venom Fruit",
    ["rbxassetid://9425457162"] = "Shadow Fruit",
    ["https://assetdelivery.roblox.com/v1/asset/?id=9563214715"] = "Dough Fruit",
    ["https://assetdelivery.roblox.com/v1/asset/?id=10774284002"] = "Gravity Fruit",
    ["rbxassetid://10056526019"] = "Paw Fruit",
    ["rbxassetid://10444385994"] = "Rumble Fruit",
    ["https://assetdelivery.roblox.com/v1/asset/?id=9494083159"] = "Phoenix Fruit",
    ["https://assetdelivery.roblox.com/v1/asset/?id=10142079335"] = "Spider Fruit",
    ["rbxassetid://9371699342"] = "Buddha Fruit",
    ["rbxassetid://9470879314"] = "Quake Fruit",
    ["rbxassetid://9285667997"] = "Magma Fruit",
    ["rbxassetid://10056781097"] = "Barrier Fruit",
    ["rbxassetid://9425346075"] = "Love Fruit",
    ["rbxassetid://10575195856"] = "Light Fruit",
    ["rbxassetid://10056754334"] = "Diamond Fruit",
    ["rbxassetid://10142225958"] = "Revive Fruit",
    ["rbxassetid://9656045127"] = "Dark Fruit",
    ["rbxassetid://9450245974"] = "Sand Fruit",
    ["rbxassetid://9346383748"] = "Ice Fruit",
    ["rbxassetid://9425207048"] = "Falcon Fruit",
    ["rbxassetid://10142175929"] = "Flame Fruit",
    ["rbxassetid://9307776737"] = "Spike Fruit",
    ["rbxassetid://9307787860"] = "Smoke Fruit",
    ["rbxassetid://9307783318"] = "Bomb Fruit",
    ["rbxassetid://10057133900"] = "Spring Fruit",
    ["rbxassetid://10119881213"] = "Chop Fruit",
    ["rbxassetid://9307796569"] = "Spin Fruit",
    ["rbxassetid://9308099037"] = "Kilo Fruit",
}
function GetFruitName(v, spawnmark)
    if v.ClassName == "Tool" then return v.Name end
    local FruitName = "Fruit"
    local MeshId
    for i, v in pairs(v:GetDescendants()) do
        if v:IsA("MeshPart") and v.Name == "Fruit" then
            MeshId = v.MeshId
        end
    end
    if MeshId then
        for i, v in pairs(MeshList) do
            if i == MeshId then
                FruitName = v
            end
        end
    end
    if FruitName == "Fruit" then
        local vF = v:FindFirstChild("Fruit")
        if vF then
            if vF:FindFirstChild("Retopo_Cube.001") then
                FruitName = "Spirit Fruit"
            elseif vF:FindFirstChild("Gravity cube.026") then
                if vF:FindFirstChild("Gravity cube.001") then
                    FruitName = "Blizzard Fruit"
                else
                    FruitName = "Portal Fruit"
                end
            elseif vF:FindFirstChild("Cube.011") then
                FruitName = "Rubber Fruit" 
            end
        end
    end
    if spawnmark then
        FruitName = "[Natural Spawn]\n" .. FruitName
    end
    return FruitName
end
spawn(function()
    while wait(1) do
		pcall(function()
            if Settings.BloxFruitESP then
                local v = GetBloxFruit()
                if v then   
                    local FruitRoot = v:FindFirstChild("Handle") or v:FindFirstChild("Fruit")
                    if FruitRoot:IsA("Model") then
                        FruitRoot = FruitRoot:FindFirstChild("RootPart")
                    end
                    local Ignored = Instance.new("IntValue", v)
                    Ignored.Name = "ESP_Ignored"
                    local Text = Drawing.new("Text")
                    Text.Visible = false
                    Text.Transparency = 1
                    Text.Text = v.Name
                    Text.Color = Color3.fromRGB(240, 240, 240)
                    Text.Size = 25
                    Text.Outline = true
                    Text.OutlineColor = Color3.fromRGB(0, 0, 0)
                    Text.Center = true
                    Text.Font = 1
                    spawn(function()
                        repeat wait()
                            local Pos, OnScreen = CurCam:WorldToViewportPoint(FruitRoot.Position)
                            if OnScreen then
                                Text.Text = GetFruitName(v, true) .. " (" .. math.round(plr:DistanceFromCharacter(FruitRoot.Position)) .. ")"
                                Text.Position = Vector2.new(Pos.X, Pos.Y - 20)
                                Text.Visible = true
                            else
                                Text.Visible = false
                            end
                        until not v or not v.Parent or v.Parent ~= game.workspace
                        or not Settings.BloxFruitESP
                        Text:Remove()
                        if v then
                            Ignored:Destroy()
                        end
                    end)
                end
            end
		end)
	end
end)
Section13.CreateToggle({Title = 'Blox Fruit ESP', Default = Settings.BloxFruitESP, Desc = 'Will show ESP on Blox Fruits'}, function(v)
	Settings.BloxFruitESP = v
end)
function GetChest()
    for i, v in ipairs(game.workspace:GetChildren()) do
        if string.find(v.Name, "Chest")
        and not v:FindFirstChild("Ignored")
        and v:IsA("Part") then
            return v
        end
    end
    for i, v in ipairs(game.workspace.Map:GetDescendants()) do
        if string.find(v.Name, "Chest")
        and not v:FindFirstChild("Ignored")
        and v:IsA("Part") then
            return v
        end
    end
end
function CreateChestESP(v)
    local Ignored = Instance.new("IntValue", v)
    Ignored.Name = "Ignored"
    local Text = Drawing.new("Text")
    Text.Visible = false
    Text.Transparency = 1
    Text.Text = v.Name
    Text.Color = Color3.fromRGB(237, 197, 64)
    Text.Size = 21
    Text.Outline = true
    Text.OutlineColor = Color3.fromRGB(0, 0, 0)
    Text.Center = true
    Text.Font = 1
    spawn(function()
        repeat wait()
            local Pos, OnScreen = CurCam:WorldToViewportPoint(v.Position)
            if OnScreen then
                Text.Text = v.Name .. " (" .. math.round(plr:DistanceFromCharacter(v.Position)) .. ")"
                Text.Position = Vector2.new(Pos.X, Pos.Y - 20)
                Text.Visible = true
            else
                Text.Visible = false
            end
        until not v or not v.Parent
        or not Settings.ChestESP
        Text:Remove()
        if v then
            Ignored:Destroy()
        end
    end)
end
spawn(function()
    while wait(10) do
		pcall(function()
            if Settings.ChestESP then
                local v = GetChest()
                if v then
                    CreateChestESP(v)
                end
            end
		end)
	end
end)
Section13.CreateToggle({Title = 'Chest ESP', Default = Settings.ChestESP, Desc = 'Will show ESP on Chests'}, function(v)
    if v then
        spawn(function()
            for i, v in ipairs(game.workspace:GetChildren()) do
                if string.find(v.Name, "Chest")
                and not v:FindFirstChild("Ignored")
                and v:IsA("Part") then
                    CreateChestESP(v)
                end
            end
            for i, v in ipairs(game.workspace.Map:GetDescendants()) do
                if string.find(v.Name, "Chest")
                and not v:FindFirstChild("Ignored")
                and v:IsA("Part") then
                    CreateChestESP(v)
                end
            end
        end)
    end
	Settings.ChestESP = v
end)
if game.PlaceId == 4442272183 then
    function GetFlower()
        for i, v in ipairs(game.workspace:GetChildren()) do
            if string.find(v.Name, "Flower") and not v:FindFirstChild("ESP_Ignored") then
                return v
            end
        end
    end
    spawn(function()
        while wait(1) do
            pcall(function()
                if Settings.FlowerESP then
                    local v = GetFlower()
                    if v then
                        local Ignored = Instance.new("IntValue", v)
                        Ignored.Name = "ESP_Ignored"
                        local Text = Drawing.new("Text")
                        Text.Visible = false
                        Text.Transparency = 1
                        Text.Size = 25
                        Text.Outline = true
                        Text.OutlineColor = Color3.fromRGB(0, 0, 0)
                        Text.Center = true
                        Text.Font = 1
                        local TText
                        if v.Color == Color3.fromRGB(33, 84, 185) then
                            TText = "Blue Flower"
                            Text.Color = Color3.fromRGB(33, 84, 185)
                        elseif v.Color == Color3.fromRGB(163, 75, 75) then
                            TText = "Red Flower"
                            Text.Color = Color3.fromRGB(163, 75, 75)
                        end
                        Text.Text = TText
                        spawn(function()
                            repeat wait()
                                local Pos, OnScreen = CurCam:WorldToViewportPoint(v.Position)
                                if OnScreen then
                                    Text.Text = TText .. " (" .. math.round(plr:DistanceFromCharacter(v.Position)) .. ")"
                                    Text.Position = Vector2.new(Pos.X, Pos.Y - 20)
                                    Text.Visible = true
                                else
                                    Text.Visible = false
                                end
                            until not v or not v.Parent
                            or not Settings.FlowerESP
                            Text:Remove()
                            if v then
                                Ignored:Destroy()
                            end
                        end)
                    end
                end
            end)
        end
    end)
    Section13.CreateToggle({Title = 'Flower ESP', Default = Settings.FlowerESP, Desc = 'Will show ESP on Flower (for Race v2 quest)'}, function(v)
        Settings.FlowerESP = v
    end)
end
local Locations
if game.PlaceId == 2753915549 then
    Locations = {
        {Name = "Starter Pirate", Pos = CFrame.new(997.435, 17, 1427.503)},
        {Name = "Starter Marine", Pos = CFrame.new(-2587.954, 7, 2045.833)},
        {Name = "Jungle", Pos = CFrame.new(-1326.712, 12, 491.887)},
        {Name = "Pirate Village", Pos = CFrame.new(-1186.582, 5, 3806.41)},
        {Name = "Desert", Pos = CFrame.new(895.113, 4, 4110.854)},
        {Name = "Frozen Village", Pos = CFrame.new(1110.143, 8, -1158.728)},
        {Name = "Marine Fortress", Pos = CFrame.new(-4906.562, 42, 4423.417)},
        {Name = "Skylands", Pos = CFrame.new(-4933.48, 718, -2615.348)},
        {Name = "Prison", Pos = CFrame.new(4846.092, 6, 733.926)}, 
        {Name = "Colosseum", Pos = CFrame.new(-1433.266, 8, -2808.647)},
        {Name = "Magma Village", Pos = CFrame.new(-5234.838, 9, 8445.013)},
        {Name = "Underwater City Entrance", Pos = CFrame.new(3872.264, 6, -1904.515), InstantTP = true},
        {Name = "Underwater City", Pos = CFrame.new(61163.8515625, 5.333106994628906, 1819.7841796875), InstantTP = true},
        {Name = "Skylands 2 Entrance", Pos = CFrame.new(-4607.82275390625, 872.5682983398438, -1667.556884765625), InstantTP = true},
        {Name = "Skylands 2 First", Pos = CFrame.new(-7894.61767578125, 5545.51904296875, -380.29119873046875), InstantTP = true},
        {Name = "Skylands 2 Second", Pos = CFrame.new(-7755.484, 5607, -1322.732)},
        {Name = "Fountain City", Pos = CFrame.new(5198.073, 39, 4114.87)},
        {Name = "Middle Town", Pos = CFrame.new(-711.315, 8, 1650.729)},
    }
elseif game.PlaceId == 4442272183 then
    Locations = {
        {Name = "Kingdom of Rose 1", Pos = CFrame.new(-392.257, 74, 1838.246)},
        {Name = "Kingdom of Rose 2", Pos = CFrame.new(585.803, 74, 919.134)},
        {Name = "Green Zone", Pos = CFrame.new(-2253.962, 74, -2685.214)},
        {Name = "Graveyard Island", Pos = CFrame.new(-5374.564, 10, -710.854)},
        {Name = "Snow Mountain", Pos = CFrame.new(438.361, 402, -5340.461)},
        {Name = "Half Cold", Pos = CFrame.new(-5891.036, 16, -5004.396)},
        {Name = "Half Hot", Pos = CFrame.new(-5467.585, 16, -5114.366)},
        {Name = "Cursed Ship Entrance", Pos = CFrame.new(-6508.55810546875, 83.21284484863281, -132.83953857421875), InstantTP = true},
        {Name = "Cursed Ship", Pos = CFrame.new(921.777, 126, 32859.688), InstantTP = true},
        {Name = "Ice Castle", Pos = CFrame.new(5550.848, 28.226, -6138.585)},
        {Name = "Forgotten Island", Pos = CFrame.new(-3041.354, 237, -10159.917)},
        {Name = "Dock", Pos = CFrame.new(-12.024, 30, 2768.837)},
        {Name = "Cafe", Pos = CFrame.new(-380.411, 74, 303.237)},
        {Name = "Factory", Pos = CFrame.new(428.505, 212, -429.62)},
        {Name = "???", Pos = CFrame.new(-2058.603, 126, -82.654)},
        {Name = "Colosseum", Pos = CFrame.new(-1836.411, 46, 1360.237)},
        {Name = "Mansion", Pos = CFrame.new(-391.738, 323, 782.886)}, 
        {Name = "Swan's Room", Pos = CFrame.new(2284.912109375, 15.15204906463623, 905.48291015625), InstantTP = true},
        {Name = "Dark Arena", Pos = CFrame.new(3750.262, 15, -3496.829)},
        {Name = "Raid Room", Pos = CFrame.new(-6517.805, 251, -4478.612)},
        {Name = "Law Raid Room", Pos = CFrame.new(-5552.231, 330, -5924.368)},
        {Name = "Usoapp Island", Pos = CFrame.new(4740.789, 8, 2897.414)},
    }
elseif game.PlaceId == 7449423635 then
    Locations = {
        {Name = "Port Town", Pos = CFrame.new(-288.28762817383, 29.447841644287, 5396.0268554688)},
        {Name = "Friendly Arena", Pos = CFrame.new(4671.3901367188, 51.488090515137, -1448.5268554688)},
        {Name = "Hydra Island (Under)", Pos = CFrame.new(3490.2419433594, 51.377799987793, 1617.46875)},
        {Name = "Hydra Island (Above)", Pos = CFrame.new(5768.31982421875, 610.4500122070312, -210.5147705078125), InstantTP = true},
        {Name = "Great Tree", Pos = CFrame.new(2234.2048339844, 25.88773727417, -6427.1098632813)},
        {Name = "Castle on the Sea", Pos = CFrame.new(-5056.90966796875, 314.5413818359375, -3156.484130859375), InstantTP = true},
        {Name = "Mansion", Pos = CFrame.new(-12464.21484375, 374.9403381347656, -7531.00341796875), InstantTP = true},
        {Name = "Floating Turtle", Pos = CFrame.new(-11343.61328125, 331.75823974609, -10407.4453125)},
        {Name = "Yama Room", Pos = CFrame.new(5226.8344726563, 5.2873110771179, 1072.3922119141)},
        {Name = "Haunted Castle", Pos = CFrame.new(-9506.11, 141.181, 5526.04)},
        {Name = "Sea of Treats 1", Pos = CFrame.new(-2082.1982421875, 38.139175415039, -10199.189453125)},
        {Name = "Sea of Treats 2", Pos = CFrame.new(-904.98992919922, 58.980766296387, -10879.041992188)},
        {Name = "Sea of Treats 3", Pos = CFrame.new(-1927.7567138671875, 37.82396697998047, -11808.140625)},
        {Name = "Sea of Treats 4", Pos = CFrame.new(186.59783935546875, 24.760190963745117, -12098.7099609375)},
        {Name = "Candy Cane", Pos = CFrame.new(-1046.3201904296875, 14.821266174316406, -14165.2978515625)},
    }
end
Section13.CreateToggle({Title = 'Locations ESP', Default = Settings.LocationsESP, Desc = 'Will show ESP on Locations / Islands'}, function(x)
	spawn(function()
        if x then
            for i, v in pairs(Locations) do
                local Text = Drawing.new("Text")
                Text.Visible = false
                Text.Transparency = 1
                Text.Text = v.Name
                Text.Color = Color3.fromRGB(150, 150, 150)
                Text.Size = 20
                Text.Outline = true
                Text.OutlineColor = Color3.fromRGB(0, 0, 0)
                Text.Center = true
                Text.Font = 1
                spawn(function()
                    repeat wait()
                        local Pos, OnScreen = CurCam:WorldToViewportPoint(Vector3.new(v.Pos.Position.X, v.Pos.Position.Y, v.Pos.Position.Z))
                        if OnScreen then
                            Text.Text = v.Name.. " (" .. math.round(plr:DistanceFromCharacter(v.Pos.Position)) .. ")"
                            Text.Position = Vector2.new(Pos.X, Pos.Y - 20)
                            Text.Visible = true
                        else
                            Text.Visible = false
                        end
                    until not Settings.LocationsESP
                    Text:Remove()
                end)
            end
        end
	end)
    Settings.LocationsESP = x
end)
Section13 = Page1.CreateSection('Performance')
function PressFastModeButton(v)
    local x = plr.PlayerGui.Main.Settings.Frame[v]
    if x.Button.AbsolutePosition == x:GetChildren()[2].AbsolutePosition then
        FireButton(x.Button)
    end
end
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local WindowFocusReleasedFunction = function()
    getgenv().TabStatus = "Out"
    if Settings.BoostFPS then
        RunService:Set3dRenderingEnabled(false)
    end
end
local WindowFocusedFunction = function()
    getgenv().TabStatus = "In"
    if Settings.BoostFPS then
        RunService:Set3dRenderingEnabled(true)
    end
end
UserInputService.WindowFocusReleased:Connect(WindowFocusReleasedFunction)
UserInputService.WindowFocused:Connect(WindowFocusedFunction)
game.workspace.Terrain.ChildAdded:Connect(function(v)
    if Settings.BoostFPS and v.Name == "Attachment" and v:FindFirstChild("Trail") then
        v.Trail.Enabled = false
    end
end)
BoostFPSToggle = Section13.CreateToggle({Title = 'Boost FPS', Default = Settings.BoostFPS}, function(v)
	Settings.BoostFPS = v
	spawn(function()
		if v and not BoostedFPS then
			getgenv().BoostedFPS = true
            game:GetService("RunService"):Set3dRenderingEnabled(true)
            local Lighting = game:GetService("Lighting")
            local Terrain = workspace:FindFirstChildOfClass("Terrain")
            sethiddenproperty(Terrain, "Decoration", false)
            sethiddenproperty(game.Lighting, "Technology", 0)
            settings().Rendering.QualityLevel = 1
            Lighting.GlobalColorCorrection.Enabled = false
            Lighting.Brightness = 0 
            pcall(function()
                Terrain.WaterWaveSize = 0
                Terrain.WaterWaveSpeed = 0
                Terrain.WaterReflectance = 0
                Terrain.WaterTransparency = 0
            end)
            for i, v in ipairs(Lighting:GetDescendants()) do
                if v:IsA("BlurEffect")
                or v:IsA("SunRaysEffect")
                or v:IsA("BloomEffect")
                or v:IsA("DepthOfFieldEffect") then
                    v.Enabled = false
                end
            end
            wait(1)
            for i, v in ipairs(workspace:GetDescendants()) do
                if v:IsA("Part")
                or v:IsA("SpawnLocation")
                or v:IsA("WedgePart")
                or v:IsA("Terrain")
                or v:IsA("UnionOperation")
                or v:IsA("CornerWedgePart")
                or v:IsA("TrussPart") then
                    v.Material = "Plastic"
                    v.Reflectance = 0
                elseif v:IsA("MeshPart") then
                    v.Material = "Plastic"
                    v.Reflectance = 0
                    v.TextureID = ""
                elseif v.ClassName == "Decal"
                or v.ClassName == "Texture" then
                    v.Transparency = 1
                elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then
                    v.Lifetime = NumberRange.new(0)
                elseif v:IsA("Explosion") then
                    v.BlastPressure = 1
                    v.BlastRadius = 1
                end
            end
            wait(3)
            FireButton(plr.PlayerGui.Main.Settings.FastModeButton)
            loadstring([[
                local old
                    old = hookfunction(require(game.Players.LocalPlayer.PlayerScripts.CombatFramework.Particle).play, function(...) 
                end)
            ]])()
		end
	end)
end)
NoFogToggle = Section13.CreateToggle({Title = 'No Fog', Default = Settings.NoFog}, function(v)
	Settings.NoFog = v
    if v and game.Lighting:FindFirstChild("LightingLayers") then
        game.Lighting.LightingLayers:Destroy()
    end
end)
RemoveScreenShakeToggle = Section13.CreateToggle({Title = 'Remove Screen Shake', Default = Settings.RemoveScreenShake}, function(v)
	Settings.RemoveScreenShake = v
    if v and not RunRemoveScreenShake then
        getgenv().RunRemoveScreenShake = true
        require(game.ReplicatedStorage.Util.CameraShaker):Stop()
    end
end)
function CheckSkillUseable(v, x)
    if plr.PlayerGui.Main.Skills[v]:FindFirstChild(x)
    and plr.PlayerGui.Main.Skills[v][x].Title.TextColor3 == Color3.fromRGB(255, 255, 255)
    and plr.PlayerGui.Main.Skills[v][x].Cooldown.Size == UDim2.new(0, 0, 1, -1) then
        return true
    end
end
function UseSkillZ(x)
    if CheckSkillUseable(x, "Z") then
        game:GetService("VirtualInputManager"):SendKeyEvent(true, "Z", false, game)
        game:GetService("VirtualInputManager"):SendKeyEvent(false, "Z", false, game)
    end
end
local IgnoreZFruits = {
    "Control-Control",
    "Human-Human: Buddha",
    "Diamond-Diamond",
    "Bird-Bird: Falcon"
}
function AutoSkill(v, m)
    for _, x in pairs(SelectedAutoSkill) do
        if (x ~= "Z" or x == "Z" and not table.find(IgnoreZFruits, m))
        and CheckSkillUseable(m, x) then
            getgenv().AimPos = v.HumanoidRootPart.Position
            game:GetService("VirtualInputManager"):SendKeyEvent(true, x, false, game)
            local Timer = tick()
            repeat wait()
            until not IsMobAlive(v)
            or tick() - Timer >= Settings.HoldSkillTime[x]
            or IsPlayerDead()
            or not Settings.MasteryFarm
            getgenv().AimPos = v.HumanoidRootPart.Position
            game:GetService("VirtualInputManager"):SendKeyEvent(false, x, false, game)
        else
            if m == "Rubber-Rubber" then
                getgenv().AimPos = v.HumanoidRootPart.Position
                plr.Character.Humanoid['']:InvokeServer("TAP")
            end
        end
    end
end
local FDealDamageFruits = {
    "Venom-Venom",
    "Shadow-Shadow",
    "Dough-Dough"
}
local SkillList = {"Z", "X", "C", "V", "F"}
function GetUseableSkillWP()
    for i, v in ipairs(plr.PlayerGui.Main.Skills:GetDescendants()) do
        if table.find(SkillList, v.Name)
        and v.Title.Text ~= "Transformation"
        and v.Title.TextColor3 == Color3.fromRGB(255, 255, 255) 
        and v.Cooldown.Size == UDim2.new(0, 0, 1, -1)
        and (v.Name ~= "Z" or v.Name == "Z" and not table.find(IgnoreZFruits, v.Parent.Name))
        and (v.Name ~= "F" or v.Name == "F" and table.find(FDealDamageFruits, v.Parent.Name)) then
            return v.Parent.Name
        end
    end
end
if game.PlaceId == 7449423635 then
    Section14 = Page1.CreateSection('World Quest Helper')
    function BrF(pathname)
        for i, v in ipairs(game.workspace[pathname]:GetChildren()) do 
            if v:IsA("Tool")
            and v:FindFirstChild("Handle") then
                firetouchinterest(plr.Character.HumanoidRootPart, v.Handle, 0)
                firetouchinterest(plr.Character.HumanoidRootPart, v.Handle, 1)
            end
        end
    end
    function BringFruit(Status)
        _G.ToggleBringFruit = Status
        while _G.ToggleBringFruit and wait(1) do
            pcall(function()
                BrF("PineappleSpawner")
                BrF("AppleSpawner")
                BrF("BananaSpawner")
            end)
        end
    end
    Section14.CreateToggle({Title = 'Bring Fruit', Desc = 'Bring Fruit for Observation Haki v2 quest'}, function(v)
        spawn(function()
            BringFruit(v)
        end)
    end)
    Section14.CreateDropdown({Title = "Tween Haki Color Buttons", List = {
        "Winter Sky",
        "Pure Red",
        "Snow White"
    }}, function(v)
        if v then
            if v == "Winter Sky" then
                Tween(CFrame.new(-5420.17, 1090.97, -2666.82), true)
                CommF:InvokeServer("activateColor", "Winter Sky")
            elseif v == "Pure Red" then
                Tween(CFrame.new(-5414.41, 315.866, -2212.46), true)
                CommF:InvokeServer("activateColor", "Pure Red")
            else
                Tween(CFrame.new(-4971.48, 335.566, -3720.03), true)
                CommF:InvokeServer("activateColor", "Snow White")
            end
        end
    end)
    Section14 = Page1.CreateSection('Race v4 Helper')
    function GetBlueGear()
        if not game.workspace.Map:FindFirstChild("MysticIsland") then return end
        for i, v in pairs(game.workspace.Map.MysticIsland:GetChildren()) do
            if v:IsA("MeshPart")
            and v.MeshId == "rbxassetid://10153114969"
            and v.Transparency == 0 then
                return v
            end
        end
    end
    function GetHighestMirageIsland()
        for i, v in pairs(game.workspace.Map.MysticIsland:GetDescendants()) do
            if v:IsA("MeshPart") then
                if v.MeshId == "rbxassetid://6745037796" then
                    return v
                end
            end
        end
    end
    Section14.CreateDropdown({Title = "Tween Race v4 Locations", List = {
        "Moon Mirage Artifact (Blue Gear)",
        "Highest Mirage Island Place",
        "Race Door (Temple of Time)"
    }}, function(v)
        if v then
            if v == "Moon Mirage Artifact (Blue Gear)" then
                if game.workspace.NPCs["Advanced Fruit Dealer"].HumanoidRootPart.Position.Y > -100 then
                    local v = GetBlueGear()
                    if v then
                        Tween(v.Position, true)
                    else
                        Library.CreateNoti({Desc = "Moon Mirage Artifact (Blue Gear) not found", ShowTime = 5})
                    end
                else
                    Library.CreateNoti({Desc = "Mirage Island not found", ShowTime = 5})
                end
            elseif v == "Highest Mirage Island Place" then
                if game.workspace.NPCs["Advanced Fruit Dealer"].HumanoidRootPart.Position.Y > -100 then
                    local v = GetHighestMirageIsland()
                    if v then
                        Tween(v.CFrame * CFrame.new(0, 211.88, 0), true)
                    end
                else
                    Library.CreateNoti({Desc = "Mirage Island not found", ShowTime = 5})
                end
            else
                if not CommF:InvokeServer("CheckTempleDoor") then
                    Library.CreateNoti({Desc = "You haven't finished Mirage Moon Artifact Quest", ShowTime = 5})
                    return
                end
                if plr:DistanceFromCharacter(wOrigin.Locations["Temple of Time"].Position) > 2000 then
                    Tween(game.workspace.NPCs["Mysterious Force"].Head.CFrame, true)
                    wait(.5)
                    CommF:InvokeServer("RaceV4Progress", "Teleport")
                end
                if plr:DistanceFromCharacter(wOrigin.Locations["Temple of Time"].Position) < 2000 then
                    if game.workspace.Map["Temple of Time"].Lever.Prompt:FindFirstChild("ProximityPrompt") then
                        Tween(game.workspace.Map["Temple of Time"].Lever.Prompt.Position)
                        wait(.5)
                        fireproximityprompt(game.workspace.Map["Temple of Time"].Lever.Prompt.ProximityPrompt)
                        wait(1)
                    end
                    Tween(game.workspace.Map["Temple of Time"][plr.Data.Race.Value .. "Corridor"].Door.Door.RightDoor.Union.CFrame * CFrame.new(0, 0, 5), true)
                end
            end
        end
    end)
    function GetAncientOneStatus()
        if not plr.Character:FindFirstChild("RaceTransformed") then
            return "You have yet to achieve greatness"
        end;
        local v227 = nil;
        local v228 = nil;
        local v229 = nil;
        v229, v228, v227 = CommF:InvokeServer("UpgradeRace", "Check");
        if v229 == 1 then
            return "Required Train More"
        elseif v229 == 2 or v229 == 4 or v229 == 7 then
            return "Can Buy Gear With "..v227.." Fragments"
        elseif v229 == 3 then
            return "Required Train More"
        elseif v229 == 5 then
            return "You Are Done Your Race."
        elseif v229 == 6 then
            return "Upgrades completed: " .. v228 - 2 .. "/3, Need Trains More"
        end
        if v229 ~= 8 then
            if v229 == 0 then 
                return "Ready For Trial"
            else
                return "You have yet to achieve greatness"
            end
        end
        return "Remaining " .. 10 - v228 .. " training sessions."
    end
    Section14.CreateButton({Title = "Check Ancient One Status"}, function()
        Library.CreateNoti({Desc = GetAncientOneStatus(), ShowTime = 5})
    end)
    spawn(function()
        while wait(2) do
            if Settings.AutoBuyAOTicket then
                CommF:InvokeServer("UpgradeRace", "Buy")
                wait(10)
            end
        end
    end)
    Section14.CreateToggle({Title = 'Buy Ancient One Ticket', Default = Settings.AutoBuyAOTicket, Desc = 'Auto buy Trial Ticket with 10k Fragments'}, function(v)
        Settings.AutoBuyAOTicket = v
    end)
    function GetTrialSeaBeast()
        for i, v in ipairs(game.workspace.SeaBeasts:GetChildren()) do
            if v.Name == "SeaBeast1"
            and v:FindFirstChild("HealthBBG")
            and (v.HumanoidRootPart.Position - wOrigin.Locations:FindFirstChild("Trial of Water").Position).magnitude < 1000 then
                local MaxHealth = v.HealthBBG.Frame.TextLabel.Text:split("/")[2]
                MaxHealth = MaxHealth:gsub(",", "")
                MaxHealth = tonumber(MaxHealth)
                if MaxHealth >= 1 then
                    return v
                end
            end
        end
    end
    spawn(function()
        while wait() do
            if Settings.AutoMirageMoonArtifact then
                pcall(function()
                    local RaceV4Progress = CommF:InvokeServer("RaceV4Progress", "Check")
                    if RaceV4Progress == 1 then
                        Tween(game.workspace.NPCs["Sealed King"].Head.CFrame, true)
                        wait(.5)
                        CommF:InvokeServer("RaceV4Progress", "Begin")
                    elseif RaceV4Progress == 2 then
                        Tween(game.workspace.NPCs["Mysterious Force"].Head.CFrame, true)
                        wait(.5)
                        CommF:InvokeServer("RaceV4Progress", "Teleport")
                    elseif RaceV4Progress == 3 then
                        Tween(game.workspace.NPCs["Sealed King"].Head.CFrame, true)
                        wait(.5)
                        CommF:InvokeServer("RaceV4Progress", "Continue")
                    elseif RaceV4Progress == 4 then
                        if CommF:InvokeServer("CheckTempleDoor") then
                            AutoMirageMoonArtifactToggle.SetStage(false)
                            Library.CreateNoti({Desc = "Completed Mirage Moon Artifact Quest", ShowTime = 5})
                        else
                            if not QuestNoti and not Settings.AMMAHopServer and not (game.Lighting.ClockTime >= 18 or game.Lighting.ClockTime <= 4) then
                                Library.CreateNoti({Desc = "Waiting for Night time and Mirage Island", ShowTime = 20})
                                getgenv().QuestNoti = true
                            end
                            if game.workspace.NPCs["Advanced Fruit Dealer"].HumanoidRootPart.Position.Y > -100 then
                            --and (game.Lighting.ClockTime >= 18 or game.Lighting.ClockTime <= 4) then
                                local v = GetHighestMirageIsland()
                                if v then
                                    repeat wait()
                                        local Pos = v.CFrame * CFrame.new(0, 211.88, 0)
                                        if plr:DistanceFromCharacter(Pos.Position) > 10 then
                                            Tween(Pos, true)
                                            wait(2)
                                        else
                                            plr.CameraMinZoomDistance = 0
                                            game.Workspace.CurrentCamera.CFrame = CFrame.new(game.Workspace.CurrentCamera.CFrame.p, game.Workspace.CurrentCamera.CFrame.p + game.Lighting:GetMoonDirection())
                                            game:GetService("VirtualInputManager"):SendKeyEvent(true, "T", false, game)
                                            game:GetService("VirtualInputManager"):SendKeyEvent(false, "T", false, game)
                                        end
                                    until GetBlueGear() or not not game.workspace.Map:FindFirstChild("MysticIsland") 
                                    game.Players.LocalPlayer.CameraMaxZoomDistance = 200
                                    local v = GetBlueGear()
                                    if v then
                                        Tween(v.Position, true)
                                        wait(2)
                                    end
                                end
                            elseif Settings.AMMAHopServer then
                                Library.CreateNoti({Desc = "Hopping Server for Night time / Mirage Island", ShowTime = 5})
                                HopServer()
                                wait(5)
                                return
                            end
                        end
                    end
                end)
            end
        end
    end)
    getgenv().AutoMirageMoonArtifactToggle = Section14.CreateToggle({Title = 'Auto Mirage Moon Artifact (Blue Gear)', Default = Settings.AutoMirageMoonArtifact, Desc = "Aka Auto Temple of Time Lever\nAlso auto talk with Sealed King if you haven't"}, function(v)
        Settings.AutoMirageMoonArtifact = v
        if v then
            if CommF:InvokeServer("RaceV4Progress", "Check") == 0 then
                AutoMirageMoonArtifactToggle.SetStage(false)
                Library.CreateNoti({Desc = "Please kill rip_indra once first", ShowTime = 5})
            elseif CommF:InvokeServer("CheckTempleDoor") then
                AutoMirageMoonArtifactToggle.SetStage(false)
                Library.CreateNoti({Desc = "You already completed Mirage Moon Artifact Quest", ShowTime = 5})
            end
        else
            game.Players.LocalPlayer.CameraMaxZoomDistance = 200
        end
    end)
    Section14.CreateToggle({Title = 'Hop Server if no Mirage Moon', Desc = "Will Hop Server if no current server don't have Night time / Mirage Island", Default = Settings.AMMAHopServer}, function(v)
        Settings.AMMAHopServer = v
    end)
    function Rv4Trial()
        local Mote = game.workspace:FindFirstChild("Mote")
        if Mote then
            repeat wait()
                local Prompt = game:GetService("Workspace").Map["Temple of Time"]:FindFirstChild("Prompt")
                if Prompt then
                    Tween(Prompt.Position)
                else
                    Tween(Mote.Position)
                end
                if Mote.ProximityPrompt.Enabled then
                    fireproximityprompt(Mote.ProximityPrompt)
                end
            until not Mote or not game.workspace:FindFirstChild("Mote") or not Settings.AutoRacev4Trial
            local Prompt = game:GetService("Workspace").Map["Temple of Time"]:FindFirstChild("Prompt")
            if Prompt.ProximityPrompt.Enabled and Settings.AutoRacev4Trial then
                repeat wait()
                    Tween(Prompt.Position)
                    fireproximityprompt(Prompt.ProximityPrompt)
                until plr.PlayerGui.TempleGui.Enabled or not Settings.AutoRacev4Trial
                wait(1)
                CommF:InvokeServer("TempleClock", "SpendPoint")
            end
        end
        if plr.Data.Race.Value == "Mink" then
            if plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of Speed").Position) < 1000 then
                repeat wait()
                    local TheMazePoint = game.workspace:FindFirstChild("StartPoint")
                    if TheMazePoint and plr:DistanceFromCharacter(TheMazePoint.Position) < 500 then
                        Tween(TheMazePoint.Position, true)
                        wait(1)
                    end
                until plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of Speed").Position) > 1000
                or not Settings.AutoRacev4Trial
                getgenv().noclip = false
            end
        elseif plr.Data.Race.Value == "Skypiea" then
            if plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of the King").Position) < 1000 then
                repeat wait()
                    local TheMazePoint = game.workspace.Map.SkyTrial.Model:FindFirstChild("FinishPart")
                    if TheMazePoint and plr:DistanceFromCharacter(TheMazePoint.Position) < 750 then
                        Tween(TheMazePoint.Position, true)
                        wait(1)
                    end
                until plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of the King").Position) > 1000
                or not Settings.AutoRacev4Trial
                getgenv().noclip = false
            end
        elseif plr.Data.Race.Value == "Cyborg" then
            if plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of the Machine").Position) < 1000 then
                repeat wait()
                    Tween(CFrame.new(-20013.2402, 10090.5332, -17.1017056))
                    wait(1)
                until plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of the Machine").Position) > 1000
                or not Settings.AutoRacev4Trial
                getgenv().noclip = false
            end
        elseif plr.Data.Race.Value == "Human" then
            if plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of Strength").Position) < 1000 then
                local v = GetMob({"Light Master", "Darkness Master", "Rumble Master", "Flame Master"})
                if v then
                    repeat wait()
                        if plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of Strength").Position) < 1000 then
                            AttackMob(v)
                        end
                    until not IsMobAlive(v)
                    or plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of Strength").Position) > 1000
                    or not Settings.AutoRacev4Trial
                    ForceStopTween()
                    wait(1)
                    getgenv().noclip = false
                end
            end
        elseif plr.Data.Race.Value == "Ghoul" then
            if plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of Carnage").Position) < 1000 then
                local v = GetMob("Ancient Zombie")
                if v then
                    repeat wait()
                        if plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of Carnage").Position) < 1000 then
                            AttackMob(v)
                        end
                    until not IsMobAlive(v)
                    or plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of Carnage").Position) > 1000
                    or not Settings.AutoRacev4Trial
                    ForceStopTween()
                    wait(1)
                    getgenv().noclip = false
                end
            end
        elseif plr.Data.Race.Value == "Fishman" then
            if plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of Water").Position) < 1000 then
                local v = GetTrialSeaBeast()
                if v then
                    for i, v in ipairs(plr.Backpack:GetChildren()) do
                        if v:IsA("Tool")
                        and v.ToolTip ~= "" then
                            plr.Character.Humanoid:EquipTool(v)
                        end
                        wait(.25)
                    end
                    plr.Character.Humanoid:UnequipTools()
                    repeat wait()
                        if plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of Water").Position) < 1000 then
                            local k = GetUseableSkillWP()
                            if k then
                                if not plr.Character:FindFirstChild(k) then
                                    EquipItem(k)
                                end
                                local Root = v:FindFirstChild("HumanoidRootPart")
                                Tween(Root.CFrame * CFrame.new(0, 200, 0), nil, nil, true)
                                for _, x in pairs(SkillList) do
                                    if v and v.Parent
                                    and plr:DistanceFromCharacter(Root.Position) < 400
                                    and CheckSkillUseable(k, x)
                                    and (x ~= "Z" or x == "Z" and not table.find(IgnoreZFruits, k))
                                    and (x ~= "F" or x == "F" and table.find(FDealDamageFruits, k))
                                    and plr.PlayerGui.Main.Skills[k][x].Title.Text ~= "Transformation"
                                    and Root.Position.Y + 200 > 0
                                    and v:FindFirstChild("Health")
                                    and v.Health.Value ~= 0 then
                                        Tween(Root.CFrame * CFrame.new(0, 200, 0), nil, nil, true)
                                        game:GetService("VirtualInputManager"):SendKeyEvent(true, x, false, game)
                                        game:GetService("VirtualInputManager"):SendKeyEvent(false, x, false, game)
                                    end
                                end
                            end
                        end
                    until not v or not v.Parent
                    or not v:FindFirstChild("Health")
                    or v.Health.Value <= 0
                    or not Settings.AutoRacev4Trial
                    or plr:DistanceFromCharacter(wOrigin.Locations:FindFirstChild("Trial of Water").Position) > 1000
                    spawn(function()
                        local v = 0
                        repeat wait()
                            ForceStopTween()
                            getgenv().noclip = false
                            v = v + 1
                            wait(.5)
                        until v >= 10
                    end)
                end
            end
        end
    end
    spawn(function()
        while wait() do
            if Settings.AutoRacev4Trial then
                pcall(function()
                    Rv4Trial()
                end)
            end
        end
    end)
    getgenv().AutoRacev4TrialToggle = Section14.CreateToggle({Title = 'Auto Race v4 Trial', Default = Settings.AutoRacev4Trial, Desc = 'Must active Race ability by hand the join Trial progress\n(require multiplayer to active Race Door)'}, function(v)
        if v then
            spawn(function()
                pcall(function()
                    if CommF:InvokeServer("CheckTempleDoor") then
                        if plr:DistanceFromCharacter(wOrigin.Locations["Temple of Time"].Position) > 2000 then
                            Tween(game.workspace.NPCs["Mysterious Force"].Head.CFrame, true)
                            wait(.5)
                            CommF:InvokeServer("RaceV4Progress", "Teleport")
                        end
                        if plr:DistanceFromCharacter(wOrigin.Locations["Temple of Time"].Position) < 2000 then
                            if game.workspace.Map["Temple of Time"].Lever.Prompt:FindFirstChild("ProximityPrompt") then
                                Tween(game.workspace.Map["Temple of Time"].Lever.Prompt.Position)
                                wait(.5)
                                fireproximityprompt(game.workspace.Map["Temple of Time"].Lever.Prompt.ProximityPrompt)
                                wait(1)
                            end
                            Tween(game.workspace.Map["Temple of Time"][plr.Data.Race.Value .. "Corridor"].Door.Door.RightDoor.Union.CFrame * CFrame.new(0, 0, 5), true)
                        end
                    end
                end)
            end)
        end
        Settings.AutoRacev4Trial = v
    end)
end

Page2 = Title.CreatePage({Page_Name = 'Farm', Page_Title = 'Farm Tab'})
Section21 = Page2.CreateSection('Setting')
getgenv().CheckM1Weapon = function(v)
    if v.ToolTip == "Melee"
    or v.ToolTip == "Sword"
    or v.ToolTip == "Gun" 
    or v.Name == "Light-Light"
    or v.Name == "Ice-Ice" then
        return true
    end
end
function IsM1Weapon(v)
    if v:IsA("Tool")
    and CheckM1Weapon(v) then
        return true
    end
end
function GetM1WP(x)
    if not x then x = "Melee" end
    for i, v in ipairs(plr.Backpack:GetChildren()) do 
        if v:IsA("Tool") and v.ToolTip == x then
            return v.Name
        end
    end
    for i, v in ipairs(plr.Character:GetChildren()) do 
        if v:IsA("Tool") and v.ToolTip == x then
            return v.Name
        end
    end
end
function EquipItem(v, Ignore)
    if DisableEquipItem and not Ignore then return end
    local x = plr.Backpack:FindFirstChild(v)
    if not v or not x then return end
    plr.Character.Humanoid:EquipTool(x)
    wait(.5)
end
function GetWeaponList(x)
    if not plr:FindFirstChild("Backpack") then return {} end
    WeaponList = {}
    for i, v in ipairs(plr.Backpack:GetChildren()) do 
        if x
        and v:IsA("Tool")
        and v.ToolTip ~= ""
        and v.ToolTip ~= "Wear"
        or IsM1Weapon(v) then
            table.insert(WeaponList, v.Name)
        end
    end
    for i, v in ipairs(plr.Character:GetChildren()) do 
        if x
        and v:IsA("Tool")
        and v.ToolTip ~= ""
        and v.ToolTip ~= "Wear"
        or IsM1Weapon(v) then
            table.insert(WeaponList, v.Name)
        end
    end
    return WeaponList
end
SelectM1WeaponDropdown = Section21.CreateDropdown({Title = 'Select M1 Weapon', List = GetWeaponList(), Default = Settings.SelectM1Weapon}, function(v)
    Settings.SelectM1Weapon = v
end)
Section21.CreateButton({Title = 'Refresh M1 Weapon List'}, function()
    if SelectM1WeaponDropdown then
        SelectM1WeaponDropdown:GetNewList(GetWeaponList())
    end
end)
Section21.CreateSlider({Title = "Away Distance", Min = 5, Max = 40, Default = Settings.Distance or 30}, function(v)
    Settings.Distance = v
end)
AttackNoCDToggle = Section21.CreateToggle({Title = 'Attack No Cooldown', Default = Settings.AttackNoCD, Desc = 'Only work with Auto Farm features'}, function(v)
    Settings.AttackNoCD = v
end)
BringMobToggle = Section21.CreateToggle({Title = 'Bring Mob', Default = Settings.BringMob, Desc = 'Will bring all other Mobs to attacking Mob'}, function(v)
    Settings.BringMob = v
end)
Section22 = Page2.CreateSection('Mob Farm')
getgenv().SelectedMFMob = {}
local FirstMob = {
    "Bandit",
    "Raider",
    "Pirate Millionaire"
}
if game.PlaceId == 2753915549 then
    table.remove(FirstMob, 1)
elseif game.PlaceId == 4442272183 then
    table.remove(FirstMob, 2)
elseif game.PlaceId == 7449423635 then
    table.remove(FirstMob, 3)
end
function IsMobInTable(FirstMob, x)
    for i, v in pairs(x) do
        if table.find(FirstMob, i) then
            return true
        end
    end
end
if not Settings.MFMob
or typeof(Settings.MFMob) ~= "table"
or IsMobInTable(FirstMob, Settings.MFMob) then
    Settings.MFMob = {}
    for i, v in pairs(MobsName) do
        Settings.MFMob[v] = false
    end
else
    local MobLCheck = {}
    for i, v in pairs(Settings.MFMob) do
        if v then
            table.insert(getgenv().SelectedMFMob, i)
        end
        table.insert(MobLCheck, i)
    end
    for i, v in pairs(MobsName) do
        if not table.find(MobLCheck, v) then
            Settings.MFMob[v] = false
        end
    end
end
Section22.CreateDropdown({Title = "Select Mob", List = Settings.MFMob, Selected = true, Search = true}, function(i, v)
    if i then
        Settings.MFMob[i] = v
        if v then
            table.insert(getgenv().SelectedMFMob, i)
        elseif table.find(getgenv().SelectedMFMob, i) then
            table.remove(getgenv().SelectedMFMob, table.find(getgenv().SelectedMFMob, i))
        end
    end
end)
AutoDLToggle = Section22.CreateToggle({Title = 'Auto Detect Level', Desc = "Will auto detect your current Level to farm best Mob\nEnable for reach level 700 (from lvl 1) under 1 hour method (make sure to enable Hop Server if no Boss in Auto Fighting Style Section)\n(will ignore selected mob above)", Default = Settings.AutoDL}, function(v)
    Settings.AutoDL = v
end)
--[[
SSPITToggle = Section22.CreateToggle({Title = 'Set Spawn Point Instant TP', Default = Settings.SSPIT, Desc = 'Instant TP to the Quest NPC if too far way\n(force reset character)'}, function(v)
    Settings.SSPIT = v
end)
]]
getgenv().ForceStopTween = function(DisableNC)
    if Settings.IgnoreYTween and LastYLevel and plr.Character.HumanoidRootPart.Position.Y > Settings.DefaultYLevel - 10 then
        local plrPos = plr.Character.HumanoidRootPart.Position
        plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, LastYLevel, plrPos.Z)
    end
    if DisableNC then
        getgenv().noclip = false
    end
    if not TweenPath then return end
    getgenv().ForcedStopTween = true
    TweenPath:Cancel()
    getgenv().TweenPath = nil
    delay(.1, function()
        getgenv().ForcedStopTween = false
    end)
end
local InstantTPPos = {}
if game.PlaceId == 2753915549 then
    InstantTPPos = {
        CFrame.new(3864.81787109375, 5.373160362243652, -1925.5087890625), -- Underwater City Entrance
        CFrame.new(61163.8515625, 5.307315349578857, 1819.7841796875), -- Underwater City
        CFrame.new(-4607.82275390625, 872.54248046875, -1667.556884765625), -- Skyland Second Entrance
        CFrame.new(-7897.15380859375, 5545.4931640625, -382.1011047363281), -- Skyland Second
    }
elseif game.PlaceId == 4442272183 then
    InstantTPPos = {
        CFrame.new(923.2125244140625, 125.05713653564453, 32852.83203125), -- Cursed Ship 
        CFrame.new(-6508.55810546875, 83.18704986572266, -132.83953857421875), -- Cursed Ship Entrance
        CFrame.new(2284.912109375, 15.15204906463623, 905.48291015625), -- Swan Room
        CFrame.new(-286.98907470703125, 306.1307067871094, 597.8827514648438) -- Swan Room Entrance
    }
elseif game.PlaceId == 7449423635 then
    InstantTPPos = {
        CFrame.new(5768.31982421875, 610.4500122070312, -210.5147705078125), -- Hydra Island Above
        CFrame.new(-5056.90966796875, 314.5413818359375, -3156.484130859375), -- Castle on the Sea
        CFrame.new(-12464.21484375, 374.9403381347656, -7531.00341796875), -- Mansion
        CFrame.new(5314.58203125, 22.536449432373047, -125.94227600097656), -- Beautiful Pirate Domain
        CFrame.new(-11993.580078125, 331.80780029296875, -8844.1826171875), -- Beautiful Pirate Domain Entrance
    }
end
function GetNearestTPfromPos(Pos)
    local Dist = math.huge
    local NearestTP
    for i, v in pairs(InstantTPPos) do
        local Mag = (Pos.Position - v.Position).magnitude
        if Mag < Dist then
            Dist = Mag
            NearestTP = v
        end
    end
    return NearestTP
end
function CheckTweenTo(Pos, TPPos)
    if (Pos.Position - TPPos).magnitude < plr:DistanceFromCharacter(Pos.Position) - 500 then
        if plr.Character.HumanoidRootPart.Position.Y > 9000 then
            local plrPos = plr.Character.HumanoidRootPart.Position
            plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, Pos.Position.Y, plrPos.Z)
            wait(.25)
        end
        return true
    end 
end
getgenv().IsPlayerDead = function()
    if not plr.Character
    or not plr.Character:FindFirstChild("Humanoid")
    or plr.Character.Humanoid.Health == 0 then
        return true
    end
end
function TPUntilReached(Pos, TPPos)
    repeat wait()
        plr.Character.HumanoidRootPart.CFrame = TPPos
        local Timer = tick()
        repeat wait()
        until tick() - Timer >= 1 or Hopping
        or ForcedStopTween
        or IsPlayerDead()
    until plr:DistanceFromCharacter(TPPos.Position) < 50
    or ForcedStopTween
    or IsPlayerDead()
end
function UnSit()
    if TweenPath then TweenPath:Pause() end
    getgenv().noclip = false
    wait(.5)
    plr.Character.Humanoid.Sit = false
    wait(.5)
    getgenv().noclip = true
    if TweenPath then TweenPath:Play() end
end
function Tween(Pos, DisableNC, ForceYTween, DisableIT)
    if Panicing then return end
    if not Pos
    or plr.PlayerGui.Main:FindFirstChild("ChooseTeam")
    or IsPlayerDead() then
        return
    end
    if TweenPath then
        TweenPath:Cancel()
        getgenv().TweenPath = nil
        getgenv().ForcedStopTween = true
    end
    if typeof(Pos) == "Vector3" then Pos = CFrame.new(Pos.X, Pos.Y, Pos.Z) end
    if not DisableIT then
        local TPPos = GetNearestTPfromPos(Pos)
        if TPPos and CheckTweenTo(Pos, TPPos.Position) 
        and (not Settings.BountyFarm or plr.Character.HumanoidRootPart.Position.Y < 9000) then
            getgenv().noclip = true
            TPUntilReached(Pos, TPPos)
            if not ForcedStopTween and not IsPlayerDead() and not Settings.BountyFarm then
                local plrRoot = plr.Character.HumanoidRootPart
                local x = not Settings.IgnoreYTween or Settings.DefaultYLevel < plrRoot.Position.Y
                if x then
                    if plrRoot.Position.Y > 60 then
                        plrRoot.CFrame = plrRoot.CFrame * CFrame.new(0, -50, 0)
                    else
                        plrRoot.CFrame = plrRoot.CFrame * CFrame.new(0, 50, 0)
                    end
                    wait(.5)
                end
                if Settings.IgnoreYTween and not x then
                    wait(1)
                end
                return Tween(Pos, DisableNC, ForceYTween)
            else
                if Settings.BountyFarm or Settings.IgnoreYTween then
                    wait(1)
                end
                return
            end
        end
    end
    if plr:DistanceFromCharacter(Pos.Position) > 20 then
        if Settings.IgnoreYTween
        and Settings.DefaultYLevel > Pos.Position.Y
        or ForceYTween then
            local plrPos = plr.Character.HumanoidRootPart.Position
            local pP = Pos.Position
            if plrPos.Y < Settings.DefaultYLevel or ForceYTween then
                plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, ForceYTween or Settings.DefaultYLevel, plrPos.Z)
                getgenv().LastYLevel = pP.Y
                getgenv().noclip = true
            end
            getgenv().TweenPath = game:GetService('TweenService'):Create(
                plr.Character.HumanoidRootPart,
                TweenInfo.new(plr:DistanceFromCharacter(Vector3.new(pP.X, ForceYTween or Settings.DefaultYLevel, pP.Z)) / Settings.TweenSpeed, Enum.EasingStyle.Linear),
                {CFrame = CFrame.new(pP.X, ForceYTween or Settings.DefaultYLevel, pP.Z)}
            )
        else
            getgenv().TweenPath = game:GetService('TweenService'):Create(
                plr.Character.HumanoidRootPart,
                TweenInfo.new(plr:DistanceFromCharacter(Pos.Position) / Settings.TweenSpeed, Enum.EasingStyle.Linear),
                {CFrame = Pos}
            )
        end
        getgenv().noclip = true
        TweenPath:Play()
        local TweenCompleted = false
        TweenPath.Completed:Connect(function()
            TweenCompleted = true
            if Settings.IgnoreYTween
            or ForceYTween then
                local plrPos = plr.Character.HumanoidRootPart.Position
                plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, Pos.Position.Y, plrPos.Z)
            end
        end)
        repeat wait()
            if not IsPlayerDead() then
                if plr.Character.Humanoid.Sit then
                    UnSit()
                end
                if getgenv().MovingPos
                and (Pos.Position - MovingPos.Position).magnitude >= 10 then
                    return Tween(MovingPos.Position + Vector3.new(0, Settings.Distance, 0), DisableNC, ForceYTween)
                end
            end
        until TweenCompleted
        or ForcedStopTween
        or IsPlayerDead()
        if MovingPos then return end
        ForceStopTween(DisableNC)
    else
        ForceStopTween(DisableNC)
        plr.Character.HumanoidRootPart.CFrame = Pos
    end
    if DisableNC then
        getgenv().noclip = false
    end
end
function GetMob(FMob, UnloadBoss)
    local Dist = math.huge
    local Mob
    if typeof(FMob) == "string" then
        FMob = {FMob}
    end
    if UnloadBoss then
        for i, v in ipairs(game.ReplicatedStorage:GetChildren()) do
            if string.find(v.Name, "Boss")
            and IsMobAlive(v) then
                v.Parent = game.workspace.Enemies
            end
        end
    end
    local x = game.workspace.Enemies:GetChildren()
    if #x > 1 and Settings.BringMob then
        local MCounter = 0
        local MidPos
        for i, v in ipairs(x) do
            if table.find(FMob, GetMobNameOnly(v.Name))
            and IsMobAlive(v) then
                if not MidPos then
                    MidPos = v.HumanoidRootPart.Position
                else
                    MidPos = MidPos + v.HumanoidRootPart.Position
                end
                MCounter = MCounter + 1
            end
        end
        if not MidPos then return end
        MidPos = MidPos / MCounter
        for i, v in ipairs(x) do
            if table.find(FMob, GetMobNameOnly(v.Name))
            and IsMobAlive(v) then
                local Mag = (MidPos - v.HumanoidRootPart.Position).magnitude
                if Mag < Dist then
                    Dist = Mag
                    Mob = v
                end
            end
        end
    else
        for i, v in ipairs(x) do
            if table.find(FMob, GetMobNameOnly(v.Name))
            and IsMobAlive(v) then
                local Mag = plr:DistanceFromCharacter(v.HumanoidRootPart.Position)
                if Mag < Dist then
                    Dist = Mag
                    Mob = v
                end
            end
        end
    end
    if Mob and UnloadBoss then
        return GetMobNameOnly(Mob.Name)
    else
        return Mob
    end
end
game.workspace.Enemies.DescendantAdded:Connect(function(v)
    if AttackingMob and AttackingMob.Parent and Settings.AutoDodge and not Doding
    and (v.Name == "BodyGyro" or v.Name == "BodyPosition" or v.Name == "KiBlastFireShort")
    and v.Parent.Parent.Name == AttackingMob.Name then
        getgenv().Doding = true
        getgenv().ReadyToDodge = true
        local Timer = tick()
        repeat wait()
        until not v or not v.Parent or tick() - Timer > 14
        if Settings.HardDodge and tick() - Timer < 2 then
            wait(.5)
        end
        getgenv().Doding = false
        getgenv().ReadyToDodge = false
    end
end)
spawn(function()
    while wait(5) do
        if ReadyToDodge then
            local Timer = tick()
            repeat wait()
            until not getgenv().ReadyToDodge
            or tick() - Timer > 10
            getgenv().Doding = false
            getgenv().ReadyToDodge = false
        end
    end
end)

if not SetSimulationRadiusRun then
    getgenv().SetSimulationRadiusRun = true
    game:GetService('RunService').Stepped:connect(function()
        if true or SetSimulationRadius then 
            sethiddenproperty(plr, "SimulationRadius", math.huge)
        end
    end)
    --[[
    plr.SimulationRadiusChanged:Connect(function(v)
        if SetSimulationRadius then 
            v = 9e9
        end
        return v
    end)
    ]]
end
function isnetworkowner()
    return true
end
--[[
if not BringMobRun then
    getgenv().BringMobRun = true
    spawn(function()
        while wait() do
            if Settings.BringMob
            and BringTo then
                if BringTo.Parent
                and IsMobAlive(BringTo)
                and not string.find(BringTo.Name, "Boss") then 
                    for i, v in ipairs(game.workspace.Enemies:GetChildren()) do
                        if not v:FindFirstChild("Bringed")
                        and (v.Name == BringTo.Name or Settings.MobAura)
                        and IsMobAlive(v) then
                            local Bringed = Instance.new("IntValue", v)
                            Bringed.Name = "Bringed"
                            delay(10, function()
                                if v then
                                    Bringed:Destroy()
                                end
                            end)
                        end
                    end
                else
                    getgenv().BringTo = nil
                end
            end
        end
    end)
    game:GetService('RunService').Stepped:connect(function()
        if Settings.BringMob and BringTo then
            getgenv().SetSimulationRadius = true
            for i, v in ipairs(game.workspace.Enemies:GetChildren()) do
                if v:FindFirstChild("Bringed")
                and IsMobAlive(v)
                and isnetworkowner(v.HumanoidRootPart) then
                    BringTo.Humanoid:ChangeState(11)
                    v.HumanoidRootPart.CFrame = BringTo.HumanoidRootPart.CFrame
                    v.Humanoid:ChangeState(11)
                end
            end
        end
    end)
end
]]
function isnetworkowner2(p1)
    for i,v in next,game.Workspace.Characters:GetChildren() do 
        if v.Name ~= plr.Name and v:FindFirstChild("HumanoidRootPart") and (v.HumanoidRootPart.Position-p1.Position).Magnitude <= 300 then 
            return false 
        end
    end
    return true
end
function getcenter(name)
    local count = 0
    local vec
    if string.find(game:GetService("Workspace")["_WorldOrigin"].EnemySpawns:GetChildren()[1].Name, "Lv.") then
        for i, v in pairs(game:GetService("Workspace")["_WorldOrigin"].EnemySpawns:GetChildren()) do
            if v.Name == name  then  
                if vec == nil then
                    vec = v.Position
                    count = count + 1
                else
                    vec = vec + v.Position
                    count = count + 1
                end
            end
        end
        for i, v in pairs(getnilinstances()) do
            if v:IsA("Part") and v.Name == name  then  
                if vec == nil then
                    vec = v.Position
                    count = count + 1
                else
                    vec = vec + v.Position
                    count = count + 1
                end
            end
        end
    else
        for i, v in pairs(game:GetService("Workspace")["_WorldOrigin"].EnemySpawns:GetChildren()) do 
            if  v.Name == tostring(name:gsub(" %pLv. %d+%p", "")) then
                if vec == nil then
                    vec = v.Position
                    count = count + 1
                else
                    vec = vec + v.Position
                    count = count + 1
                end
            end
        end
        for i, v in pairs(getnilinstances()) do 
            if v:IsA("Part") and  v.Name == tostring(name:gsub(" %pLv. %d+%p", "")) then
                if vec == nil then
                    vec = v.Position
                    count = count + 1
                else
                    vec = vec + v.Position
                    count = count + 1
                end
            end
        end
    end
    vec = vec / count
    return CFrame.new(vec)
end
function DetectPartMobBring(name,a,b,c)
    local Mob = {}
    local name1 
    if string.find(name,"Lv.") then 
        name1 = name:gsub(" %pLv. %d+%p", "")
    end
    for i, v in pairs(game:GetService("Workspace")["_WorldOrigin"].EnemySpawns:GetChildren()) do
        local stringgsub
        if string.find(v.Name, "Lv.") then 
            stringgsub = v.Name:gsub(" %pLv. %d+%p", "")
        end
        if  v:IsA("Part") and ((stringgsub and stringgsub == name) or name == v.Name or (name1 and v.Name == name1)) then
            table.insert(Mob,v)
        end
    end
    for i, v in pairs(getnilinstances()) do
        local stringgsub
        if string.find(v.Name, "Lv.") then 
            stringgsub = v.Name:gsub(" %pLv. %d+%p", "")
        end
        if v:IsA("Part") and ((stringgsub and stringgsub == name) or name == v.Name or (name1 and v.Name == name1)) then
            table.insert(Mob,v)
        end
    end
    if b then
        local dist = math.huge
        local Closest
        for i,v in next,Mob do 
            local conconcac = (a.HumanoidRootPart.Position-v.Position).Magnitude
            if dist > conconcac then 
                dist = conconcac 
                Closest = v 
            end
        end
        return Closest
    else
        local mob2 = {}
        for i,v in next,Mob do 
            if (c.Position-v.Position).Magnitude <= 300 then 
                table.insert(mob2,v)
            end
        end
        if #mob2 < #Mob then 
            return true 
        end
    end
end

local CenterMob
local NameMobBring 
local PosBring
local PositionBring

function DeleteIgnoredMob()
    for i,v in pairs(game:GetService("Workspace").Enemies:GetChildren()) do
        if v:IsA("Model") and v:FindFirstChild("Ignored")  then 
            v.Ignored:Destroy()
        end
    end
end
function sizepart(v)
    v.HumanoidRootPart.CanCollide = false
    if syn or Fluxus then
        v.Humanoid:ChangeState(11)
    else
        for i,x in next,v:GetDescendants() do 
            if (x:IsA("Part") or x:IsA("MeshPart")) and not string.find(v.Name,"Leg") and  x.CanCollide then 
                x.CanCollide = false 
            end
        end
    end
    if not v.HumanoidRootPart:FindFirstChild("vando") then
        local lock = Instance.new("BodyVelocity")
        lock.Parent = v
        lock.Name = "vando"
        lock.MaxForce = Vector3.new(100000, 100000, 100000)
        lock.Velocity = Vector3.new(0, 0, 0)
    end
end
function BringMob(a)
    --[[
    if a and not NameMobBring then 
        if (a.HumanoidRootPart.Position-getcenter(a.Name)).Magnitude < 250  then 
            PosBring = getcenter(a.Name)
        else
            PosBring = a.HumanoidRootPart.Position
        end
        NameMobBring = a.Name 
        return 
    elseif NameMobBring ~= a.Name then 
        if (a.HumanoidRootPart.Position-getcenter(a.Name)).Magnitude < 250  then 
            PosBring = getcenter(a.Name)
        else
            PosBring = a.HumanoidRootPart.Position
        end
        NameMobBring = a.Name 
        return 
    end
    if (plr.Character.HumanoidRootPart.Position-a.HumanoidRootPart.Position).Magnitude <= 100 then
        for i,v in pairs(game.workspace.Enemies:GetChildren()) do
            if v.Name == a.Name  and v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 and isnetworkowner(v.HumanoidRootPart)  then 
                if PosBring  and v.Name == "Chief Petty Officer [Lv. 120]" and (v.HumanoidRootPart.Position-a.HumanoidRootPart.Position).Magnitude <= 250 then
                    v.HumanoidRootPart.CFrame = CFrame.new(a.HumanoidRootPart.Position)
                    sizepart(v)
                elseif (v.HumanoidRootPart.Position-PosBring).Magnitude <= 250 then
                    v.HumanoidRootPart.CFrame = CFrame.new(PosBring)
                    sizepart(v)
                end
            end
        end
    end]]
    if a and NameMobBring ~= a then
        NameMobBring = a 
        --PositionBring = DetectPartMobBring(a.Name,a).CFrame
        PositionBring = getcenter(a.Name)
        if DetectPartMobBring(a.Name,a,false,PositionBring) then
            PositionBring = DetectPartMobBring(a.Name,a,true).CFrame
        end
        DeleteIgnoredMob()
    end
    if (plr.Character.HumanoidRootPart.Position-a.HumanoidRootPart.Position).Magnitude <= 100 then
        for i,v in pairs(game:GetService("Workspace").Enemies:GetChildren()) do
            if v.Name == a.Name and not v:FindFirstChild("Ignored") and v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 and isnetworkowner(v.HumanoidRootPart) and isnetworkowner2(v.HumanoidRootPart) then 
                if  (v.HumanoidRootPart.Position-PositionBring.Position).Magnitude <= 350 then
                    v.HumanoidRootPart.CFrame = PositionBring 
                    --  sizepart(v)
                end
            end
        end
        for i,v in pairs(game:GetService("Workspace").Enemies:GetChildren()) do
            if v.Name == a.Name and not v:FindFirstChild("Ignored") and v:FindFirstChild("Humanoid") and v:FindFirstChild("HumanoidRootPart") and v.Humanoid.Health > 0 and isnetworkowner(v.HumanoidRootPart) and isnetworkowner2(v.HumanoidRootPart) then 
                if  (v.HumanoidRootPart.Position-PositionBring.Position).Magnitude <= 350 then
                    local oldhealthmob = v.Humanoid.Health
                    task.wait(3.5)
                    if v.Humanoid.Health == oldhealthmob then 
                        local Ignored = Instance.new("IntValue", v)
                        Ignored.Name = "Ignored"
                        task.wait(0.3)
                    end
                end
            end
        end
    end
end
--[[
spawn(function()
    while wait() do
        pcall(function()
            if AttackingMob and IsMobAlive(AttackingMob)
            and plr:DistanceFromCharacter(AttackingMob.HumanoidRootPart.Position) < 70
            and isnetworkowner(AttackingMob.HumanoidRootPart) then
                local v = AttackingMob
                local oldroot, oldhealth = v.HumanoidRootPart.Position, v.Humanoid.Health
                wait(5)
                local SSR = SetSimulationRadius
                if IsMobAlive(AttackingMob)
                and (v.HumanoidRootPart.Position - oldroot).magnitude == 0
                and v.Humanoid.Health == oldhealth
                and isnetworkowner(v.HumanoidRootPart) then
                    getgenv().SetSimulationRadius = true
                    v.Humanoid.Health = 0
                    getgenv().SetSimulationRadius = SSR
                end
            end
        end)
    end
end)
]]
function AttackMob(v, DisableDeadCheck)
    if IsPlayerDead() and not DisableDeadCheck then
        getgenv().AttackingMob = nil
        repeat wait() until not IsPlayerDead()
        wait(3)
    end
    if not IsMobAlive(v) then return end
    getgenv().AttackingMob = v
    local vP = v.HumanoidRootPart.Position
    if ReadyToDodge and plr:DistanceFromCharacter(v.HumanoidRootPart.Position) < 200 then
        if Settings.HardDodge then
            local DodgeY, DodgeZ = 50 , 50
            if string.find(v.Name, "Boss") then
                DodgeY, DodgeZ = 400, 70
            else
                if v.HumanoidRootPart.Position.Y > DodgeY / 2.5 then
                    DodgeY = -DodgeY / 2.5
                end
            end
            plr.Character.HumanoidRootPart.CFrame = CFrame.new(vP.X, vP.Y + Settings.Distance, vP.Z + DodgeZ)
            wait()
            plr.Character.HumanoidRootPart.CFrame = CFrame.new(vP.X, vP.Y + DodgeY, vP.Z + DodgeZ) 
            repeat wait()
            until not ReadyToDodge
            plr.Character.HumanoidRootPart.CFrame = CFrame.new(vP.X, vP.Y + Settings.Distance, vP.Z + DodgeZ)
        else
            local DodgeY = vP.Y - 50
            if vP.Y < 60 then
                DodgeY = vP.Y + Settings.Distance
            end
            plr.Character.HumanoidRootPart.CFrame  = CFrame.new(vP.X, DodgeY, vP.Z + 50)
        end
    else
        --getgenv().BringTo = v
        spawn(function()
            BringMob(v)
        end)
        Tween(CFrame.new(vP.X, vP.Y + Settings.Distance, vP.Z))
    end
    if v:FindFirstChild("HumanoidRootPart")
    and plr:DistanceFromCharacter(v.HumanoidRootPart.Position) < Settings.Distance + 5 then
        if plr.PlayerGui.Main.Dialogue.Visible
        and plr.PlayerGui.Main.Dialogue.Title.Text == "Quest" then
            FireButton(plr.PlayerGui.Main.Dialogue.Cancel)
        end
        if Settings.MasteryFarm
        and (v.Humanoid.Health / v.Humanoid.MaxHealth) * 100 <= Settings.HealthPercent then
            local mM1WP = Settings.SelectMasteryWP
            if GWeapon then
                mM1WP = GetM1WP("Gun")
            elseif BFWeapon then
                mM1WP = GetM1WP("Blox Fruit")
            end
            local mWP = plr.Character:FindFirstChildOfClass("Tool")
            if mWP and pcall(function() return mWP.ToolTip end) and mWP.Name == mM1WP then
                if mWP.ToolTip == "Gun" then
                    ShootM1(v)
                elseif mWP.ToolTip ~= "Blox Fruit" then
                    ClickM1()
                end
                if mWP.Name == "Control-Control" then
                    if not wOrigin:FindFirstChild("Globe")
                    or plr:DistanceFromCharacter(wOrigin.Globe.Position) > wOrigin.Globe.AB.CurveSize0 / 1.75 then
                        UseSkillZ(mM1WP)
                        return
                    end
                elseif mWP.Name == "Human-Human: Buddha" then
                    if plr.Character:WaitForChild("UpperTorso").Material ~= Enum.Material.Neon then
                        UseSkillZ(mM1WP)
                        return
                    end
                elseif mWP.Name == "Diamond-Diamond" then
                    if not plr.Character:FindFirstChild("DiamondBody") then
                        UseSkillZ(mM1WP)
                        return
                    end
                elseif mWP.Name == "Bird-Bird: Falcon" then
                    if not plr.Character:FindFirstChild("FalconWings") then
                        UseSkillZ(mM1WP)
                        return
                    end
                end
                AutoSkill(v, mM1WP)
                wait(.5)
            else
                EquipItem(mM1WP)
            end
        else
            local M1WP
            if Settings.SelectM1Weapon and CheckPlrBackpack(Settings.SelectM1Weapon) then
                M1WP = Settings.SelectM1Weapon
            else
                M1WP = GetM1WP()
            end
            if ASWeapon then
                M1WP = GetM1WP("Sword")
            elseif AFSWeapon then
                M1WP = GetM1WP()
            end
            local WP = plr.Character:FindFirstChildOfClass("Tool")
            if WP and pcall(function() return WP.ToolTip end) and WP.Name == M1WP then
                if WP.ToolTip == "Gun" then
                    ShootM1(v)
                else
                    ClickM1()
                end
            else
                EquipItem(M1WP)
            end
        end
    end
end
loadstring([[
    setreadonly(Vector3, false)
    local Vec = Vector3.new()
    local mt = debug.getmetatable(Vec)
    setreadonly(mt, false)
    local old = mt.__index
    mt.__index = newcclosure(function(a, b, c)
        if not checkcaller()
        and getcallingscript() == game.ReplicatedStorage.Queue
        and tostring(b) == "magnitude" then
            local Vec = old(a, b, c)
            if Vec > 400 then 
                return 400
            else
                return Vec
            end
            return 0
        end
        return old(a, b, c)
    end)
]])()
getgenv().plrLevel = plr.Data.Level.Value
plr.Data.Level:GetPropertyChangedSignal("Value"):Connect(function()
    getgenv().plrLevel = plr.Data.Level.Value
end)
function HaveQuest(MobTable, FMob, x)
    if x and #x >= 3 then return
        true
    end
    if not MobTable[FMob] then
        return true
    end
    if plrLevel < MobTable[FMob].QLevel then
        return true
    end
    if plr.PlayerGui.Main.Quest.Visible
    and string.find(plr.PlayerGui.Main.Quest.Container.QuestTitle.Title.Text, FMob) then
        return true
    end
end
function GetMobNameInCurrentQuest()
    if not plr.PlayerGui.Main.Quest.Visible then return end
    local a = plr.PlayerGui.Main.Quest.Container.QuestTitle.Title.Text
    a = a:gsub("Defeat ", "")
    a = a:gsub("%d+", "")
    a = a:gsub("%b()", "")
    a = a:sub(1)
    a = a:sub(1, #a - 1)
    if a:sub(#a, #a) == "s"
    and a:sub(#a - 1, #a) ~= "ss" then
        b = a:sub(#a, #a)
        a = a:gsub(b, "")
    end
    if game.PlaceId == 2753915549 
    and string.find(a, "Mil.") then
        a = a:gsub("Mil.", "Military")
    end
    return a
end
function GetMSelectFMob(FMob)
    local SFMob = FMob[1]
    if #FMob == 1 then
        for i, v in pairs(FMob) do
            SFMob = v
        end
    elseif #FMob == 2 then
        --[[
        local v = GetMobNameInCurrentQuest()
        if v and table.find(FMob, v) then
            return v
        end
        ]]
        local a = Mobs[FMob[1]].QNumber
        local b = Mobs[FMob[2]].QNumber
        if b > a then
            a = FMob[2]
            b = FMob[1]
        else
            a = FMob[1]
            b = FMob[2]
        end
        if not QuestSwap or QuestSwap == a then
            SFMob = a
            getgenv().QuestSwap = b
        else
            SFMob = b
            getgenv().QuestSwap = a
        end
        --[[
        for _, x in pairs(FMob) do
            if not plr.PlayerGui.Main.Quest.Visible
            and (child_stringfind(game.workspace.Enemies, x, true) >= 4 or child_stringfind(game.ReplicatedStorage, x, true) >= 4)
            and plr:DistanceFromCharacter(Mobs[x].MPos) < 2000
            or HaveQuest(Mobs, x) then
                SFMob = x
            end
        end
        ]]
    else
        for i, v in pairs(FMob) do
            if child_stringfind(game.workspace.Enemies, v, true) ~= 0
            or child_stringfind(game.ReplicatedStorage, v, true) ~= 0 then
                SFMob = v
            end
        end
        if not FMob then
            for i, v in pairs(FMob) do
                SFMob = v
            end
        end
    end
    return SFMob
end
function CheckNearestSpawn(Pos)
    local Dist = math.huge
    local NearestSpawn
    for i, v in ipairs(wOrigin.PlayerSpawns.Pirates:GetChildren()) do
        if v:IsA("Model") then
            local Mag = (v.Part.Position - Pos.Position).magnitude
            if Mag < Dist then
                Dist = Mag
                NearestSpawn = v
            end
        end
    end
    return NearestSpawn.Name
end
function GetMobByLevel()
    local ChoosenMob
    for i, v in pairs(Mobs) do
        if plrLevel >= v.QLevel then
            if ChoosenMob then
                if v.QLevel > Mobs[ChoosenMob].QLevel then
                    ChoosenMob = i
                end
            else
                ChoosenMob = i
            end
        end
    end
    return ChoosenMob
end
function CheckPlrBackpack(v)
    local x = plr.Backpack:FindFirstChild(v)
    local m = plr.Character:FindFirstChild(v)
    if x then
        return x
    elseif m then
        return m
    end
end
function Is1MilFruit()
    for i, v in pairs(OneMilFruits) do
        if CheckPlrBackpack(v) then
            return true
        end
    end
end
function GetTreasureFruit(x)
    local Fruits = {}
    for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
        if v.details.Type == "Blox Fruit" then
            if not x and v.details.Value < 1000000
            or x and v.details.Value >= 1000000 then
                Fruits[v.details.Value] = v.details.Name
            end
        end
    end
    local Lowest = math.huge
    local Fruit
    for i, v in pairs(Fruits) do
        if i < Lowest then
            Lowest = i
            Fruit = v
        end
    end
    return Fruit
end
function GetNearestPlayerToMFArea(x)
    local Dist = math.huge
    local TargetPlayer
    for i, v in ipairs(game.workspace.Characters:GetChildren()) do
        if v.Name ~= plr.Name
        and IsMobAlive(v) then
            local Mag = (v.HumanoidRootPart.Position - x).magnitude
            if Mag < Dist then
                Dist = Mag
                TargetPlayer = v
            end
        end
    end
    if TargetPlayer then
        return (TargetPlayer.HumanoidRootPart.Position - x).magnitude
    else
        return 100000
    end
end
function HopIfNearFarmArea(Pos, mag, forced)
    if TemporaryDisableHopIfPlrNearby then return end
    if not mag then mag = 300 end
    if (Settings.MFHopServer or forced)
    and GetNearestPlayerToMFArea(Pos) < mag then
        Library.CreateNoti({Desc = "Have Player nearby Selected Mob Farm area", ShowTime = 5})
        HopServer(false, true, true)
        wait(5)
    end
end

function GetLastRaidIsland()
    local LastIsland
    local LICounter = 0
    for i, v in ipairs(wOrigin.Locations:GetChildren()) do
        if string.find(v.Name, "Island ")
        and plr:DistanceFromCharacter(v.Position) < 3000 then
            local x = v.Name
            x = x:gsub("Island ", "")
            x = tonumber(x)
            if LICounter < x then
                LICounter = x
                LastIsland = v
            end
        end
    end
    return LastIsland
end
getgenv().KillRaidEnemy = function()
    for i, v in ipairs(game.workspace.Enemies:GetChildren()) do
        if IsMobAlive(v) and isnetworkowner(v.HumanoidRootPart) then
            v.Humanoid.Health = 0
        end
    end
end
function GetPirateRaid(path)
    if path then
        path = game.ReplicatedStorage
    else
        path = game.workspace.Enemies
    end
    for i, v in ipairs(path:GetChildren()) do
        if string.find(v.Name, "Lv.")
        and not string.find(v.Name, "Boss")
        and not string.find(v.Name, "Friend")
        and IsMobAlive(v)
        and (v.HumanoidRootPart.Position - Vector3.new(-5543, 313, -2964)).magnitude < 1000 then
            return v
        end
    end
end
function GetNearestChest()
    local Dist = math.huge
    local Chest
    local Counter
    for i, v in ipairs(Chests) do
        local Mag = plr:DistanceFromCharacter(v.Position)
        if Mag < Dist then
            Counter = i
            Dist = Mag
            Chest = v
        end
    end
    if Counter then
        table.remove(getgenv().Chests, Counter)
        return Chest
    end
end
function GetMobAura(x)
    local Mobs = {}
    for i, v in ipairs(game.workspace.Enemies:GetChildren()) do
        if not string.find(v.Name, "Boss")
        and IsMobAlive(v)
        and (x or plr:DistanceFromCharacter(v.HumanoidRootPart.Position) < 2000) then
            table.insert(Mobs, GetMobNameOnly(v.Name))
        end
    end
    local Mob = GetMob(Mobs)
    return Mob
end
function GetUnloadedMob()
    local ReqName = "Lv."
    local Dist = math.huge
    local Mob
    for i, v in ipairs(game.ReplicatedStorage:GetChildren()) do
        if string.find(v.Name, ReqName)
        and IsMobAlive(v) then
            local Mag = plr:DistanceFromCharacter(v.HumanoidRootPart.Position)
            if Mag < Dist then
                Dist = Mag
                Mob = v
            end
        end
    end
    return Mob
end
function GetNaturalBloxFruit()
    local StoredFruits = {}
    if Settings.NPIII then
        for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
            if v.details and v.details.Type == "Blox Fruit" and v.details.Count >= plr.Data.FruitCap.Value then
                table.insert(StoredFruits, v.details.Name)
            end
        end
    end
    for i, v in ipairs(game.workspace:GetChildren()) do
        if v.Name == "Fruit "
        and v:IsA("Model")
        and not v:FindFirstChild("Ignored") then
            local x = GetFruitName(v)
            local FruitName = FruitNameToFF(x)
            if not table.find(StoredFruits, FruitName) then
                return v
            else
                local Ignored = Instance.new("IntValue", v)
                Ignored.Name = "Ignored"
            end
        end
    end
end
getgenv().CT_EnableFarm = function()
    if Settings.AutoBuyFragments and AutoBuyFragmentsToggle then AutoBuyFragmentsToggle.SetStage(false) end
    if plrLevel < MaxLevel and not Settings.AutoBuy15mx2XP and AutoBuy15mx2XPToggle then AutoBuy15mx2XPToggle.SetStage(true) end
    Settings.SelectM1Weapon = GetM1WP()
    if not Settings.AutoDL and AutoDLToggle then AutoDLToggle.SetStage(true) end
    if not Settings.BringMob and BringMobToggle then BringMobToggle.SetStage(true) end
    if game.PlaceId == 7449423635 and Settings.CT_FarmMethod and plr.Data.Beli.Value >= 3000000 and plrLevel >= MaxLevel and string.find(Settings.CT_FarmMethod, "Raid Boss Farm") then
        if Settings.MobAura and MobAuraToggle then MobAuraToggle.SetStage(false) end
        if Settings.MobFarm and MobFarmToggle then MobFarmToggle.SetStage(false) end
        if not Settings.CakePrinceFarm and CakePrinceFarmToggle then CakePrinceFarmToggle.SetStage(true) end
    elseif game.PlaceId == 7449423635 and Settings.CT_FarmMethod and plr.Data.Beli.Value >= 3000000 and plrLevel >= MaxLevel and string.find(Settings.CT_FarmMethod, "Mob Aura") then
        if Settings.CakePrinceFarm and CakePrinceFarmToggle then CakePrinceFarmToggle.SetStage(false) end
        if Settings.MobFarm and MobFarmToggle then MobFarmToggle.SetStage(false) end
        local x = CFrame.new(236.79563903808594, 76.14258575439453, -12497.48828125)
        if string.find(Settings.CT_FarmMethod, "Haunted Castle") then
            x = CFrame.new(-9501.076171875, 172.23019409179688, 6157.73486328125)
        end
        getgenv().MobAuraPos = x
        x = x.Position
        local pX, pY, pZ = math.floor(x.X), math.floor(x.Y), math.floor(x.Z)
        Settings.MAPosition[tostring(game.PlaceId)] = pX .. ", " .. pY .. ", " .. pZ
        if not Settings.MobAura and MobAuraToggle then MobAuraToggle.SetStage(true) end
    else
        if Settings.CakePrinceFarm and CakePrinceFarmToggle then CakePrinceFarmToggle.SetStage(false) end
        if Settings.MobAura and MobAuraToggle then MobAuraToggle.SetStage(false) end
        if not Settings.MobFarm and MobFarmToggle then MobFarmToggle.SetStage(true) end
    end
end
getgenv().CT_DisableFarm = function()
    if Settings.CakePrinceFarm and CakePrinceFarmToggle then CakePrinceFarmToggle.SetStage(false) end
    if Settings.MobAura and MobAuraToggle then MobAuraToggle.SetStage(false) end
    if Settings.MobFarm and MobFarmToggle then MobFarmToggle.SetStage(false) end
end
local RaidList = {}
for i, v in pairs(require(game.ReplicatedStorage.Raids)) do
    for _, x in pairs(v) do
        table.insert(RaidList, x)
    end
end
function GetRaidMapBF(x)
    if x and plr.Data.Fragments.Value >= 8000 then
        x = x:split("-")[1]
        for i, v in pairs(RaidList) do
            if string.find(x, v:split(":")[1])
            and (not string.find(v, "Dough") or CommF:InvokeServer("CakeScientist", "Check"))
            and not string.find(v, "Phoenix") then
                return v
            end
        end
    end
    return "Flame"
end
getgenv().CT_DisableAutoRaid = function()
    if Settings.BTDFHopServer and BTDFHopServerToggle then BTDFHopServerToggle.SetStage(false) end
    if not table.find(SelectedIgnoreAction, "Awake Current Blox Fruit") and not CheckFruitFullAwake() and CheckFruitAwakeable() then
        if plr.Data.Fragments.Value >= 8000 and not Settings.AutoAwake and AutoAwakeToggle then
            AutoAwakeToggle.SetStage(true)
        elseif Settings.AutoAwake and AutoAwakeToggle then
            AutoAwakeToggle.SetStage(false)
        end
        Settings.RaidMap = GetRaidMapBF(GetM1WP("Blox Fruit"))
        if not Settings.AutoRaid and AutoRaidToggle then AutoRaidToggle.SetStage(true) end
        return
    end
    if Settings.AutoRaidAU and AutoRaidAUToggle then AutoRaidAUToggle.SetStage(false) end
    if Settings.AutoRaid and AutoRaidToggle then AutoRaidToggle.SetStage(false) end
end
getgenv().CT_AutoRaidForFrag = function()
    --if Settings.AutoBuy15mx2XP and AutoBuy15mx2XPToggle then AutoBuy15mx2XPToggle.SetStage(false) end
    --if not Settings.AutoBuyFragments and AutoBuyFragmentsToggle then AutoBuyFragmentsToggle.SetStage(true) end
    if plrLevel >= 1100 then
        getgenv().AFSWeapon = nil
        Settings.RaidMap = GetRaidMapBF(GetM1WP("Blox Fruit"))
        if Settings.NPIII and NPIIIToggle then NPIIIToggle.SetStage(false) end
        if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
            if not NotiHopSv then
                getgenv().NotiHopSv = true
                Library.CreateNoti({Desc = 'Will Hop Server for Blox Fruit\n(Farm Fragment to buy Fighting Style v2)', ShowTime = 20})
            end
            CT_DisableFarm()
            if not Settings.BTDFHopServer and BTDFHopServerToggle then BTDFHopServerToggle.SetStage(true) end
        else
            CT_EnableFarm()
        end
        if not Settings.AutoRaidAU and AutoRaidAUToggle then AutoRaidAUToggle.SetStage(true) end
        if not Settings.AutoRaid and AutoRaidToggle then AutoRaidToggle.SetStage(true) end
        if not TemporaryAFS
        and CommF:InvokeServer("BuySuperhuman", true) == 1 then
            BuyFightingStyle("BuySuperhuman")
            getgenv().TemporaryAFS = true
        end
    elseif m ~= 0 then
        getgenv().TemporaryAFS = false
        CT_DisableAutoRaid()
        CT_EnableFarm()
    end
end
getgenv().LabelTextAFS = "[Auto Fighting Style / Sword]\n"
getgenv().LabelTextAF = "[Auto Farm]\n"
function BuyFightingStyle(v, x, c, m)
    if not c then c = 0 end
    if not m then m = 0 end
    if v == "DragonClaw" then
        if CommF:InvokeServer("BlackbeardReward", "DragonClaw", "1", true) then
            CommF:InvokeServer("BlackbeardReward", "DragonClaw", "2")
            return
        end
    else
        if CommF:InvokeServer(v, true) == 1 then
            CommF:InvokeServer(v)
            return
        end
    end
    if plr.Data.Beli.Value < c then
        if Settings.Cuttay then
            CT_DisableAutoRaid()
            CT_EnableFarm()
            if Settings.Cuttay
            and not TemporaryAFS
            and CommF:InvokeServer("BuySuperhuman", true) == 1 then
                BuyFightingStyle("BuySuperhuman")
                getgenv().TemporaryAFS = true
            end
        end
        if not TemporaryAFS then
            AutoFSSLabel.SetText(LabelTextAFS .. "Not have enough Beli to buy: " .. x)
        end
        return
    elseif Settings.Cuttay and c ~= 0 then
        getgenv().TemporaryAFS = false
    end
    if plr.Data.Fragments.Value < m then
        CT_AutoRaidForFrag()
        if not TemporaryAFS then
            AutoFSSLabel.SetText(LabelTextAFS .. "Not have enough Fragments to buy: " .. x)
        end
        return
    elseif Settings.Cuttay and m ~= 0 then
        getgenv().TemporaryAFS = false
        CT_DisableAutoRaid()
    end
    if x then
        AutoFSSLabel.SetText(LabelTextAFS .. "Buying Fighting Style: " .. x)
    end
    if v == "DragonClaw" then
        CommF:InvokeServer("BlackbeardReward", "DragonClaw", "1")
        CommF:InvokeServer("BlackbeardReward", "DragonClaw", "2")
    else
        CommF:InvokeServer(v)
    end
    wait(1)
end
function GetCurrentEquippedM1(x)
    if not x then x = "Melee" end
    for i, v in ipairs(plr.Backpack:GetChildren()) do
        if v:IsA("Tool")
        and v.ToolTip == x then
            return v
        end
    end
    for i, v in ipairs(plr.Character:GetChildren()) do
        if v:IsA("Tool")
        and v.ToolTip == x then
            return v
        end
    end
end
function GetItemCount(x)
    for i, v in pairs(CommF:InvokeServer("getInventory")) do
        if v.Name == x then
            return v.Count
        end
    end
    return 0
end
function GetMaterialMob()
    local Mob, Item
    if game.PlaceId == 4442272183 then
        if GetItemCount("Magma Ore") < 20 then
            Mob, Item = {
                "Magma Ninja",
                "Lava Pirate"
            }, {
                "Magma Ore",
                20
            }
        elseif GetItemCount("Mystic Droplet") < 10 then
            Mob, Item = {
                "Sea Soldier",
                "Water Fighter"
            }, {
                "Mystic Droplet",
                10
            }
        else
            CommF:InvokeServer("TravelZou")
            wait(5)
            return
        end
    else
        if GetItemCount("Fish Tail") < 20 then
            Mob, Item = {
                "Fishman Raider",
                "Fishman Captain"
            }, {
                "Fish Tail",
                20
            }
        elseif GetItemCount("Dragon Scale") < 10 then
            Mob, Item = {
                "Dragon Crew Warrior",
                "Dragon Crew Archer"
            }, {
                "Dragon Scale",
                10
            }
        elseif GetItemCount("Magma Ore") < 20
        or GetItemCount("Mystic Droplet") < 10 then
            CommF:InvokeServer("TravelDressrosa")
            wait(5)
            return
        end
    end
    return Mob, Item
end
function GetNewInv(OldInv)
    local NewItem
    for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
        if v.details
        and (v.details.Type == "Accessory" or v.details.Type == "Sword") then
            if not table.find(OldInv, v.details.Name) then
                if not NewItem then
                    NewItem = v.details.Name
                else
                    NewItem = NewItem .. ", " .. v.details.Name
                end
            end
        end
    end
    return NewItem
end
function IsHaveItem(x)
    for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
        if v.details
        and v.details.Name == x then
            return true
        end
    end
end
function GetSummonPlate()
    for i, v in ipairs(game.workspace.Map["Boat Castle"].Summoner.Circle:GetChildren()) do
        if v:IsA("Part") and v.Part.BrickColor.Name == "Dark stone grey" then
            if v.BrickColor.Name == "Hot pink" then
                return v, "Winter Sky"
            elseif v.BrickColor.Name == "Really red" then
                return v, "Pure Red"
            elseif v.BrickColor.Name == "Oyster" then
                return v, "Snow White"
            end
        end
    end
end
function CheckMasteryValue(x)
    for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
        if v.details
        and v.details.Name == x then
            return v.details.Mastery
        end
    end
    return 0
end
function GetHazeSpawn()
    for i, v in pairs(plr.QuestHaze:GetChildren()) do
        if v.Value > 0 then
            return v.Name
        end
    end
end
function HazeCounter()
    local Counter = 0
    for i, v in pairs(plr.QuestHaze:GetChildren()) do
        if v.Value > 0 then
            Counter = Counter + 1
        end
    end
    return Counter
end
function CheckPlrHaveHallowEssence()
    for i, v in pairs(game.Players:GetChildren()) do
        if v.Character
        and (v.Backpack:FindFirstChild("Hallow Essence") or v.Character:FindFirstChild("Hallow Essence"))
        and v.Character.Humanoid.FloorMaterial ~= Enum.Material.Air then
            return v.Name
        end
    end
end
function DoDimension(v1, v2)
    if v1.Exit.BrickColor == BrickColor.new(v2) then
        Tween(v1.Exit.Position, true)
        wait(1)
    end
    local v = GetMob({"Cursed Skeleton", "Heaven's Guardian", "Hell's Messenger"})
    if v then
        AutoFSSLabel.SetText(LabelTextAFS ..  "Killing Dimension mob (CDK Quest)")
        repeat wait()
            AttackMob(v)
        until not IsMobAlive(v)
        wait(.5)
    else
        AutoFSSLabel.SetText(LabelTextAFS ..  "Doing Dimension Torch (CDK Quest)")
        if not v1.Torch1:FindFirstChild("Ignored") then
            Tween(v1.Torch1.CFrame)
            wait(1)
            fireproximityprompt(v1.Torch1.ProximityPrompt)
            local Ignored = Instance.new("IntValue", v1.Torch1)
            Ignored.Name = "Ignored"
        elseif not v1.Torch2:FindFirstChild("Ignored") then
            Tween(v1.Torch2.CFrame)
            wait(1)
            fireproximityprompt(v1.Torch2.ProximityPrompt)
            local Ignored = Instance.new("IntValue", v1.Torch2)
            Ignored.Name = "Ignored"
        elseif not v1.Torch3:FindFirstChild("Ignored") then
            Tween(v1.Torch3.CFrame)
            wait(1)
            fireproximityprompt(v1.Torch3.ProximityPrompt)
            local Ignored = Instance.new("IntValue", v1.Torch3)
            Ignored.Name = "Ignored"
        end
        wait(0.5)
        plr.Character.HumanoidRootPart.CFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.new(0, 100, 0)
    end
end
function FindMobExist(v)
    if game.ReplicatedStorage:FindFirstChild(v)
    or game.workspace.Enemies:FindFirstChild(v) then
        return true
    end
end
function CheckSeaBeast()
    for i, v in ipairs(game.workspace.SeaBeasts:GetChildren()) do
        if v.Name == "SeaBeast1"
        and v:FindFirstChild("HealthBBG") then
            local MaxHealth = v.HealthBBG.Frame.TextLabel.Text:split("/")[2]
            MaxHealth = MaxHealth:gsub(",", "")
            MaxHealth = tonumber(MaxHealth)
            if MaxHealth >= 90000 then
                return v
            end
        end
    end
end
function CheckPirateShip()
    for i, v in ipairs(game.workspace.Enemies:GetChildren()) do
        if (v.Name == "PirateBasic" or v.Name == "PirateBrigade")
        and v:FindFirstChild("Health") and v.Health.Value > 0 then
            return v
        end
    end
end
function FindOwnBoat()
    for i, v in ipairs(game.workspace.Boats:GetChildren()) do
        if v.Owner.Value == plr
        and v.Humanoid.Value ~= 0 then
            return v
        end
    end
end
local SeaBeastRandomPos = {
    CFrame.new(0, 200, 25),
    CFrame.new(0, 200, -25)
}
local BossDrops = {
    [2753915549] = {
        ["Coat"] = "Vice Admiral", --
        ["Wardens Sword"] = "Chief Warden",
        ["Pink Coat"] = "Swan",
        ["Refined Musket"] = "Magma Admiral",
        ["Trident"] = "Fishman Lord",
        ["Bazooka"] = "Wysper",
        ["Pole (1st Form)"] = "Thunder God",
        ["Cool Shades"] = "Cyborg",
        ["Shark Saw"] = "The Saw",
    },
    [4442272183] = {
        ["Longsword"] = "Diamond",
        ["Black Spikey Coat"] = "Jeremy",
        ["Gravity Cane"] = "Fajita",
        ["Jitte"] = "Smoke Admiral",
        ["Rengoku"] = "Awakened Ice Admiral",
        ["Dragon Trident"] = "Tide Keeper",
        ["Red Spikey Coat"] = "Cursed Captain",
        ["Blue Spikey Coat"] = "Cursed Captain",
        ["Dark Coat"] = "Darkbeard",
    },
    [7449423635] = {
        ["Pilot Helmet"] = "Stone",
        ["Serpent Bow"] = "Island Empress",
        ["Lei"] = "Kilo Admiral",
        ["Twin Hooks"] = "Captain Elephant",
        ["Canvander"] = "Beautiful Pirate",
        ["Buddy Sword"] = "Cake Queen",
        ["Valkyrie Helm"] = "rip_indra True Form",
        ["Dark Dagger"] = "rip_indra True Form",
        ["Spikey Trident"] = "Cake Prince",
        ["Spikey Trident"] = "Dough King",
        ["Holy Crown"] = "Soul Reaper",
        ["Hallow Scythe"] = "Soul Reaper",
    }
}
local RaidBoss = {
    "The Saw",
    "Cursed Captain",
    "Darkbeard",
    "rip_indra True Form",
    "Cake Prince",
    "Dough King",
    "Soul Reaper",
}
if CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
    BossDrops[4442272183]["Swan Glasses"] = "Don Swan"
end
getgenv().DonePrefarmGodhuman = 400
function PreFarmGodhuman(v)
    if v.Level.Value < DonePrefarmGodhuman then
        local x = "Prefarming Godhuman while not having enough Beli / Fragment / Requirements to buy v2 Fighting Style"
        if DonePrefarmGodhuman == 400 then
            x = "Farming till have enough Beli / Fragment / Requirements to buy v2 Fighting Style"
        end
        AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit " .. DonePrefarmGodhuman .. " Mastery\n" .. x)
        getgenv().AFSWeapon = v.Name
    else
        if v.Name == "Superhuman" then
            if CommF:InvokeServer("BuyDeathStep", true) == 1 then
                BuyFightingStyle("BuyDeathStep")
            else
                BuyFightingStyle("BuyFishmanKarate")
            end
        elseif v.Name == "Death Step" then
            if CommF:InvokeServer("BuySharkmanKarate", true) == 1 then
                BuyFightingStyle("BuySharkmanKarate")
            else
                BuyFightingStyle("BuyElectro")
            end
        elseif v.Name == "Sharkman Karate" then
            if CommF:InvokeServer("BuyElectricClaw", true) == 1 then
                BuyFightingStyle("BuyElectricClaw")
            else
                BuyFightingStyle("DragonClaw")
            end
        elseif v.Name == "Electric Claw" then
            BuyFightingStyle("BuySuperhuman")
            getgenv().DonePrefarmGodhuman = 600
        elseif v.Name == "Fishman Karate" then
            BuyFightingStyle("BuyElectro")
        elseif v.Name == "Electro" then
            BuyFightingStyle("DragonClaw")
        elseif v.Name == "Dragon Claw" then
            BuyFightingStyle("BuySuperhuman")
            getgenv().DonePrefarmGodhuman = 600
        end
    end
end
local RaidSummon, RaidColor
if game.PlaceId ~= 2753915549 then
    RaidSummon = game.workspace.Map:FindFirstChild("CircleIsland") or game.workspace.Map:FindFirstChild("Boat Castle")
    RaidSummon = RaidSummon.RaidSummon2
    RaidColor = Color3.fromRGB(255, 255, 0)
    if game.PlaceId == 4442272183 then
        RaidColor = Color3.fromRGB(0, 0, 255)
    end
end
getgenv().IgnoreSBF = {"Portal-Portal"}
function CountZombie(x)
    local Counter = 0
    for i, v in pairs(game.workspace.Enemies:GetChildren()) do
        if v.Name == "Living Zombie [Lv. 2000]"
        and IsMobAlive(v) then
            if not x or (v.HumanoidRootPart.Position - Vector3.new(-10171.7607421875, 138.62667846679688, 6008.0654296875)).magnitude < 50 then
                Counter = Counter + 1
            end
        end
    end
    return Counter
end
local BlankTablets = {
    "Segment6",
    "Segment2",
    "Segment8",
    "Segment9",
    "Segment5"
}
local Trophy = {
    ["Segment1"] = "Trophy1",
    ["Segment3"] = "Trophy2",
    ["Segment4"] = "Trophy3",
    ["Segment7"] = "Trophy4",
    ["Segment10"] = "Trophy5",
}
local Pipes = {
    ["Part1"] = "Really black",
    ["Part2"] = "Really black",
    ["Part3"] = "Dusty Rose",
    ["Part4"] = "Storm blue",
    ["Part5"] = "Really black",
    ["Part6"] = "Parsley green",
    ["Part7"] = "Really black",
    ["Part8"] = "Dusty Rose",
    ["Part9"] = "Really black",
    ["Part10"] = "Storm blue",
}
function Jump()
    game:GetService("VirtualInputManager"):SendKeyEvent(true, "Space", false, game)
    wait()
    game:GetService("VirtualInputManager"):SendKeyEvent(false, "Space", false, game)
end
function FarmLocation(Mobs, WaitPos, DisableHop)
    if DisableHop then
        HopIfNearFarmArea(WaitPos.Position)
    end
    local v = GetMob(Mobs)
    if v then
        getgenv().WaitSpawnTimer = nil
        repeat wait()
            HopIfNearFarmArea(WaitPos.Position)
            AttackMob(v)
        until not IsMobAlive(v)
        wait(.5)
    else
        if not WaitSpawnTimer then
            getgenv().WaitSpawnTimer = tick()
        elseif tick() - WaitSpawnTimer > 180 then
            getgenv().WaitSpawnTimer = nil
            if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
                Library.CreateNoti({Desc = "Server glitched, mobs not spawning in 3 minutes", ShowTime = 5})
                HopServer()
                wait(5)
            else                               
                if game.PlaceId == 2753915549 then
                    TPLocation("Underwater City Entrance")
                elseif game.PlaceId == 4442272183 then
                    TPLocation("Swan's Room")
                elseif game.PlaceId == 7449423635 then
                    TPLocation("Castle on the Sea")
                end
            end
            return
        end
        Tween(WaitPos)
    end
end
function GetSwordMaxMastery(x)
    local HighestMasteryRequire = 0
    for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
        if v.details
        and v.details.Name == x then
            for _, k in pairs(v.details.MasteryRequirements) do
                if HighestMasteryRequire < k then
                    HighestMasteryRequire = k
                end
            end
        end
    end
    return HighestMasteryRequire
end
local LegEnhancementColor = {
    "Winter Sky",
    "Pure Red",
    "Snow White"
}
function CheckUnlockLegHaki()
    local Missing
    for i, v in pairs(CommF:InvokeServer("getColors")) do
        if table.find(LegEnhancementColor, v.HiddenName)
        and not v.Unlocked then
            if not Missing then
                Missing = v.HiddenName
            else
                Missing = Missing .. ", " .. v.HiddenName
            end
        end
    end
    return Missing
end

function AutoFarmFeatures()
    if QueueHopping or Panicing or Settings.AMHopServer then return end
    
    if (Settings.AutoRaid or Settings.Cuttay) and not IsPlayerDead() then
        if CheckPlrBackpack("Special Microchip") and RaidSummon.MainRaid.Color.Color == RaidColor then
            repeat wait()
                if CheckPlrBackpack("Special Microchip") and not TweenPath then
                    fireclickdetector(RaidSummon.Button.Main.ClickDetector)
                    wait(2)
                end
            until plr.PlayerGui.Main.Timer.Visible or not Settings.AutoRaid and not Settings.Cuttay
        end
        if (plr.PlayerGui.Main.Timer.Visible or CheckInRaid()) then
            AutoFarmLabel.SetText(LabelTextAF ..  "Doing Raid")
            repeat wait()
                getgenv().SetSimulationRadius = true
                KillRaidEnemy()
                local RaidIsland = GetLastRaidIsland()
                if RaidIsland then
                    getgenv().noclip = true
                    Tween(RaidIsland.Position + Vector3.new(0, 100, 0))
                end
            until not plr.PlayerGui.Main.Timer.Visible
            or IsPlayerDead()
            or not Settings.AutoRaid and not Settings.Cuttay
            wait(3)
            ForceStopTween(true)
            getgenv().SetSimulationRadius = false
            wait(5)
            if Settings.AutoRaidAFR and Settings.AutoRaid and not IsPlayerDead() then
                CommF:InvokeServer("Awakener", "Awaken")
                CommF:InvokeServer("Awakener", "Check")
            end
            return
        end
    end

    if game.PlaceId ~= 2753915549
    and Settings.AutoWorldEvent
    and ASWeapon ~= "Tushita" then
        if game.PlaceId == 7449423635 then
            if PirateRaiding then
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing Raid Pirates")
                local v = GetPirateRaid()
                if v then
                    repeat wait()
                        AttackMob(v)
                    until not IsMobAlive(v)
                    or not Settings.AutoWorldEvent
                    getgenv().LastPirateRaidSpawn = tick()
                    if not GetPirateRaid() and Settings.AutoWorldEvent then
                        local Timer = tick()
                        repeat wait(1)
                        until GetPirateRaid()
                        or tick() - Timer > 10
                        or not Settings.AutoWorldEvent 
                        if tick() - Timer > 10 and not GetPirateRaid() and not GetPirateRaid(true) then
                            getgenv().LastPirateRaidSpawn = nil
                            getgenv().PirateRaiding = false
                        end
                    end
                    return
                else
                    local UnloadMob = GetPirateRaid(true)
                    if UnloadMob then
                        Tween(UnloadMob.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    elseif LastPirateRaidSpawn then
                        if tick() - LastPirateRaidSpawn > 30 and not GetPirateRaid() then
                            getgenv().PirateRaiding = false
                        end
                    end
                    return
                end
            elseif not PirateRaidCheck then
                getgenv().PirateRaidCheck = true
                delay(10, function()
                    getgenv().PirateRaidCheck = false
                end)
                if GetPirateRaid() or GetPirateRaid(true) then
                    getgenv().PirateRaiding = true
                    getgenv().LastPirateRaidSpawn = tick()
                end
            elseif Settings.AWEHopServer then
                HopServer(true)
                wait(5)
                return
            end
        else
            local x = "Core"
            local v = GetMob(x)
            if v then
                AutoFarmLabel.SetText(LabelTextAF ..  "Attacking " .. x)
                repeat wait()
                    AttackMob(v)
                until not IsMobAlive(v)
            else
                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                if UnloadBoss then
                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    return
                elseif Settings.AWEHopServer then
                    HopServer(true)
                    wait(5)
                    return
                end
            end
        end
    end

    local TargetBoss
    if Settings.BossFarm or (Settings.Cuttay and (Settings.CT_FarmBossDrop2 or FarmBossDrop and Settings.CT_FarmBossDrop)) then
        local BossList = {}
        local x = SelectedBFBoss
        if Settings.Cuttay then
            x = {}
            for i, v in pairs(BossDrops[game.PlaceId]) do
                if not IsHaveItem(i) then
                    table.insert(x, v)
                end
            end
        end
        if not Settings.Cuttay
        or plr.Data.Stats.Melee.Level.Value >= 1200 then
            for i, v in pairs(x) do
                if (child_stringfind(game.workspace.Enemies, v, true) == 1
                or child_stringfind(game.ReplicatedStorage, v, true) == 1)
                and (not Settings.Cuttay or plrLevel == MaxLevel or not string.find(plr.PlayerGui.Main.Level.Exp.Text, "2x ends")
                or table.find(RaidBoss, v)
                or Bosses[v] and Bosses[v].QPos and plr:DistanceFromCharacter(Bosses[v].QPos.Position) < 1000) then
                    table.insert(BossList, v)
                end
            end
        end
        TargetBoss = GetMob(BossList, true)
        if not TargetBoss then
            local WorldRewardItem = CheckPlrBackpack("Hellfire Torch")
            if game.PlaceId == 4442272183
            and WorldRewardItem
            and (Settings.BFDIGHT or Settings.GDAWebhook and not WorldRewardItem:FindFirstChild("Ignored")) then
                if Settings.GDAWebhook and not WorldRewardItem:FindFirstChild("Ignored") then
                    SendWebHook({
                        ["content"] = "@everyone",
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "Boss Farm",
                                    ["value"] = "Got Hellfire Torch",
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                    local Ignored = Instance.new("IntValue", WorldRewardItem)
                    Ignored.Name = "Ignored"
                end
                if Settings.BFDIGHT then
                    TPLocation(SafeZone)
                    wait(2)
                    return
                end
            elseif Settings.BFHopServer then
                HopServer()
                wait(5)
                return
            end
        end
    end

    if Settings.TweenNBF and (not ASWeapon or ASWeapon ~= "Tushita") then
        local v = GetNaturalBloxFruit()
        if v and (v:FindFirstChild("Handle") or v:FindFirstChild("Fruit")) then
            getgenv().DisableEquipItem = true
            AutoFarmLabel.SetText(LabelTextAF ..  "Picking up Natural spawned Blox Fruit")
            local FruitRoot = v:FindFirstChild("Handle") or v:FindFirstChild("Fruit")
            if FruitRoot:IsA("Model") then
                FruitRoot = FruitRoot:FindFirstChild("RootPart")
            end
            local PickupTimer
            repeat wait()
                Tween(FruitRoot.Position + Vector3.new(0, 5, 0), true, 200)
                if plr:DistanceFromCharacter(FruitRoot.Position) < 100 and not PickupTimer then
                    PickupTimer = tick()
                end
                wait(1)
                Tween(FruitRoot.Position, true)
            until not v or not v.Parent
            or not FruitRoot or not FruitRoot.Parent
            or PickupTimer and tick() - PickupTimer > 20
            or not Settings.TweenNBF
            if PickupTimer and tick() - PickupTimer > 20 and v and FruitRoot then
                local Ignored = Instance.new("IntValue", v)
                Ignored.Name = "Ignored"
            end
            return
        elseif not TargetBoss then
            if Settings.BTDFHopServer
            and not Settings.TweenBF
            and not Settings.AutoRaid then
                HopServer(true)
                wait(5)
                return
            end
            if not Settings.TweenBF then
                getgenv().DisableEquipItem = false
            end
        end
    end

    if Settings.TweenBF and (not ASWeapon or ASWeapon ~= "Tushita") then
        local v = GetDroppedFruit()
        if v then
            getgenv().DisableEquipItem = true
            AutoFarmLabel.SetText(LabelTextAF ..  "Picking up dropped Blox Fruit")
            Tween(v.Position + Vector3.new(0, 5, 0), true, 200)
            if Settings.AutoRaid then
                plr.Character.HumanoidRootPart.CFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.new(0, 100, 0)
            end
            wait(1)
            Tween(v.Position, true)
            return
        elseif not TargetBoss then
            if Settings.BTDFHopServer
            and not Settings.AutoRaid then
                HopServer(true)
                wait(5)
                return
            end
            getgenv().DisableEquipItem = false
        end
    end

    if Settings.AutoSuperhuman
    and not DoneSuperhuman then
        local v = GetCurrentEquippedM1()
        if v.Name == "Black Leg" then
            if v.Level.Value < 300 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                BuyFightingStyle("BuyElectro", "Electric", 500000, 0)
            end
        elseif v.Name == "Electro" then
            if v.Level.Value < 300 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                BuyFightingStyle("BuyFishmanKarate", "Water Kung Fu", 750000, 0)
            end
        elseif v.Name == "Fishman Karate" then
            if v.Level.Value < 300 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                BuyFightingStyle("DragonClaw", "Dragon Breath", 0, 1500)
            end
        elseif v.Name == "Dragon Claw" then
            if v.Level.Value < 300 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                BuyFightingStyle("BuySuperhuman", "Superhuman", 3000000, 0)
                wait(1)
                if CommF:InvokeServer("BuySuperhuman", true) ~= 1 then
                    BuyFightingStyle("BuyBlackLeg", "Black Leg", 150000, 0)
                end
            end
        elseif v.Name == "Superhuman" then
            if Settings.OSIFS
            and v.Level.Value < 330 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 330 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Superhuman")
                getgenv().AFSWeapon = nil
                getgenv().DoneSuperhuman = true
                if AutoSuperhumanToggle then AutoSuperhumanToggle.SetStage(false) end
            end
        else
            getgenv().AFSWeapon = "Melee"
            BuyFightingStyle("BuyBlackLeg", "Black Leg", 150000, 0)
        end
    elseif Settings.AutoDeathStep
    and not DoneDeathStep then
        local v = GetCurrentEquippedM1()
        if v.Name == "Black Leg" or TemporaryAFS then
            if not TemporaryAFS and v.Level.Value < 400 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                if CommF:InvokeServer("BuyDeathStep", true) ~= 3 then
                    if TemporaryAFS then
                        PreFarmGodhuman(v)
                    end
                    BuyFightingStyle("BuyDeathStep", "Death Step", 2500000, 5000)
                else
                    if not DeathStepNoti then
                        getgenv().DeathStepNoti = true
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Failed to buy Death Step (Library not unlocked)")
                        wait(3)
                    end
                    if game.PlaceId == 4442272183 then
                        if CheckPlrBackpack("Library Key") then
                            EquipItem("Library Key")
                            Tween(game.workspace.Map.IceCastle.Hall.LibraryDoor.Keyhole.Detect.Position, true)
                            wait(1)
                        else
                            local x = "Awakened Ice Admiral"
                            local v = GetMob(x)
                            if v then
                                repeat wait()
                                    AttackMob(v)
                                until not IsMobAlive(v)
                                wait(1)
                            else
                                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                                if UnloadBoss then
                                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                    return
                                elseif Settings.AFSHopServer then
                                    HopServer()
                                    wait(5)
                                    return
                                else
                                    if Settings.Cuttay then CT_EnableFarm() end
                                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. x .. " spawn")
                                end
                            end
                        end
                    else
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 2")
                        CommF:InvokeServer("TravelDressrosa")
                        wait(5)
                        return
                    end
                end
            end
        elseif v.Name == "Death Step" then
            if game.PlaceId ~= 7449423635
            and Settings.AFSTPSea3 and CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                CommF:InvokeServer("TravelZou")
                wait(5)
                return
            end
            if Settings.OSIFS
            and v.Level.Value < 350 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Death Step")
                getgenv().AFSWeapon = nil
                getgenv().DoneDeathStep = true
                if AutoDeathStepToggle then AutoDeathStepToggle.SetStage(false) end
            end
        else
            BuyFightingStyle("BuyBlackLeg", "Black Leg", 150000, 0)
            return
        end
    elseif Settings.AutoSharkmanKarate
    and not DoneSharkmanKarate then
        local v = GetCurrentEquippedM1()
        if v.Name == "Fishman Karate" or TemporaryAFS then
            if not TemporaryAFS and v.Level.Value < 400 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                if not string.find(CommF:InvokeServer("BuySharkmanKarate", true), "I lost") then
                    if TemporaryAFS then
                        PreFarmGodhuman(v)
                    end
                    BuyFightingStyle("BuySharkmanKarate", "Sharkman Karate", 2500000, 5000)
                else
                    if not SharkmanKarateNoti then
                        getgenv().SharkmanKarateNoti = true
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Failed to buy Sharkman Karate (haven't gave Water Key)")
                        wait(3)
                    end
                    if game.PlaceId == 4442272183 then
                        if CheckPlrBackpack("Water Key") then
                            CommF:InvokeServer("BuySharkmanKarate", true)
                            wait(1)
                            return
                        else
                            local x = "Tide Keeper"
                            local v = GetMob(x)
                            if v then
                                repeat wait()
                                    AttackMob(v)
                                until not IsMobAlive(v)
                                wait(1)
                            else
                                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                                if UnloadBoss then
                                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                    return
                                elseif Settings.AFSHopServer then
                                    HopServer()
                                    wait(5)
                                    return
                                else
                                    if Settings.Cuttay then CT_EnableFarm() end
                                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. x .. " spawn")
                                end
                            end
                        end
                    else
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 2")
                        CommF:InvokeServer("TravelDressrosa")
                        wait(5)
                        return
                    end
                end
            end
        elseif v.Name == "Sharkman Karate" then
            if game.PlaceId ~= 7449423635
            and Settings.AFSTPSea3 and CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                CommF:InvokeServer("TravelZou")
                wait(5)
                return
            end
            if Settings.OSIFS
            and v.Level.Value < 300 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Sharkman Karate")
                getgenv().AFSWeapon = nil
                getgenv().DoneSharkmanKarate = true
                if AutoSharkmanKarateToggle then AutoSharkmanKarateToggle.SetStage(false) end
            end
        else
            BuyFightingStyle("BuyFishmanKarate", "Water Kung Fu", 750000, 0)
            return
        end
    elseif Settings.AutoElectricClaw
    and not DoneElectricClaw then
        local v = GetCurrentEquippedM1()
        if v.Name == "Electro" or TemporaryAFS then
            if not TemporaryAFS and v.Level.Value < 400 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                if not string.find(CommF:InvokeServer("BuyElectricClaw", true), "Nah")
                and CommF:InvokeServer("BuyElectricClaw", true) ~= 4 then
                    if TemporaryAFS then
                        PreFarmGodhuman(v)
                    end
                    BuyFightingStyle("BuyElectricClaw", "Electric Claw", 3000000, 5000)
                else
                    if not ElectricClawNoti then
                        getgenv().ElectricClawNoti = true
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Failed to buy Electric Claw (Race Quest not finished)")
                        wait(3)
                    end
                    if game.PlaceId == 7449423635 then
                        if plr:DistanceFromCharacter(Vector3.new(-10369.2568359375, 331.6542663574219, -10128.90625)) < 10 then
                            CommF:InvokeServer("BuyElectricClaw", "Start")
                            wait(1)
                            TPLocation("Mansion")
                            wait(1)
                        else
                            Tween(CFrame.new(-10369.2568359375, 331.6542663574219, -10128.90625))
                            wait(2)
                            return
                        end
                    else
                        if CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                            CommF:InvokeServer("TravelZou")
                            wait(5)
                            return
                        else
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Sea 3 is not unlocked to buy Electric Claw")
                            if Settings.Cuttay then
                                if not TemporaryAFS
                                and CommF:InvokeServer("BuySuperhuman", true) == 1 then
                                    BuyFightingStyle("BuySuperhuman")
                                    getgenv().TemporaryAFS = true
                                end
                                CT_DisableAutoRaid()
                                CT_EnableFarm()
                            end
                        end
                    end
                end
            end
        elseif v.Name == "Electric Claw" then
            if Settings.OSIFS
            and v.Level.Value < 330 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 330 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Electric Claw")
                getgenv().AFSWeapon = nil
                getgenv().DoneElectricClaw = true
                if AutoElectricClawToggle then AutoElectricClawToggle.SetStage(false) end
            end
        else
            BuyFightingStyle("BuyElectro", "Electric", 500000, 0)
            return
        end
    elseif Settings.AutoDragonTalon
    and not DoneDragonTalon then
        local v = GetCurrentEquippedM1()
        if v.Name == "Dragon Claw" or TemporaryAFS then
            if not TemporaryAFS and v.Level.Value < 400 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                if TemporaryAFS then
                    PreFarmGodhuman(v)
                end
                if not string.find(CommF:InvokeServer("BuyDragonTalon", true), "Set your") then
                    BuyFightingStyle("BuyDragonTalon", "Dragon Talon", 3000000, 5000)
                else
                    if not DragonTalonNoti then
                        getgenv().DragonTalonNoti = true
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Failed to buy Dragon Talon (Haven't gave Fire Essence)")
                        wait(3)
                    end
                    if game.PlaceId == 7449423635 then
                        if CheckPlrBackpack("Fire Essence") then
                            getgenv().TemporaryAFS = false
                            CommF:InvokeServer("BuyDragonTalon", true)
                            wait(1)
                            return
                        else
                            if Settings.Cuttay
                            and not TemporaryAFS
                            and CommF:InvokeServer("BuySuperhuman", true) == 1 then
                                BuyFightingStyle("BuySuperhuman")
                                getgenv().TemporaryAFS = true
                            end
                            if CommF:InvokeServer("Bones", "Buy", 1, 1) ~= 0 then
                                repeat wait()
                                    if GetItemCount("Bones") < 50 then
                                        AutoFSSLabel.SetText(LabelTextAFS ..  "Not have enough Bone to buy random (to get Fire Essence)")
                                        AutoFarmLabel.SetText(LabelTextAF ..  "Farming Bone")
                                        FarmLocation({"Reborn Skeleton", "Living Zombie", "Demonic Soul", "Posessed Mummy"}, CFrame.new(-9500.9443359375, 172.10487365722656, 6167.43359375))
                                    end
                                until CommF:InvokeServer("Bones", "Buy", 1, 1) ~= 0
                                or not Settings.AutoDragonTalon
                                return
                            end
                        end
                    else
                        if CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                            CommF:InvokeServer("TravelZou")
                            wait(5)
                            return
                        else
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Sea 3 is not unlocked to buy Dragon Talon")
                        end
                    end
                end
            end
        elseif v.Name == "Dragon Talon" then
            if Settings.OSIFS
            and v.Level.Value < 350 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                getgenv().AFSWeapon = v.Name
            else
                if Settings.Cuttay then BuyFightingStyle("BuySuperhuman") end
                AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Dragon Talon")
                getgenv().AFSWeapon = nil
                getgenv().DoneDragonTalon = true
                if AutoDragonTalonToggle then AutoDragonTalonToggle.SetStage(false) end
            end
        else
            BuyFightingStyle("DragonClaw", "Dragon Breath", 0, 1500)
            return
        end
    elseif Settings.AutoGodhuman
    and not DoneGodhuman then
        if CommF:InvokeServer("BuyGodhuman", true) == 3 then
            local v = GetCurrentEquippedM1()
            if v.Name == "Superhuman" then
                if v.Level.Value < 400 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                    getgenv().AFSWeapon = v.Name
                else
                    BuyFightingStyle("BuyDeathStep")
                end
            elseif v.Name == "Death Step" then
                if v.Level.Value < 400 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                    getgenv().AFSWeapon = v.Name
                else
                    BuyFightingStyle("BuyElectricClaw")
                end
            elseif v.Name == "Electric Claw" then
                if v.Level.Value < 400 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                    getgenv().AFSWeapon = v.Name
                else
                    BuyFightingStyle("BuySharkmanKarate")
                end
            elseif v.Name == "Sharkman Karate" then
                if v.Level.Value < 400 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                    getgenv().AFSWeapon = v.Name
                else
                    BuyFightingStyle("BuyDragonTalon")
                end
            elseif v.Name == "Dragon Talon" then
                if v.Level.Value < 400 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 400 Mastery")
                    getgenv().AFSWeapon = v.Name
                else
                    if CommF:InvokeServer("BuyGodhuman", true) == 3 then
                        BuyFightingStyle("BuySuperhuman")
                    end
                    return
                end
            end
        elseif CommF:InvokeServer("BuyGodhuman", true) == "Bring me 20 Fish Tails, 20 Magma Ore, 10 Dragon Scales and 10 Mystic Droplets." then
            local x, m = GetMaterialMob()
            if not x then return end
            AutoFSSLabel.SetText(LabelTextAFS ..  "Farming material " .. m[1])
            local v = GetMob(x)
            if v then
                repeat wait()
                    AttackMob(v)
                until not IsMobAlive(v)
                or GetItemCount(m[1]) >= m[2]
                or not Settings.AutoGodhuman
            else
                if game.PlaceId == 2753915549 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                    CommF:InvokeServer("TravelZou")
                    wait(5)
                    return
                end
                if m[1] == "Dragon Scale" then
                    if not SwapPlace then
                        Tween(CFrame.new(6669.94873046875, 439.9706115722656, 301.8127746582031))
                        getgenv().SwapPlace = true
                    else
                        Tween(CFrame.new(6505.375, 88.36115264892578, -971.4375610351562))
                        getgenv().SwapPlace = false
                    end
                elseif m[1] == "Magma Ore" then
                    if not SwapPlace then
                        Tween(CFrame.new(-5284.91845703125, 34.14228439331055, -5965.37841796875))
                        getgenv().SwapPlace = true
                    else
                        Tween(CFrame.new(-5193.80419921875, 35.531166076660156, -4996.73388671875))
                        getgenv().SwapPlace = false
                    end
                elseif m[1] == "Mystic Droplet" then
                    if not SwapPlace then
                        Tween(CFrame.new(-3326.19580078125, 266.4623718261719, -10516.6728515625))
                        getgenv().SwapPlace = true
                    else
                        Tween(CFrame.new(-3026.425048828125, 65.14846801757812, -9768.79296875))
                        getgenv().SwapPlace = false
                    end
                elseif m[1] == "Fish Tail" then
                    if not SwapPlace then
                        Tween(CFrame.new(-10957.9541015625, 331.78851318359375, -8889.294921875))
                        getgenv().SwapPlace = true
                    else
                        Tween(CFrame.new(-10674.505859375, 331.78851318359375, -8515.8017578125))
                        getgenv().SwapPlace = false
                    end
                else
                    local UnloadMob = child_stringfind(game.ReplicatedStorage, x[1], true, true)
                    if UnloadMob then
                        Tween(UnloadMob.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    end
                end
            end
            return
        else
            if game.PlaceId ~= 7449423635 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                CommF:InvokeServer("TravelZou")
                wait(5)
                return
            end
            BuyFightingStyle("BuyGodhuman", "Godhuman", 5000000, 5000)
            local v = GetCurrentEquippedM1()
            if v.Name == "Godhuman" then
                if Settings.OSIFS
                and v.Level.Value < 350 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                    getgenv().AFSWeapon = v.Name
                else
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Godhuman")
                    getgenv().AFSWeapon = nil
                    getgenv().DoneGodhuman = true
                    if AutoGodhumanToggle then AutoGodhumanToggle.SetStage(false) end
                end
            end
        end
    elseif Settings.AutoSaber
    and plrLevel >= 300
    and not DoneSaber then
        if Settings.Cuttay and Settings.MobFarm and MobFarmToggle then MobFarmToggle.SetStage(false) end
        local v = GetCurrentEquippedM1("Sword")
        if v and v.Name == "Saber" then
            if game.PlaceId ~= 7449423635
            and Settings.AFSTPSea3 and CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                CommF:InvokeServer("TravelZou")
                wait(5)
                return
            end
            if Settings.OSIFS
            and CheckMasteryValue(v.Name) < 350 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                getgenv().ASWeapon = v.Name
            else
                AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Saber")
                getgenv().ASWeapon = nil
                getgenv().DoneSaber = true
                if AutoSaberToggle then AutoSaberToggle.SetStage(false) end
            end 
        else
            if IsHaveItem("Saber") then
                CommF:InvokeServer("LoadItem", "Saber")
                return
            else
                if game.PlaceId == 2753915549 then
                    AutoFarmLabel.SetText(LabelTextAF ..  "Doing Saber Quest")
                    if game.workspace.Map.Jungle.Final.Invis.CanCollide then
                        if game.workspace.Map.Jungle.QuestPlates.Door.CanCollide then
                            for i, v in ipairs(game.workspace.Map.Jungle.QuestPlates:GetChildren()) do
                                if v:FindFirstChild("Button")
                                and v.Button:FindFirstChild("TouchInterest") then
                                    repeat wait()
                                        Tween(v.Button.Position, true)
                                    until not v.Button:FindFirstChild("TouchInterest")
                                end
                            end
                        else
                            if game.workspace.Map.Desert.Burn.Part.CanCollide then
                                if CheckPlrBackpack("Torch") then
                                    EquipItem("Torch")
                                    Tween(game.workspace.Map.Desert.Burn.Part.CFrame * CFrame.new(0, 0, 2), true)
                                    wait(7)
                                else
                                    Tween(game.workspace.Map.Jungle.Torch.Position, true)
                                end
                            else
                                if CommF:InvokeServer("ProQuestProgress", "RichSon") == 0 then
                                    local x = "Mob Leader"
                                    local v = GetMob(x)
                                    if v then
                                        AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                                        repeat wait()
                                            AttackMob(v)
                                        until not IsMobAlive(v)
                                    else
                                        local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                                        if UnloadBoss then
                                            Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                            return
                                        else
                                            AutoFarmLabel.SetText(LabelTextAF ..  "Waiting ".. x .." spawn")
                                        end
                                    end
                                elseif CommF:InvokeServer("ProQuestProgress", "RichSon") == 1 then
                                    if CheckPlrBackpack("Relic") then
                                        EquipItem("Relic")
                                        Tween(game.workspace.Map.Jungle.Final.Invis.Position + Vector3.new(0, 0, 2), true)
                                    else
                                        if plr:DistanceFromCharacter(Vector3.new(-908.12579345703, 13.877366065979, 4077.5068359375)) > 10 then
                                            Tween(CFrame.new(-908.12579345703, 13.877366065979, 4077.5068359375))
                                        else
                                            CommF:InvokeServer("ProQuestProgress", "RichSon")
                                        end
                                    end
                                else
                                    if CheckPlrBackpack("Cup") then 
                                        EquipItem("Cup")
                                        if CheckPlrBackpack("Cup").Handle:FindFirstChild("TouchInterest") then
                                            Tween(CFrame.new(1395.77307, 37.4733238, -1324.34631, -0.999978602, -6.53588605e-09, 0.00654155109, -6.57083277e-09, 1, -5.32077493e-09, -0.00654155109, -5.3636442e-09, -0.999978602), true)
                                        else
                                            if plr:DistanceFromCharacter(Vector3.new(1457.8768310547, 88.377502441406, -1390.6892089844)) > 10 then
                                                Tween(CFrame.new(1457.8768310547, 88.377502441406, -1390.6892089844), true)
                                            else
                                                CommF:InvokeServer("ProQuestProgress", "SickMan")
                                            end
                                        end
                                    else
                                        Tween(game.workspace.Map.Desert.Cup.Position, true)
                                    end
                                end
                            end
                        end
                        return
                    else
                        local x = "Saber Expert"
                        local v = GetMob(x)
                        if v then
                            AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                            repeat wait()
                                AttackMob(v)
                            until not IsMobAlive(v)
                        else
                            local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                            if UnloadBoss then
                                Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                return
                            else
                                if Settings.AFSHopServer then
                                    HopServer()
                                    wait(5)
                                    return
                                end
                                AutoFarmLabel.SetText(LabelTextAF ..  "Waiting ".. x .." spawn")
                            end
                        end
                    end
                else
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 1")
                    CommF:InvokeServer("TravelMain")
                    wait(5)
                    return
                end
            end
        end
    elseif Settings.AutoRengoku
    and not DoneRengoku then
        if Settings.Cuttay and Settings.MobFarm and MobFarmToggle then MobFarmToggle.SetStage(false) end
        local v = GetCurrentEquippedM1("Sword")
        if v and v.Name == "Rengoku" then
            if game.PlaceId ~= 7449423635
            and Settings.AFSTPSea3 and CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                CommF:InvokeServer("TravelZou")
                wait(5)
                return
            end
            if Settings.OSIFS
            and CheckMasteryValue(v.Name) < 350 then
                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                getgenv().ASWeapon = v.Name
            else
                AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto Rengoku")
                getgenv().ASWeapon = nil
                getgenv().DoneRengoku = true
                if AutoRengokuToggle then AutoRengokuToggle.SetStage(false) end
            end 
        else
            if IsHaveItem("Rengoku") then
                CommF:InvokeServer("LoadItem", "Rengoku")
                return
            else
                if game.PlaceId == 4442272183 then
                    if CheckPlrBackpack("Hidden Key") then
                        EquipItem("Hidden Key")
                        Tween(game.workspace.Map.IceCastle.RengokuChest.Detection.Position, true)
                    else
                        AutoFarmLabel.SetText(LabelTextAF ..  "Farming for Hidden Key")
                        local x = "Awakened Ice Admiral"
                        local v = GetMob(x)
                        if v then
                            repeat wait()
                                AttackMob(v)
                            until not IsMobAlive(v)
                            wait(1)
                        else
                            local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                            if UnloadBoss then
                                Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                            else
                                if Settings.AFSHopServer then
                                    HopServer()
                                    wait(5)
                                else
                                    local v = GetMob({"Arctic Warrior", "Snow Lurker"})
                                    if v then
                                        repeat wait()
                                            AttackMob(v)
                                        until not IsMobAlive(v)
                                        wait(.5)
                                    else
                                        Tween(CFrame.new(5835.5380859375, 99.31262969970703, -6517.54736328125))
                                    end
                                end
                            end
                        end
                    end
                else
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 2")
                    CommF:InvokeServer("TravelDressrosa")
                    wait(5)
                end
            end
            return
        end
    elseif Settings.AutoTripleKatana
    and not DoneTripleKatana then
        local v = GetCurrentEquippedM1("Sword")
        if v then
            if Settings.Cuttay then
                CT_DisableAutoRaid()
                CT_EnableFarm()
            end
            if v.Name == "Saddi" then
                if CheckMasteryValue(v.Name) < 300 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                    getgenv().ASWeapon = v.Name
                else
                    CommF:InvokeServer("LoadItem", "Shisui")
                    return
                end
            elseif v.Name == "Shisui" then
                if CheckMasteryValue(v.Name) < 300 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                    getgenv().ASWeapon = v.Name
                else
                    CommF:InvokeServer("LoadItem", "Wando")
                    return
                end
            elseif v.Name == "Wando" then
                if CheckMasteryValue(v.Name) < 300 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 300 Mastery")
                    getgenv().ASWeapon = v.Name
                else
                    if CheckMasteryValue("Saddi") >= 300
                    and CheckMasteryValue("Shisui") >= 300
                    and CheckMasteryValue("Wando") >= 300 then
                        if plr.Data.Beli.Value >= 2000000 then
                            CommF:InvokeServer("MysteriousMan", "2")
                            CommF:InvokeServer("LoadItem", "True Triple Katana")
                        end
                    else
                        CommF:InvokeServer("LoadItem", "Saddi")
                        return
                    end
                end
            elseif v.Name == "True Triple Katana" then
                if Settings.OSIFS
                and CheckMasteryValue(v.Name) < 350 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                    getgenv().ASWeapon = v.Name
                else
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto True Triple Katana")
                    getgenv().ASWeapon = nil
                    getgenv().DoneTripleKatana = true
                    if AutoTripleKatanaToggle then AutoTripleKatanaToggle.SetStage(false) end
                end
            else
                CommF:InvokeServer("LoadItem", "Saddi")
                return
            end
        else
            CommF:InvokeServer("LoadItem", "Saddi")
            return
        end
    elseif Settings.AutoDualKatana
    and not DoneDualKatana then
        if CheckMasteryValue("Yama") >= 350 and CheckMasteryValue("Tushita") >= 350 then
            if Settings.Cuttay then
                CT_DisableFarm()
            end
            local cdk = "Cursed Dual Katana"
            if IsHaveItem(cdk) then
                if Settings.OSIFS then
                    if CheckMasteryValue(cdk) < 375 then
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. cdk .. " hit 375 Mastery")
                        getgenv().ASWeapon = v.Name
                    else
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Done Auto " .. cdk)
                        getgenv().ASWeapon = nil
                        getgenv().DoneDualKatana = true
                        if AutoDualKatanaToggle then AutoDualKatanaToggle.SetStage(false) end
                    end
                else
                    if AutoDualKatanaToggle then AutoDualKatanaToggle.SetStage(false) end
                    Library.CreateNoti({Desc = "Got " .. cdk, ShowTime = 5})
                    local x = plr.PlayerGui.ScreenGui:FindFirstChild("Frame")
                    if x then
                        x.Visible = false
                    end
                end
                return
            end
            getgenv().ASWeapon = "Tushita"
            if not CheckPlrBackpack("Tushita") then
                CommF:InvokeServer("LoadItem", "Tushita")
                return
            end
            if plr.PlayerGui.Main.Dialogue.Visible then
                game:GetService("VirtualUser"):Button1Down(Vector2.new(50, 50))
            end
            if CommF:InvokeServer("CDKQuest", "Progress", "Good").Good == 4 
			and CommF:InvokeServer("CDKQuest", "Progress", "Good").Evil == 3 then
				if plr:DistanceFromCharacter(workspace.Map.Turtle.Cursed.Pedestal2.Position) > 10 then
					Tween(workspace.Map.Turtle.Cursed.Pedestal2.Position)
                end
                fireproximityprompt(game.workspace.Map.Turtle.Cursed.Pedestal2.ProximityPrompt)
                return
            end
            if CommF:InvokeServer("CDKQuest", "Progress", "Good").Good == 3
			and CommF:InvokeServer("CDKQuest", "Progress", "Good").Evil == 4 then
				if plr:DistanceFromCharacter(workspace.Map.Turtle.Cursed.Pedestal1.Position) > 10 then
					Tween(workspace.Map.Turtle.Cursed.Pedestal1.Position)
                end
                fireproximityprompt(game.workspace.Map.Turtle.Cursed.Pedestal1.ProximityPrompt)
                return
			end
            if CommF:InvokeServer("CDKQuest", "Progress", "Good").Good == 4
			and CommF:InvokeServer("CDKQuest", "Progress", "Good").Evil == 4 then
                if game.workspace.Map.Turtle.Cursed:FindFirstChild("Breakable") then
                    Tween(CFrame.new(-12130.416015625, 577.7924194335938, -6707.59765625))
                    wait(.5)
                    CommF:InvokeServer("CDKQuest", "OpenDoor")
                    CommF:InvokeServer("CDKQuest", "OpenDoor", true)
                    wait(1)
                    local Breakable = game.workspace.Map.Turtle.Cursed:FindFirstChild("Breakable")
                    if Breakable then Breakable:Destroy() end
                elseif game.workspace.Map.Turtle.Cursed.PlacedGem.Transparency == 0 then
                    local x = "Cursed Skeleton Boss"
                    local v = GetMob(x)
                    if v then
                        AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                        repeat wait()
                            AttackMob(v)
                        until not IsMobAlive(v)
                        wait(2)
                    else
                        local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                        if UnloadBoss then
                            Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                        else
                            Tween(CFrame.new(-12362.349609375, 603.3199462890625, -6550.33154296875), true)
                            wait(1)
                            plr.Character.Humanoid:MoveTo(Vector3.new(-12336.287109375, 603.3199462890625, -6550.80419921875))
                            wait(1)
                        end
                    end
                else
                    if game.workspace.Map.Turtle.Cursed.Pedestal3.ProximityPrompt.Enabled then
                        if plr:DistanceFromCharacter(workspace.Map.Turtle.Cursed.Pedestal3.Position) > 10 then
                            Tween(workspace.Map.Turtle.Cursed.Pedestal3.Position)
                        end
                        fireproximityprompt(game.workspace.Map.Turtle.Cursed.Pedestal3.ProximityPrompt)
                    else
                        wait(2)
                    end
                end
                return
			end
            if CommF:InvokeServer("CDKQuest", "Progress", "Good").Good ~= 4
            and CommF:InvokeServer("CDKQuest", "Progress", "Good").Good ~= -2 then
                CommF:InvokeServer("CDKQuest", "StartTrial", "Good")
                if CommF:InvokeServer("CDKQuest", "Progress", "Good").Good == -3 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Talking to Luxury Boat Dealer (CDK Quest)")
					for i, v in pairs(workspace.NPCs:GetChildren()) do
						if v.Name == "Luxury Boat Dealer" then
							plr.Character.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame
							CommF:InvokeServer("CDKQuest", "BoatQuest", v)
						end
					end
                    wait(2)
                elseif CommF:InvokeServer("CDKQuest", "Progress", "Good").Good == -4 then
                    if PirateRaiding then
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Killing Raid Pirates (CDK Quest)")
                        local v = GetPirateRaid()
                        if v then
                            repeat wait()
                                AttackMob(v)
                            until not IsMobAlive(v)
                            or not Settings.AutoWorldEvent
                            getgenv().LastPirateRaidSpawn = tick()
                            if not GetPirateRaid() and Settings.AutoWorldEvent then
                                local Timer = tick()
                                repeat wait(1)
                                until GetPirateRaid()
                                or tick() - Timer > 10
                                or not Settings.AutoWorldEvent 
                                if tick() - Timer > 10 and not GetPirateRaid() and not GetPirateRaid(true) then
                                    getgenv().LastPirateRaidSpawn = nil
                                    getgenv().PirateRaiding = false
                                end
                            end
                            return
                        else
                            local UnloadMob = GetPirateRaid(true)
                            if UnloadMob then
                                Tween(UnloadMob.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                            elseif LastPirateRaidSpawn then
                                if tick() - LastPirateRaidSpawn > 30 and not GetPirateRaid() then
                                    getgenv().PirateRaiding = false
                                end
                            end
                            return
                        end
                    elseif not PirateRaidCheck then
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for Raid Pirates (CDK Quest)")
                        getgenv().PirateRaidCheck = true
                        delay(10, function()
                            getgenv().PirateRaidCheck = false
                        end)
                        if GetPirateRaid() or GetPirateRaid(true) then
                            getgenv().PirateRaiding = true
                            getgenv().LastPirateRaidSpawn = tick()
                        elseif Settings.AFSHopServer then
                            TPLocation("Castle on the Sea")
                        end
                        if Settings.Cuttay then return end
                    elseif Settings.AFSHopServer then
                        HopServer(true)
                        wait(5)
                        return
                    end
                elseif CommF:InvokeServer("CDKQuest", "Progress", "Good").Good == -5 then
					if plr:DistanceFromCharacter(wOrigin.Locations["Heavenly Dimension"].Position) < 1000 then
                        return DoDimension(game.workspace.Map.HeavenlyDimension, "Cloudy grey")
					else
                        local x = "Cake Queen"
                        local v = GetMob(x)
                        if v then
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Entering Heavenly Dimension (CDK Quest)")
                            repeat wait()
                                AttackMob(v)
                            until not IsMobAlive(v)
                            wait(2)
                            return
                        else
                            local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                            if UnloadBoss then
                                Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                return
                            elseif Settings.AFSHopServer then
                                HopServer()
                                wait(5)
                                return
                            else
                                if Settings.Cuttay then CT_EnableFarm() end
                                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. x .. " spawn (CDK Quest)")
                            end
                        end
					end
                end
            else
                CommF:InvokeServer("CDKQuest", "StartTrial", "Evil")
				if CommF:InvokeServer("CDKQuest", "Progress", "Good").Evil == -3 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Doing die to mob (CDK Quest)")
                    local v = GetMobAura(true)
                    if v then
                        repeat wait()
                            if game.Lighting.ExposureCompensation ~= 0 then
                                getgenv().DisableKen = true
                                game:GetService("VirtualInputManager"):SendKeyEvent(true, "K", false, game)
                                game:GetService("VirtualInputManager"):SendKeyEvent(false, "K", false, game)
                            end
                            Tween(v.HumanoidRootPart.Position + Vector3.new(0, 5, 0))
                            --getgenv().BringTo = v
                            spawn(function()
                                BringMob(v)
                            end)
                        until not IsMobAlive(v)
                        or IsPlayerDead()
                        if IsPlayerDead() then
                            getgenv().DisableKen = false
                            repeat wait()
                            until not IsPlayerDead()
                            wait(3)
                        end
                    else
                        Tween(CFrame.new(-13271.83203125, 350.2919006347656, -7754.43408203125))
                    end
                    return
                elseif CommF:InvokeServer("CDKQuest", "Progress", "Good").Evil == -4 then
                    local x = GetHazeSpawn()
                    local v = GetMob(x)
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Killing " .. x .. "\nHaze Mob left: " .. HazeCounter() .. " (CDK Quest)")
                    if v then
                        repeat wait()
                            AttackMob(v)
                        until not IsMobAlive(v)
                    else
                        local UnloadMob = child_stringfind(game.ReplicatedStorage, x, true, true)
                        if UnloadMob then
                            Tween(UnloadMob.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                        else
                            for i, v in ipairs(EnemySpawns) do
                                if not GetMob(x)
                                and GetMobNameOnly(v.Name) == x then
                                    Tween(v.Position + Vector3.new(0, Settings.Distance, 0))
                                    wait()
                                    if Settings.IgnoreYTween then wait(.8) end
                                end
                            end
                        end
                    end
                    return
                elseif CommF:InvokeServer("CDKQuest", "Progress", "Good").Evil == -5 then
                    if plr:DistanceFromCharacter(wOrigin.Locations["Hell Dimension"].Position) < 1000 then
                        return DoDimension(game.workspace.Map.HellDimension, "Olivine")
                    else
                        if FindMobExist("Soul Reaper [Lv. 2100] [Raid Boss]") then
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Entering Hell Dimension (CDK Quest)")
                            local x = "Soul Reaper"
                            local v = GetMob(x)
                            if v then
                                repeat wait()
                                    if plr:DistanceFromCharacter(wOrigin.Locations["Hell Dimension"].Position) < 1000 then return end
                                    if game.Lighting.ExposureCompensation ~= 0 then
                                        getgenv().DisableKen = true
                                        game:GetService("VirtualInputManager"):SendKeyEvent(true, "K", false, game)
                                        game:GetService("VirtualInputManager"):SendKeyEvent(false, "K", false, game)
                                    end
                                    Tween(v.HumanoidRootPart.Position + Vector3.new(0, 5, 0))
                                    wait(1)
                                until not IsMobAlive(v)
                                or plr:DistanceFromCharacter(wOrigin.Locations["Hell Dimension"].Position) < 1000
                                or IsPlayerDead()
                                if IsPlayerDead() then
                                    getgenv().DisableKen = false
                                    repeat wait()
                                    until not IsPlayerDead()
                                    wait(3)
                                end
                            else
                                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                                if UnloadBoss then
                                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                end
                            end
                            return
                        elseif CheckPlrBackpack("Hallow Essence") then
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Spawning Soul Reaper (CDK Quest)")
                            EquipItem("Hallow Essence") 
                            Tween(game.workspace.Map["Haunted Castle"].Summoner.Detection.Position, true)
                            wait(2)
                            return
                        else
                            if CommF:InvokeServer("Bones", "Buy", 1, 1) ~= 0 then
                                repeat wait()
                                    if GetItemCount("Bones") < 50 then
                                        AutoFSSLabel.SetText(LabelTextAFS ..  "Not have enough Bone to buy random to get Hallow Essence (CDK Quest)")
                                        AutoFarmLabel.SetText(LabelTextAF ..  "Farming Bone")
                                        FarmLocation({"Reborn Skeleton", "Living Zombie", "Demonic Soul", "Posessed Mummy"}, CFrame.new(-9500.9443359375, 172.10487365722656, 6167.43359375))
                                    end
                                until CommF:InvokeServer("Bones", "Buy", 1, 1) ~= 0
                                or not Settings.AutoDualKatana
                                return
                            elseif Settings.AFSHopServer then
                                if not WaitTimer then
                                    getgenv().WaitTimer = tick()
                                end
                                local v = CheckPlrHaveHallowEssence()
                                if v and tick() - WaitTimer < 120 then
                                    if plr.Character.HumanoidRootPart.Position.Y < 500 then
                                        plr.Character.HumanoidRootPart.CFrame = plr.Character.HumanoidRootPart.CFrame * CFrame.new(0, 400, 0)
                                    end
                                    AutoFSSLabel.SetText(LabelTextAFS ..  "Detected " .. v .. " got Hallow Essence, waiting for them summon Soul Reaper, will Hop Server if they didn't spawn the boss in 2 minutes (CDK Quest)")
                                else
                                    if plr:DistanceFromCharacter(Vector3.new(-9625.3076171875, 141.3268585205078, 5393.041015625)) > 400 then
                                        TPLocation("Haunted Castle")
                                        wait(2)
                                    end
                                    HopServer(true)
                                    wait(5)
                                end
                            else
                                AutoFarmLabel.SetText(LabelTextAF ..  "Farming Bone")
                                FarmLocation({"Reborn Skeleton", "Living Zombie", "Demonic Soul", "Posessed Mummy"}, CFrame.new(-9500.9443359375, 172.10487365722656, 6167.43359375))
                            end
                        end
                    end
                end
            end
        elseif IsHaveItem("Yama") and IsHaveItem("Tushita") then
            if Settings.Cuttay then
                CT_EnableFarm()
            end
            local v = GetCurrentEquippedM1("Sword")
            if v and v.Name == "Yama" then
                if CheckMasteryValue(v.Name) < 350 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                    getgenv().ASWeapon = v.Name
                else
                    CommF:InvokeServer("LoadItem", "Tushita")
                    return
                end
            elseif v and v.Name == "Tushita" then
                if CheckMasteryValue(v.Name) < 350 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit 350 Mastery")
                    getgenv().ASWeapon = v.Name
                end
            else
                CommF:InvokeServer("LoadItem", "Yama")
                return
            end
        end
    elseif Settings.AutoSoulGuitar then
        if IsHaveItem("Soul Guitar") then
            if AutoSoulGuitarToggle then AutoSoulGuitarToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Got Soul Guitar", ShowTime = 5})
        end
        if GetItemCount("Dark Fragment") == 0 then
            if game.PlaceId ~= 4442272183 then
                CommF:InvokeServer("TravelDressrosa")
                wait(5)
                return
            else
                AutoFSSLabel.SetText(LabelTextAFS ..  "Farming for Dark Fragment (Auto Soul Guitar)")
                if not Settings.DarkbeardFarm and DarkbeardFarmToggle then DarkbeardFarmToggle.SetStage(true) end
                if not Settings.AutoChest and AutoChestToggle then AutoChestToggle.SetStage(true) end
                if not Settings.AC10Chest and AC10ChestToggle then AC10ChestToggle.SetStage(true) end
            end
        else
            if Settings.DarkbeardFarm and DarkbeardFarmToggle then DarkbeardFarmToggle.SetStage(false) end
            if Settings.AutoChest and AutoChestToggle then AutoChestToggle.SetStage(false) end
            if GetItemCount("Ectoplasm") < 250 then
                if game.PlaceId ~= 4442272183 then
                    CommF:InvokeServer("TravelDressrosa")
                    wait(5)
                    return
                else
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Farming 250 Ectoplasm (Auto Soul Guitar)")
                    FarmLocation({"Ship Deckhand", "Ship Engineer", "Ship Steward", "Ship Officer"}, CFrame.new(913.5241088867188, 126.08345794677734, 33189.7734375))
                end
                return
            else
                if game.PlaceId ~= 7449423635 then 
                    CommF:InvokeServer("TravelZou")
                    wait(5)
                    return
                else
                    if GetItemCount("Bones") < 500 then
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Farming 500 Bones (Auto Soul Guitar)")
                        FarmLocation({"Reborn Skeleton", "Living Zombie", "Demonic Soul", "Posessed Mummy"}, CFrame.new(-9500.9443359375, 172.10487365722656, 6167.43359375))
                        return
                    elseif plr.Data.Fragments.Value < 5000 then
                        AutoFSSLabel.SetText(LabelTextAFS .. "Not have enough Fragments to buy: Soul Guitar")
                        CT_AutoRaidForFrag()
                    else
                        local SGProgressCheck = CommF:InvokeServer("GuitarPuzzleProgress", "Check")
                        if not SGProgressCheck then
                            if game.Lighting.Sky.MoonTextureId == "http://www.roblox.com/asset/?id=9709149431"
                            and (game.Lighting.ClockTime >= 18
                            or game.Lighting.ClockTime <= 4) then
                                if plr:DistanceFromCharacter(Vector3.new(-8654.314453125, 140.9499053955078, 6167.5283203125)) > 50 then
                                    Tween(CFrame.new(-8654.314453125, 140.9499053955078, 6167.5283203125))
                                end
                                CommF:InvokeServer("gravestoneEvent", 2)
                                CommF:InvokeServer("gravestoneEvent", 2, true)
                                wait(1)
                            elseif Settings.AFSHopServer then
                                Library.CreateNoti({Desc = "Hopping Server for Full Moon", ShowTime = 5})
                                HopServer()
                                wait(5)
                                return
                            else
                                AutoFSSLabel.SetText(LabelTextAFS .. "Waiting for Full Moon")
                                if Settings.Cuttay then
                                    CT_DisableAutoRaid()
                                    CT_EnableFarm()
                                end
                            end
                        else
                            if plr.PlayerGui.Main.Dialogue.Visible then
                                game:GetService("VirtualUser"):Button1Down(Vector2.new(0, 0))
                            end
                            if not SGProgressCheck.Swamp then
                                HopIfNearFarmArea(Vector3.new(-9500.9443359375, 172.10487365722656, 6167.43359375), nil, true)
                                getgenv().SetSimulationRadius = true
                                Tween(CFrame.new(-10171.7607421875, 138.62667846679688, 6008.0654296875) * CFrame.new(0, 50, 0))
                                if CountZombie() == 6 then
                                    for i, v in pairs(game.workspace.Enemies:GetChildren()) do
                                        if v.Name == "Living Zombie [Lv. 2000]"
                                        and IsMobAlive(v)
                                        and v.Humanoid.Health == v.Humanoid.MaxHealth
                                        and (v.HumanoidRootPart.Position - Vector3.new(-10171.7607421875, 138.62667846679688, 6008.0654296875)).magnitude > 45 then
                                            local vP = v.HumanoidRootPart.Position
                                            for i, v in ipairs(game.workspace.Enemies:GetChildren()) do
                                                if IsMobAlive(v)
                                                and isnetworkowner(v.HumanoidRootPart) then
                                                    v.HumanoidRootPart.CFrame = CFrame.new(-10171.7607421875, 138.62667846679688, 6008.0654296875)
                                                    v.Humanoid:ChangeState(11)
                                                end
                                            end
                                        end
                                    end
                                end
                                if CountZombie(true) == 6 then
                                    repeat wait()
                                        if not plr.Character:FindFirstChildOfClass("Tool") then
                                            EquipItem(GetM1WP())
                                        end
                                        ClickM1()
                                    until CountZombie() == 0
                                    or CommF:InvokeServer("GuitarPuzzleProgress", "Check").Swamp
                                    or not Settings.AutoSoulGuitar
                                    getgenv().SetSimulationRadius = false
                                end
                            elseif not SGProgressCheck.Gravestones then
                                if plr:DistanceFromCharacter(Vector3.new(-8761.4765625, 142.10487365722656, 6086.07861328125)) > 50 then
                                    Tween(CFrame.new(-8761.4765625, 142.10487365722656, 6086.07861328125))
                                end
                                local ClickSigns = {
                                    game.workspace.Map["Haunted Castle"].Placard1.Right.ClickDetector,
                                    game.workspace.Map["Haunted Castle"].Placard2.Right.ClickDetector,
                                    game.workspace.Map["Haunted Castle"].Placard3.Left.ClickDetector,
                                    game.workspace.Map["Haunted Castle"].Placard4.Right.ClickDetector,
                                    game.workspace.Map["Haunted Castle"].Placard5.Left.ClickDetector,
                                    game.workspace.Map["Haunted Castle"].Placard6.Left.ClickDetector,
                                    game.workspace.Map["Haunted Castle"].Placard7.Left.ClickDetector
                                }
                                for i, v in pairs(ClickSigns) do
                                    fireclickdetector(v)
                                end
                            elseif not SGProgressCheck.Ghost then
                                if plr:DistanceFromCharacter(Vector3.new(-9755.6591796875, 271.0661315917969, 6290.61474609375)) > 50 then
                                    Tween(CFrame.new(-9755.6591796875, 271.0661315917969, 6290.61474609375))
                                end
                                CommF:InvokeServer("GuitarPuzzleProgress", "Ghost")
                                wait(3)
                            elseif not SGProgressCheck.Trophies then
                                if plr:DistanceFromCharacter(Vector3.new(-9530.0126953125, 6.104853630065918, 6054.83349609375)) > 50 then
                                    Tween(CFrame.new(-9530.0126953125, 6.104853630065918, 6054.83349609375))
                                end
                                local Tablet = game.workspace.Map["Haunted Castle"].Tablet
                                for i, v in pairs(BlankTablets) do
                                    local x = Tablet[v]
                                    if x.Line.Position.X ~= 0 then
                                        repeat wait()
                                            fireclickdetector(x.ClickDetector)
                                        until x.Line.Position.X == 0
                                    end
                                end
                                for i, v in pairs(Trophy) do
                                    local x = game.workspace.Map["Haunted Castle"].Trophies.Quest[v].Handle.CFrame
                                    x = tostring(x)
                                    x = x:split(", ")[4]
                                    local c = "180"
                                    if x == "1" or x == "-1" then
                                        c = "90"
                                    end
                                    if not string.find(tostring(Tablet[i].Line.Rotation.Z), c) then
                                        repeat wait()
                                            fireclickdetector(Tablet[i].ClickDetector)
                                        until string.find(tostring(Tablet[i].Line.Rotation.Z), c)
                                    end
                                end
                            elseif not SGProgressCheck.Pipes then
                                for i, v in pairs(Pipes) do
                                    local x = game.workspace.Map["Haunted Castle"]["Lab Puzzle"].ColorFloor.Model[i]
                                    if x.BrickColor.Name ~= v then
                                        repeat wait()
                                            fireclickdetector(x.ClickDetector)
                                        until x.BrickColor.Name == v
                                    end
                                end
                            else
                                CommF:InvokeServer("soulGuitarBuy", true)
                                CommF:InvokeServer("soulGuitarBuy")
                                wait(1)
                            end
                            return
                        end
                    end
                end
            end
        end
    elseif Settings.AutoSwitchSword then
        local v = GetCurrentEquippedM1("Sword")
        local CustomMasteryValue = Settings.RequireMastery
        if v and Settings.CT_FarmUntilUnlock and not DoneFarmUntilUnlock then
            CustomMasteryValue = GetSwordMaxMastery(v.Name)
        end
        if v and CheckMasteryValue(v.Name) < CustomMasteryValue then
            AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit " .. CustomMasteryValue .. " Mastery")
            getgenv().ASWeapon = v.Name
        else
            for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                if v.details
                and v.details.Type == "Sword"
                and not table.find(SelectedIgnoreRarity2, v.details.Rarity)
                and ((not Settings.CT_FarmUntilUnlock or DoneFarmUntilUnlock) and v.details.Mastery < Settings.RequireMastery
                or Settings.CT_FarmUntilUnlock and v.details.Mastery < GetSwordMaxMastery(v.details.Name)) then
                    CommF:InvokeServer("LoadItem", v.details.Name)
                    wait(1)
                    return
                end
            end
            if Settings.CT_FarmUntilUnlock and not DoneFarmUntilUnlock then
                Settings.RequireMastery = 600
                getgenv().DoneFarmUntilUnlock = true
                getgenv().DoneFightingStyle = false
                if CommF:InvokeServer("BuyGodhuman", true) == 1 then
                    BuyFightingStyle("BuyGodhuman")
                else
                    BuyFightingStyle("BuyDragonTalon")
                end
                for i, v in pairs(O_ExtraTimeMasteryFarm) do
                    getgenv().ExtraTimeMasteryFarm[i] = 600
                end
            end
        end
    elseif Settings.AutoSwitchGun then
        local v = GetCurrentEquippedM1("Gun")
        if v and CheckMasteryValue(v.Name) < Settings.RequireMastery then
            AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit " .. Settings.RequireMastery .. " Mastery")
            getgenv().GWeapon = v.Name
        else
            for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                if v.details
                and v.details.Type == "Gun"
                and not table.find(SelectedIgnoreRarity2, v.details.Rarity)
                and v.details.Mastery < Settings.RequireMastery then
                    CommF:InvokeServer("LoadItem", v.details.Name)
                    wait(1)
                    return
                end
            end
        end
    elseif Settings.AutoSwitchBloxFruit then
        local v = GetCurrentEquippedM1("Blox Fruit")
        if v and v.Level.Value < Settings.RequireMastery then
            AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. v.Name .. " hit " .. Settings.RequireMastery .. " Mastery")
            getgenv().BFWeapon = v.Name
        else
            table.insert(getgenv().IgnoreSBF, v.Name)
            for _, v in pairs(CommF:InvokeServer("GetFruits")) do
                if v.HasPermanent and not table.find(IgnoreSBF, v.Name) then
                    Tween(CFrame.new(-12510.607421875, 336.9401550292969, -7443.73974609375))
                    wait(2)
                    CommF:InvokeServer("SwitchFruit", v.Name)
                    wait(1)
                    return
                end
            end
        end
    else
        AutoFSSLabel.SetText("[Auto Fighting Style / Sword]: None")
    end
    
    if Settings.Cuttay and game.PlaceId == 2753915549 and not Settings.AutoSaber and not CT_DoneGetStuffs and plrLevel >= 700 then
        CommF:InvokeServer("TravelDressrosa")
    end

    if game.PlaceId ~= 7449423635
    and Settings.AutoNextSea then
        if game.PlaceId == 2753915549 and plrLevel >= 700 then
            AutoFarmLabel.SetText(LabelTextAF ..  "Doing Sea 2 Quest")
            CommF:InvokeServer("TravelDressrosa")
            if game.workspace.Map.Ice.Door.Transparency == 1 then
                local x = "Ice Admiral"
                local v = GetMob(x)
                if v then
                    repeat wait()
                        AttackMob(v)
                    until not IsMobAlive(v)
                    wait(1)
                    CommF:InvokeServer("TravelDressrosa")
                    wait(5)
                    game:GetService("TeleportService"):Teleport(game.PlaceId, plr)
                else
                    local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                    if UnloadBoss then
                        Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    else
                        if Settings.AFSHopServer then
                            HopServer()
                            wait(5)
                            return
                        end
                        if Settings.Cuttay then CT_EnableFarm() end
                        AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. x .. " spawn")
                    end
                end
            else
                if CheckPlrBackpack("Key") then
                    EquipItem("Key")
                    Tween(game.workspace.Map.Ice.Door.CFrame, true)
                    wait(1)
                else
                    if plr:DistanceFromCharacter(Vector3.new(4855.991, 6, 716.677)) < 10 then
                        CommF:InvokeServer("DressrosaQuestProgress", "Detective")
                    else
                        Tween(CFrame.new(4855.991, 6, 716.677))
                        wait(2)
                    end
                end
            end
            return
        elseif plrLevel >= 1500 then
            if CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                CommF:InvokeServer("TravelZou")
                wait(5)
                return
            end
            if Is1MilFruit() or CommF:InvokeServer("TalkTrevor", "1") == 0 then
                AutoFarmLabel.SetText(LabelTextAF ..  "Doing Sea 3 Quest")
                if CommF:InvokeServer("TalkTrevor", "1") == 0 then
                    if CommF:InvokeServer("ZQuestProgress", "Check") == nil then
                        local x = "Don Swan"
                        local v = GetMob(x)
                        if v then
                            repeat wait()
                                AttackMob(v)
                            until not IsMobAlive(v)
                            wait(1)
                        else
                            local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                            if UnloadBoss then
                                Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                return
                            else
                                if Settings.AFSHopServer then
                                    HopServer()
                                    wait(5)
                                    return
                                end
                                if Settings.Cuttay then CT_EnableFarm() end
                                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. x .. " spawn")
                            end
                        end
                    elseif CommF:InvokeServer("ZQuestProgress", "Check") == 0 then
                        Tween(CFrame.new(-1926.78772, 12.1678171, 1739.80884))
                        wait(2)
                        CommF:InvokeServer("ZQuestProgress", "Begin")
                        wait(2)
                        local x = "rip_indra"
                        local v = GetMob(x)
                        if v then
                            if not RunCheckWorld3 then
                                getgenv().RunCheckWorld3 = true
                                spawn(function()
                                    while wait(5) do
                                        if CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                                            CommF:InvokeServer("TravelZou")
                                        end
                                    end
                                end)
                            end
                            repeat wait()
                                AttackMob(v)
                            until not IsMobAlive(v)
                            wait(2)
                            repeat wait(1)
                            until CommF:InvokeServer("ZQuestProgress", "Check") == 1
                            return
                        else
                            local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                            if UnloadBoss then
                                Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                                return
                            else
                                if Settings.AFSHopServer then
                                    HopServer()
                                    wait(5)
                                    return
                                end
                                if Settings.Cuttay then CT_EnableFarm() end
                                AutoFSSLabel.SetText(LabelTextAFS ..  "Waiting for " .. x .. " spawn")
                            end
                        end
                    elseif CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
                        CommF:InvokeServer("TravelZou")
                        wait(5)
                        return
                    end
                else
                    if CommF:InvokeServer("TalkTrevor", "1") == true then
                        CommF:InvokeServer("TalkTrevor", "2")
                    else
                        CommF:InvokeServer("TalkTrevor", "3")
                    end
                    return
                end
            elseif not DF1mCheck then
                getgenv().DF1mCheck = true
                delay(5, function()
                    getgenv().DF1mCheck = false
                end)
                local v = GetTreasureFruit(true)
                if v then
                    getgenv().DisableAutoStore = true
                    wait(.25)
                    CommF:InvokeServer("LoadFruit", v)
                    wait(.5)
                    if CommF:InvokeServer("TalkTrevor", "1") == true then
                        CommF:InvokeServer("TalkTrevor", "2")
                    else
                        CommF:InvokeServer("TalkTrevor", "3")
                    end
                    getgenv().DisableAutoStore = false
                    return
                else
                    if not table.find(SelectedIgnoreHop, "[Sea 3 Quest] Server Hop for 1M+ Blox Fruit") then
                        if not NotiHopSv then
                            getgenv().NotiHopSv = true
                            Library.CreateNoti({Desc = 'Hopping Server for 1M+ Blox Fruit (Sea 3 Quest)', ShowTime = 5})
                        end
                        if not Settings.NPIII and NPIIIToggle then NPIIIToggle.SetStage(true) end
                        if not Settings.BTDFHopServer and BTDFHopServerToggle then BTDFHopServerToggle.SetStage(true) end
                        CT_DisableFarm()
                    else
                        AutoFarmLabel.SetText(LabelTextAF ..  "Not found 1m+ Blox Fruit in Inventory todo Sea 3 Quest")
                    end
                end
            end
        end
    end
    if game.PlaceId == 7449423635
    and (Settings.AutoTushita and not game.workspace.Map.Turtle:FindFirstChild("TushitaGate"))
    and not FindMobExist("rip_indra True Form [Lv. 5000] [Raid Boss]") then
        if IsHaveItem("Tushita") then
            if AutoTushitaToggle then AutoTushitaToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Got Tushita", ShowTime = 5})
        end
        if not game.workspace.Map.Turtle:FindFirstChild("TushitaGate")
        and not IsHaveItem("Tushita") then
            local x = "Longma"
            local v = GetMob(x)
            if v then
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                repeat wait()
                    AttackMob(v)
                until not IsMobAlive(v)
                or not Settings.AutoTushita
                return
            else
                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                if UnloadBoss then
                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    return
                else
                    AutoFarmLabel.SetText(LabelTextAF ..  "Waiting " .. x .. " spawn")
                end
            end
        end
    end
    if game.PlaceId == 7449423635
    and (Settings.rip_indraFarm or Settings.AutoTushita) then
        if Settings.AutoTushita and plrLevel >= 2000 and Settings.AFSHopServer and not FindMobExist("rip_indra True Form [Lv. 5000] [Raid Boss]")
        and (not SelectedIgnoreAction or not table.find(SelectedIgnoreAction, "Get Cursed Dual Katana")) then
            if Settings.Cuttay and not NotiHopSv then
                getgenv().NotiHopSv = true
                Library.CreateNoti({Desc = 'Hopping Server for rip_indra True Form\n(Auto Tushita)', ShowTime = 20})
            end
            HopServer(true)
            wait(5)
            return
        end
        if FindMobExist("rip_indra True Form [Lv. 5000] [Raid Boss]")
        or Settings.AutoTushita and CheckPlrBackpack("Holy Torch") then
            if Settings.AutoTushita
            and game.workspace.Map.Turtle:FindFirstChild("TushitaGate") then
                if not CheckPlrBackpack("Holy Torch") then
                    Tween(game.workspace.Map.Waterfall.SecretRoom.Room.Door.Door.Hitbox.CFrame, true)
                    wait(1)
                else
                    local TorchCounter = 1
                    AutoFarmLabel.SetText(LabelTextAF ..  "Doing Tushita torch puzzle")
                    repeat wait()
                        for i, v in ipairs(game.workspace.Map.Turtle.QuestTorches:GetChildren()) do
                            if v.Name == "Torch" .. TorchCounter then
                                Tween(v.Position, true)
                                EquipItem("Holy Torch")
                                if v.Particles.Main.Enabled then
                                    TorchCounter = TorchCounter + 1
                                end
                            end
                        end
                    until TorchCounter == 6
                    or not game.workspace.Map.Turtle:FindFirstChild("TushitaGate")
                    or not CheckPlrBackpack("Holy Torch")
                    or not Settings.AutoTushita
                end
                return
            end
            local x = "rip_indra True Form"
            local v = GetMob(x)
            if v then
                local OldInv = {}
                for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                    if v.details
                    and (v.details.Type == "Accessory" or v.details.Type == "Sword") then
                        table.insert(OldInv, v.details.Name)
                    end
                end
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                repeat wait()
                    AttackMob(v)
                until not IsMobAlive(v)
                or not Settings.rip_indraFarm
                or Settings.AutoTushita
                and game.workspace.Map.Turtle:FindFirstChild("TushitaGate")
                if IsMobAlive(v) then return end
                wait(4)
                if Settings.rip_indraFarm and Settings.RBFWebhook then
                    local x = GetNewInv(OldInv)
                    local PingEvery1 = ""
                    if x then
                        x = "\nItem Dropped: " .. x
                        PingEvery1 = "@everyone"
                    else
                        x = ""
                    end
                    SendWebHook({
                        ["content"] = PingEvery1,
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "rip_indra Farm",
                                    ["value"] = "Killed rip_indra" .. x,
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                end
            else
                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                if UnloadBoss then
                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    return
                end
            end
        elseif CheckPlrBackpack(WorldReward)
        and Settings.rip_indraFarm then
            local v, x = GetSummonPlate()
            if v and not CheckUnlockLegHaki() then
                CommF:InvokeServer("activateColor", x)
                Tween(v.Position, true)
                wait(1)
            else
                EquipItem(WorldReward)
                Tween(game.workspace.Map["Boat Castle"].Summoner.Detection.Position, true)
                wait(2)
            end
            return
        end
    end
    if game.PlaceId == 7449423635
    and Settings.SoulReaperFarm then
        if FindMobExist("Soul Reaper [Lv. 2100] [Raid Boss]") then
            local x = "Soul Reaper"
            local v = GetMob(x)
            if v then
                local OldInv = {}
                for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                    if v.details
                    and (v.details.Type == "Accessory" or v.details.Type == "Sword") then
                        table.insert(OldInv, v.details.Name)
                    end
                end
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                repeat wait()
                    AttackMob(v)
                until not IsMobAlive(v)
                or not Settings.SoulReaperFarm and not Settings.Cuttay
                if IsMobAlive(v) then return end
                wait(4)
                if Settings.SoulReaperFarm and Settings.RBFWebhook then
                    local x = GetNewInv(OldInv)
                    local PingEvery1 = ""
                    if x then
                        x = "\nItem Dropped: " .. x
                        PingEvery1 = "@everyone"
                    else
                        x = ""
                    end
                    SendWebHook({
                        ["content"] = PingEvery1,
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "Soul Reaper Farm",
                                    ["value"] = "Killed Soul Reaper" .. x,
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                end
            else
                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                if UnloadBoss then
                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    return
                end
            end
        elseif CheckPlrBackpack("Hallow Essence") then
            EquipItem("Hallow Essence") 
            Tween(game.workspace.Map["Haunted Castle"].Summoner.Detection.Position, true)
            wait(2)
            return
        else
            if CommF:InvokeServer("Bones", "Buy", 1, 1) ~= 0 then
                repeat wait()
                    if GetItemCount("Bones") < 50 then
                        AutoFarmLabel.SetText(LabelTextAF ..  "Farming Bone for Hallow Essence")
                        FarmLocation({"Reborn Skeleton", "Living Zombie", "Demonic Soul", "Posessed Mummy"}, CFrame.new(-9500.9443359375, 172.10487365722656, 6167.43359375))
                    end
                until CommF:InvokeServer("Bones", "Buy", 1, 1) ~= 0
                or not Settings.SoulReaperFarm
                return
            end
        end
    end
    if game.PlaceId == 4442272183
    and (Settings.DarkbeardFarm or Settings.Cuttay) then
        if FindMobExist("Darkbeard [Lv. 1000] [Raid Boss]") then
            local x = "Darkbeard"
            local v = GetMob(x)
            if v then
                local OldInv = {}
                for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                    if v.details
                    and (v.details.Type == "Accessory" or v.details.Type == "Sword") then
                        table.insert(OldInv, v.details.Name)
                    end
                end
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                repeat wait()
                    AttackMob(v)
                until not IsMobAlive(v)
                or not Settings.DarkbeardFarm and not Settings.Cuttay
                if IsMobAlive(v) then return end
                wait(4)
                if Settings.DarkbeardFarm and Settings.RBFWebhook then
                    local x = GetNewInv(OldInv)
                    local PingEvery1 = ""
                    if x then
                        x = "\nItem Dropped: " .. x
                        PingEvery1 = "@everyone"
                    else
                        x = ""
                    end
                    SendWebHook({
                        ["content"] = PingEvery1,
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "Darkbeard Farm",
                                    ["value"] = "Killed Darkbeard" .. x,
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                end
            else
                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                if UnloadBoss then
                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    return
                end
            end
        elseif CheckPlrBackpack(WorldReward) then
            EquipItem(WorldReward)
            Tween(game.workspace.Map.DarkbeardArena.Summoner.Detection.Position, true)
            wait(.5)
            return
        end
    end
    if game.PlaceId == 4442272183
    and Settings.OrderFarm then
        if FindMobExist("Order [Lv. 1250] [Raid Boss]") then
            local x = "Order"
            local v = GetMob(x)
            if v then
                local OldInv = {}
                for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                    if v.details
                    and (v.details.Type == "Accessory" or v.details.Type == "Sword") then
                        table.insert(OldInv, v.details.Name)
                    end
                end
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                repeat wait()
                    AttackMob(v)
                until not IsMobAlive(v)
                or not Settings.OrderFarm
                if IsMobAlive(v) then return end
                wait(4)
                if Settings.OrderFarm and Settings.RBFWebhook then
                    local x = GetNewInv(OldInv)
                    local PingEvery1 = ""
                    if x then
                        x = "\nItem Dropped: " .. x
                        PingEvery1 = "@everyone"
                    else
                        x = ""
                    end
                    SendWebHook({
                        ["content"] = PingEvery1,
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "Order Farm",
                                    ["value"] = "Killed Order" .. x,
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                end
            else
                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                if UnloadBoss then
                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                end
                return
            end
        else
            if CheckPlrBackpack("Microchip") then
                fireclickdetector(game.workspace.Map.CircleIsland.RaidSummon.Button.Main.ClickDetector)
                wait(2)
                return
            elseif plr.Data.Fragments.Value > 1000 then
                CommF:InvokeServer("BlackbeardReward", "Microchip", "2")
                wait(1)
                return
            else
                AutoFarmLabel.SetText(LabelTextAF ..  "Not have enough Fragments to buy: Order Raid Microchip")
            end
        end
    end
    if Settings.AutoYama then
        if IsHaveItem("Yama") then
            if AutoYamaToggle then AutoYamaToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Got Yama", ShowTime = 5})
        elseif CommF:InvokeServer("EliteHunter", "Progress") >= 30 then
            if plr:DistanceFromCharacter(game.workspace.Map.Waterfall.SealedKatana.Handle.Position) > 200 then
                Tween(game.workspace.Map.Waterfall.SealedKatana.Handle.Position)
            else
                local x = "Ghost"
                local v = GetMob(x)
                if v then
                    repeat wait()
                        AttackMob(v)
                    until not IsMobAlive(v)
                    wait(.5)
                else
                    repeat wait()
                        if plr:DistanceFromCharacter(game.workspace.Map.Waterfall.SealedKatana.Handle.Position) > 50 then
                            Tween(game.workspace.Map.Waterfall.SealedKatana.Handle.Position)
                        else
                            fireclickdetector(game.workspace.Map.Waterfall.SealedKatana.Handle.ClickDetector)
                        end
                    until IsHaveItem("Yama")
                    or GetMob(x)
                    or not Settings.AutoYama
                end
            end
            return
        end
    end
    if game.PlaceId == 7449423635
    and Settings.ElitePirateFarm then
        local WorldRewardItem = CheckPlrBackpack(WorldReward)
        if WorldRewardItem
        and not Settings.rip_indraFarm
        and (Settings.EPFDisable or Settings.GDAWebhook and not WorldRewardItem:FindFirstChild("Ignored")) then
            if Settings.GDAWebhook and not WorldRewardItem:FindFirstChild("Ignored") then
                SendWebHook({
                    ["content"] = "@everyone",
                    ["embeds"] = {{
                        ["title"] = "Blox Fruits",
                        ["type"] = "rich",
                        ["color"] = tonumber(0xbdce44),
                        ["fields"] = {
                            {
                                ["name"] = "Name",
                                ["value"] = "||" .. plr.Name .. "||",
                                ["inline"] = false
                            },
                            {
                                ["name"] = "Elite Pirate Farm",
                                ["value"] = "Got " .. WorldReward,
                                ["inline"] = false
                            }
                        },
                        ["footer"] = {
                            ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                            ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                        }
                    }}
                })
                local Ignored = Instance.new("IntValue", WorldRewardItem)
                Ignored.Name = "Ignored"
            end
            if Settings.EPFDisable then
                TPLocation("Mansion")
                wait(2)
                return
            end
        else
            if not FuckPublicServer then
                spawn(function()
                    while wait(5) do
                        pcall(function()
                            if Settings.ElitePirateFarm
                            and Settings.EPFHopServer
                            and not plr.PlayerGui.Main.Quest.Visible
                            and KillingElitePirate then
                                HopServer()
                                wait(5)
                            end
                        end)
                    end
                end)
                getgenv().FuckPublicServer = true
            end
            if not EliteQuestCheck then
                getgenv().EliteQuestCheck = true
                delay(5, function()
                    getgenv().EliteQuestCheck = false
                end)
                CommF:InvokeServer("EliteHunter")
                wait(1)
            end
            if plr.PlayerGui.Main.Quest.Visible
            and
            (string.find(plr.PlayerGui.Main.Quest.Container.QuestTitle.Title.Text, "Urban")
            or string.find(plr.PlayerGui.Main.Quest.Container.QuestTitle.Title.Text, "Deandre")
            or string.find(plr.PlayerGui.Main.Quest.Container.QuestTitle.Title.Text, "Diablo"))
            then
                local x = GetMobNameInCurrentQuest()
                local v = GetMob(x)
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x .. "\nTotal killed: " .. CommF:InvokeServer("EliteHunter", "Progress"))
                if v then
                    local Timer = tick()
                    getgenv().KillingElitePirate = true
                    repeat wait()
                        AttackMob(v)
                    until not IsMobAlive(v)
                    or not Settings.ElitePirateFarm
                    or tick() - Timer > 180
                    getgenv().KillingElitePirate = false
                    wait(1)
                else
                    local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                    if UnloadBoss then
                        getgenv().KillingElitePirate = true
                        Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                    end
                    return
                end
                return            
            elseif Settings.EPFHopServer and (not Settings.SpawnDoughKing and not Settings.CakePrinceFarm or not FindMobExist("Dough King [Lv. 2300] [Raid Boss]") and not (CheckPlrBackpack(WorldReward) or CheckPlrBackpack("Sweet Chalice"))) then
                if Settings.Cuttay and not NotiHopSv then
                    getgenv().NotiHopSv = true
                    Library.CreateNoti({Desc = 'Hopping Server for Elite Pirate Boss\n(Auto Yama)', ShowTime = 20})
                end
                HopServer()
                wait(5)
                return
            end
        end
    end
    
    if not TargetBoss then
        if game.PlaceId ~= 2753915549 
        and Settings.AutoRaid and plrLevel >= 1100 then
            if not plr.PlayerGui.Main.Timer.Visible and not CheckInRaid() then
                if CheckPlrBackpack("Special Microchip") then
                    AutoFarmLabel.SetText(LabelTextAF ..  "Joining Raid")
                    if RaidSummon.MainRaid.Color.Color == RaidColor then
                        local Timer = tick()
                        repeat wait()
                            if CheckPlrBackpack("Special Microchip") and not TweenPath then
                                fireclickdetector(RaidSummon.Button.Main.ClickDetector)
                                wait(2)
                            end
                        until plr.PlayerGui.Main.Timer.Visible or not Settings.AutoRaid and not Settings.Cuttay or tick() - Timer > 30
                        return
                    else
                        Library.CreateNoti({Desc = 'There is a Raid are starting, waiting ...', ShowTime = 5})
                        wait(2)
                    end
                    return
                elseif not BuyMicrochipCheck then
                    getgenv().BuyMicrochipCheck = true
                    delay(5, function()
                        getgenv().BuyMicrochipCheck = false
                    end)
                    if Settings.RaidMap == "Dough" or Settings.RaidMap == "Bird: Phoenix" then
                        CommF:InvokeServer("RaidsNpc", "Select", Settings.RaidMap)
                        if CheckPlrBackpack("Special Microchip") then
                            return
                        elseif Settings.BTDFHopServer
                        and not CheckPlrBackpack("Special Microchip") then
                            HopServer(true)
                            wait(5)
                            return
                        end
                    elseif not Is1MilFruit() then
                        CommF:InvokeServer("RaidsNpc", "Select", Settings.RaidMap)
                        if CheckPlrBackpack("Special Microchip") then
                            return
                        elseif Settings.AutoRaidAU
                        and not child_stringfind(plr.Backpack, " Fruit", nil, true)
                        and not child_stringfind(plr.Character, " Fruit", nil, true)
                        and GetTreasureFruit() then
                            local v = GetTreasureFruit()
                            if v then
                                getgenv().DisableAutoStore = true
                                CommF:InvokeServer("LoadFruit", v)
                                wait(.25)
                                CommF:InvokeServer("RaidsNpc", "Select", Settings.RaidMap)
                                wait(.25)
                                getgenv().DisableAutoStore = false
                                return
                            end
                        elseif Settings.BTDFHopServer
                        and not CheckPlrBackpack("Special Microchip") then
                            HopServer(true)
                            wait(5)
                            return
                        end
                    end
                end
            end
        elseif Settings.Cuttay and not Settings.NPIII and NPIIIToggle then
            NPIIIToggle.SetStage(true)
        end
        
        if game.PlaceId ~= 2753915549 
        and Settings.SeaBeastFarm then
            local WorldRewardItem = CheckPlrBackpack(WorldReward)
            if WorldRewardItem
            and not Settings.DarkbeardFarm
            and (Settings.SFDIGFOD or Settings.GDAWebhook and not WorldRewardItem:FindFirstChild("Ignored")) then
                if Settings.GDAWebhook and not WorldRewardItem:FindFirstChild("Ignored") then
                    SendWebHook({
                        ["content"] = "@everyone",
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "Sea Beast Farm",
                                    ["value"] = "Got " .. WorldReward,
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                    local Ignored = Instance.new("IntValue", WorldRewardItem)
                    Ignored.Name = "Ignored"
                end
                if Settings.ACDisable then
                    TPLocation(SafeZone)
                    wait(2)
                    return
                end
            else
                if Settings.SFHopServer and game.PlaceId == 7449423635 then
                    AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 2")
                    CommF:InvokeServer("TravelDressrosa")
                    wait(5)
                    return
                end
                if Settings.SFSIMIS and game.workspace.NPCs["Advanced Fruit Dealer"].HumanoidRootPart.Position.Y > -100 then
                    Tween(game.workspace.NPCs["Advanced Fruit Dealer"].HumanoidRootPart.Position)
                    wait(3)
                    return
                end
                local v = CheckSeaBeast() or CheckPirateShip()
                if v then
                    if Settings.SFSIMIS then
                        repeat wait()
                            if v.Name == "SeaBeast1" then
                                AutoFarmLabel.SetText(LabelTextAF ..  "Waiting for Sea Beast despawn")
                            else
                                AutoFarmLabel.SetText(LabelTextAF ..  "Waiting for Pirate Ship despawn")  
                            end
                            if not plr.Character.Humanoid.Sit then
                                UnSit()
                            else
                                TPLocation(SafeZone)
                                wait(2)
                            end
                        until not v or not v.Parent
                        or not v:FindFirstChild("Health")
                        or v.Health.Value == 0
                        or not Settings.SeaBeastFarm
                        or not Settings.SFSIMIS
                    end
                    local PlusY = -20
                    if v.Name == "SeaBeast1" then
                        AutoFarmLabel.SetText(LabelTextAF ..  "Attacking Sea Beast")
                        PlusY = 200
                    else
                        AutoFarmLabel.SetText(LabelTextAF ..  "Attacking Pirate Ship")
                    end
                    local Root = v:FindFirstChild("HumanoidRootPart") or v:FindFirstChild("Engine")
                    spawn(function()
                        repeat wait()
                            if Root.Position.Y + PlusY < 0 then getgenv().AimPos = nil end
                            if v.Name == "SeaBeast1" then
                                getgenv().AimPos = Vector3.new(Root.Position.X, 40, Root.Position.Z)
                            else
                                getgenv().AimPos = Root.Position + Vector3.new(0, -20, 0)
                            end
                        until not v or not v.Parent
                        or not v:FindFirstChild("Health")
                        or v.Health.Value == 0
                        or not Settings.SeaBeastFarm
                        wait(2)
                        if Settings.SFHopServer and not CheckPlrBackpack(WorldReward) and PlusY == 200 and not CheckSeaBeast() then
                            AutoFSSLabel.SetText(LabelTextAFS ..  "Traveling to Sea 3")
                            CommF:InvokeServer("TravelZou")
                            wait(3)
                            return
                        end
                    end)
                    repeat wait()
                        if IsPlayerDead() then
                            repeat wait()
                            until not IsPlayerDead()
                            wait(3)
                            for i, v in ipairs(plr.Backpack:GetChildren()) do
                                if v:IsA("Tool")
                                and v.ToolTip ~= "" then
                                    plr.Character.Humanoid:EquipTool(v)
                                end
                                wait(.25)
                            end
                            plr.Character.Humanoid:UnequipTools()
                        end
                        if v.Name == "SeaBeast1" or Settings.AttackPirateShip then
                            if Root.Position.Y + PlusY < 0 then return end
                            local k = GetUseableSkillWP()
                            if k then
                                if not plr.Character:FindFirstChild(k) then
                                    EquipItem(k)
                                end
                                Tween(Root.CFrame * CFrame.new(0, PlusY, 0), nil, nil, true)
                                for _, x in pairs(SkillList) do
                                    if Settings.SeaBeastFarm and not Panicing
                                    and v and v.Parent
                                    and plr:DistanceFromCharacter(Root.Position) < 400
                                    and CheckSkillUseable(k, x)
                                    and (x ~= "Z" or x == "Z" and not table.find(IgnoreZFruits, k))
                                    and (x ~= "F" or x == "F" and table.find(FDealDamageFruits, k))
                                    and plr.PlayerGui.Main.Skills[k][x].Title.Text ~= "Transformation"
                                    and Root.Position.Y + PlusY > 0
                                    and v:FindFirstChild("Health")
                                    and v.Health.Value ~= 0 then
                                        Tween(Root.CFrame * CFrame.new(0, PlusY, 0), nil, nil, true)
                                        game:GetService("VirtualInputManager"):SendKeyEvent(true, x, false, game)
                                        game:GetService("VirtualInputManager"):SendKeyEvent(false, x, false, game)
                                    end
                                end
                            elseif Root.Position.Y + PlusY > 0 then
                                if plr:DistanceFromCharacter(Root.Position) < 400 and v.Name == "SeaBeast1" then
                                    plr.Character.HumanoidRootPart.CFrame = Root.CFrame * SeaBeastRandomPos[math.random(1, 2)]
                                else
                                    Tween(Root.CFrame * CFrame.new(0, PlusY, 0), nil, nil, true)
                                end
                            end
                        else
                            if not plr.Character.Humanoid.Sit then
                                UnSit()
                            end
                            getgenv().noclip = false
                            local plrPos = plr.Character.HumanoidRootPart.Position
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 100, plrPos.Z)
                        end
                    until not v or not v.Parent
                    or not v:FindFirstChild("Health")
                    or v.Health.Value == 0
                    or not Settings.SeaBeastFarm
                else
                    if Settings.WaterWalker and WaterWalkerToggle then WaterWalkerToggle.SetStage(false) end
                    local ShipPos = CFrame.new(-9.799154281616211, -0.09795093536376953, 4071.22265625)
                    if game.PlaceId == 7449423635 then
                        ShipPos = CFrame.new(-7536.1572265625, -0.09795093536376953, -11520.6806640625)
                        if Settings.SFSIMIS then
                            ShipPos = CFrame.new(-8119.6171875, -0.09795093536376953, -15605.6884765625)
                        end
                    end
                    if plr:DistanceFromCharacter(ShipPos.Position) < 300 then
                        local v = FindOwnBoat()
                        if v then
                            if (v.VehicleSeat.Position - ShipPos.Position).magnitude > 300 then
                                AutoFarmLabel.SetText(LabelTextAF ..  "Spawning Ship")
                                plr.Character.HumanoidRootPart.CFrame = v.VehicleSeat.CFrame
                                wait(1)
                                v.VehicleSeat.CFrame = ShipPos
                                wait(2)
                                UnSit()
                            else
                                if Settings.SFSIMIS then
                                    AutoFarmLabel.SetText(LabelTextAF ..  "Waiting for Mirage Island")
                                else
                                    AutoFarmLabel.SetText(LabelTextAF ..  "Waiting for Sea Beast")
                                end
                                getgenv().noclip = false
                                if not plr.Character.Humanoid.Sit then
                                    plr.Character.HumanoidRootPart.CFrame = v.VehicleSeat.CFrame
                                    wait(2)
                                else
                                    game:GetService("VirtualInputManager"):SendKeyEvent(true, "S", false, game)
                                    wait(.25)
                                    game:GetService("VirtualInputManager"):SendKeyEvent(false, "S", false, game)
                                    wait(.5)
                                    game:GetService("VirtualInputManager"):SendKeyEvent(true, "W", false, game)
                                    wait(.25)
                                    game:GetService("VirtualInputManager"):SendKeyEvent(false, "W", false, game)
                                end
                            end
                        else
                            if Settings.AttackPirateShip then
                                CommF:InvokeServer("BuyBoat", "PirateBasic")
                            else
                                CommF:InvokeServer("BuyBoat", "Dinghy")
                            end
                        end
                    else
                        Tween(ShipPos)
                    end
                    wait(1)
                    return
                end
            end
        end
        if Settings.ObservationHakiFarm then
            local v = GetMobAura(true)
            if v then
                if game.Lighting.ExposureCompensation == 0 then
                    game:GetService("VirtualInputManager"):SendKeyEvent(true, "K", false, game)
                    game:GetService("VirtualInputManager"):SendKeyEvent(false, "K", false, game)
                end
                repeat wait()
                    Tween(v.HumanoidRootPart.Position + Vector3.new(0, 5, 0))
                until not IsMobAlive(v)
                or game.Lighting.ExposureCompensation == 0
                or not Settings.ObservationHakiFarm
                if Settings.ObservationHakiFarm and game.Lighting.ExposureCompensation == 0 then
                    HopServer()
                end
            else
                local UnloadMob = GetUnloadedMob()
                if UnloadMob then
                    Tween(UnloadMob.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                end
                return
            end
        end
        if Settings.AutoChest then
            local WorldRewardItem = CheckPlrBackpack(WorldReward)
            if WorldRewardItem
            and (Settings.ACDisable or Settings.GDAWebhook and not WorldRewardItem:FindFirstChild("Ignored")) then
                if Settings.GDAWebhook and not WorldRewardItem:FindFirstChild("Ignored") then
                    SendWebHook({
                        ["content"] = "@everyone",
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "Auto Chest",
                                    ["value"] = "Got " .. WorldReward,
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                    local Ignored = Instance.new("IntValue", WorldRewardItem)
                    Ignored.Name = "Ignored"
                end
                if Settings.ACDisable then
                    TPLocation(SafeZone)
                    wait(2)
                    return
                end
            else
                if Settings.AC10Chest and CollectedChest >= 10 and (not Settings.Cuttay or table.find(SelectedIgnoreHop, "[Main] Server Hop")) then
                    HopServer()
                    wait(5)
                    return
                end
                if #getgenv().Chests == 0 then
                    if not GetChestCheck then
                        delay(10, function()
                            getgenv().GetChestCheck = false
                        end)
                        getgenv().GetChestCheck = true
                        getgenv().GetChests()
                        wait(1)
                    end
                else
                    local Chest = GetNearestChest()
                    if Chest then
                        if Settings.AC10Chest and plr:DistanceFromCharacter(Chest.Position) > 2000 then
                            HopServer()
                            wait(5)
                            return
                        end
                        AutoFarmLabel.SetText(LabelTextAF ..  "Picking up Chest")
                        Tween(Chest.Position)
                        wait(.25)
                        Jump()
                        wait(.25)
                        getgenv().CollectedChest = CollectedChest + 1
                        return
                    elseif Settings.ACHopServer then
                        HopServer()
                        wait(5)
                        return
                    end
                end
            end
        end
    end
    if game.PlaceId == 7449423635
    and Settings.CakePrinceFarm then
        if FindMobExist("Cake Prince [Lv. 2300] [Raid Boss]")
        or FindMobExist("Dough King [Lv. 2300] [Raid Boss]") then
            if plr:DistanceFromCharacter(Vector3.new(-2112.831298828125, 70.00884246826172, -12393.880859375)) < 1000 then
                Tween(game.workspace.Map.CakeLoaf.BigMirror.Main.Position)
                wait(1)
            end
            local x
            if FindMobExist("Dough King [Lv. 2300] [Raid Boss]") then
                x = "Dough King"
            else
                x = "Cake Prince"
            end
            local v = GetMob(x)
            if v then
                local OldInv = {}
                for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                    if v.details
                    and (v.details.Type == "Accessory" or v.details.Type == "Sword") then
                        table.insert(OldInv, v.details.Name)
                    end
                end
                AutoFarmLabel.SetText(LabelTextAF ..  "Killing " .. x)
                repeat wait()
                    if IsPlayerDead() and not disable then
                        getgenv().AttackingMob = nil
                        repeat wait() until not IsPlayerDead()
                        wait(3)
                        if plr:DistanceFromCharacter(Vector3.new(-2112.831298828125, 70.00884246826172, -12393.880859375)) < 1000 then
                            Tween(game.workspace.Map.CakeLoaf.BigMirror.Main.Position)
                            wait(1)
                        end
                    end
                    AttackMob(v, true)
                until not IsMobAlive(v)
                or not Settings.CakePrinceFarm
                wait(4)
                if Settings.CakePrinceFarm and Settings.RBFWebhook then
                    local iv = GetNewInv(OldInv)
                    local PingEvery1 = ""
                    if iv then
                        iv = "\nItem Dropped: " .. iv
                        PingEvery1 = "@everyone"
                    else
                        iv = ""
                    end
                    SendWebHook({
                        ["content"] = PingEvery1,
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "Cake Prince Farm",
                                    ["value"] = "Killed " .. x .. iv,
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                end
                if CheckPlrBackpack("Red Key") then
                    EquipItem("Red Key")
                    Tween(CFrame.new(-2683.825927734375, 64.36637115478516, -12853.4599609375), true)
                end
            else
                local UnloadBoss = child_stringfind(game.ReplicatedStorage, x, true, true)
                if UnloadBoss then
                    Tween(UnloadBoss.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                end
                return
            end
        elseif not Settings.KillingElitePirate or (CheckPlrBackpack(WorldReward) or CheckPlrBackpack("Sweet Chalice")) then
            if Settings.SpawnDoughKing
            and GetItemCount("Conjured Cocoa") < 10
            and not CheckPlrBackpack("Sweet Chalice") then
                local v = GetMob({"Cocoa Warrior", "Chocolate Bar Battler", "Sweet Thief", "Candy Rebel"})
                if v then
                    AutoFarmLabel.SetText(LabelTextAF ..  "Farming Conjured Cocoa")
                    repeat wait()
                        AttackMob(v)
                    until not IsMobAlive(v)
                    or GetItemCount("Conjured Cocoa") >= 10
                    or not Settings.CakePrinceFarm
                    wait(.5)
                else
                    Tween(CFrame.new(236.79563903808594, 76.14258575439453, -12497.48828125))
                end
            else
                if Settings.SpawnDoughKing
                and not CheckPlrBackpack("Sweet Chalice") then
                    if CheckPlrBackpack(WorldReward) then
                        CommF:InvokeServer("SweetChaliceNpc")
                        wait(1)
                    elseif not Settings.ElitePirateFarm or not Settings.EPFHopServer then
                        AutoFarmLabel.SetText(LabelTextAF ..  "You don't have " .. WorldReward .. " to spawn Dough King")
                        SpawnDoughKingToggle.SetStage(false)
                        wait(1)
                    end
                    return
                end
                local CPProgress = CommF:InvokeServer("CakePrinceSpawner", true)
                if string.find(CPProgress, "open the portal now") then
                    if plr:DistanceFromCharacter(Vector3.new(-2136.96142578125, 70.00884246826172, -12322.5791015625)) < 10 then
                        CommF:InvokeServer("CakePrinceSpawner")
                    else
                        Tween(CFrame.new(-2136.96142578125, 70.00884246826172, -12322.5791015625))
                        return
                    end
                else
                    AutoFarmLabel.SetText(LabelTextAF ..  "Farming Mob to spawn Cake Prince (" .. CPProgress:split(">")[2]:split("<")[1] .. " left)")
                    FarmLocation({"Cookie Crafter", "Cake Guard", "Baking Staff", "Head Baker"}, CFrame.new(-2129.2158203125, 52.0726318359375, -12595.05078125), (not Settings.SpawnDoughKing and not Settings.CakePrinceFarm or not (CheckPlrBackpack(WorldReward) or CheckPlrBackpack("Sweet Chalice"))))
                    return
                end
            end
        end
    end
    if not TargetBoss
    and Settings.MobAura then
        if MobAuraPos
        and plr:DistanceFromCharacter(MobAuraPos.Position) > 1000 then
            AutoFarmLabel.SetText(LabelTextAF ..  "Tweening to Mob Aura Anchor")
            Tween(MobAuraPos.Position)
        else
            AutoFarmLabel.SetText(LabelTextAF ..  "Mob Aura Farming")
            if MobAuraPos then HopIfNearFarmArea(MobAuraPos.Position) end
            local v = GetMobAura()
            if v then
                local Timer = tick()
                repeat wait()
                    if MobAuraPos then HopIfNearFarmArea(MobAuraPos.Position) end
                    AttackMob(v)
                until not IsMobAlive(v)
                and not string.find(v.Name, "Boss")
                or not Settings.MobAura
                or tick() - Timer > 120
            else
                Tween(MobAuraPos.Position)
            end
        end
    end
    function PHCheck(v)
        local v = game.workspace.Characters:FindFirstChild(v)
        if v
        and (tostring(plr.Team) == "Pirates" and not table.find(Allies, v.Name) or tostring(plr.Team) == "Marines" and tostring(game.Players[v.Name].Team) ~= "Marines")
        and game.Players[v.Name].Data.Level.Value >= 20
        and IsMobAlive(v)
        and v.Humanoid.MaxHealth <= 1000
        and not BF_SafeZoneCheck(v.HumanoidRootPart)
        and plr.PlayerGui.Main.Quest.Visible then
            return true
        end
    end
    if game.PlaceId == 2753915549 and not DonePH
    and Settings.AutoDL and plrLevel >= 50
    and #game.Players:GetChildren() > 1
    and not TemporaryDisablePlayerHunter then
        local PH = CommF:InvokeServer("PlayerHunter")
        if not string.find(PH, "I don't have") then
            local v = PH:split("player ")[2]
            v = v:split(" roaming")[1]
            if not PHCheck(v) then
                local Attempts = 0
                repeat wait()
                    Attempts = Attempts + 1
                    PH = CommF:InvokeServer("PlayerHunter")
                    v = PH:split("player ")[2]
                    v = v:split(" roaming")[1]
                    wait(.5)
                until PHCheck(v) or Attempts > 12 * 3
                if Attempts > 12 * 3 then
                    if Settings.AFSHopServer then
                        HopServer()
                        wait(5)
                    else
                        getgenv().TemporaryDisablePlayerHunter = true
                        delay(600, function()
                            getgenv().TemporaryDisablePlayerHunter = false
                        end)
                    end
                    return
                end
            end
            local v = game.workspace.Characters:FindFirstChild(v)
            spawn(function()
                repeat wait(1)
                until not IsMobAlive(v)
                or BF_SafeZoneCheck(v.HumanoidRootPart)
                or not plr.PlayerGui.Main.Quest.Visible
                ForceStopTween()
            end)
            repeat wait()
                if plr:DistanceFromCharacter(v.HumanoidRootPart.Position) > 50 then
                    getgenv().MovingPos = v.HumanoidRootPart
                    Tween(v.HumanoidRootPart.Position)
                    getgenv().MovingPos = nil
                else
                    plr.Character.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame
                    if not plr.Character:FindFirstChildOfClass("Tool") then
                        EquipItem(GetM1WP())
                    end
                    game:GetService("VirtualInputManager"):SendKeyEvent(true, "Z", false, game)
                    game:GetService("VirtualInputManager"):SendKeyEvent(false, "Z", false, game)
                    game:GetService("VirtualInputManager"):SendKeyEvent(true, "X", false, game)
                    game:GetService("VirtualInputManager"):SendKeyEvent(false, "X", false, game)
                    ClickM1()
                end
            until not IsMobAlive(v)
            or BF_SafeZoneCheck(v.HumanoidRootPart)
            or not plr.PlayerGui.Main.Quest.Visible
            or IsPlayerDead()
            if IsPlayerDead() then
                repeat wait()
                until not IsPlayerDead()
                wait(3)
                if plr.PlayerGui.Main.PvpDisabled.Visible then
                    CommF:InvokeServer("EnablePvp")
                    wait(5)
                end
            else
                ForceStopTween()
                wait(1)
                if string.find(CommF:InvokeServer("PlayerHunter"), "I don't have") then
                    getgenv().DonePH = true
                    delay(360, function()
                        getgenv().DonePH = false
                    end)
                end
            end
            return
        end
    end
    if Settings.MobFarm
    or TargetBoss and (Settings.BossFarm or Settings.Cuttay) then
        local FMob = {}
        local SelectedFMob = TargetBoss
        local MobTable = Bosses
        if not SelectedFMob then
            if Settings.AutoDL then
                local ChoosenMob = GetMobByLevel()
                for i, v in pairs(Mobs) do
                    if Mobs[ChoosenMob].QName == v.QName
                    and plrLevel >= v.QLevel then
                        table.insert(FMob, i)
                    end
                end
            else
                FMob = SelectedMFMob
            end
            SelectedFMob = GetMSelectFMob(FMob)
            MobTable = Mobs
        end
        if SelectedFMob then
            if SelectedFMob ~= "Bandit"
            and SelectedFMob ~= "Trainee"
            and plrLevel < 120
            and Settings.AutoDL then
                if not NotiForRetard then
                    Library.CreateNoti({Desc = "(Auto Detect Level) This is the best way to farm from Lvl 10 to 120 so ignore what the script is doing", ShowTime = 60})
                    getgenv().NotiForRetard = true
                end
                AutoFarmLabel.SetText(LabelTextAF ..  "(Auto Detect Level) This is the best way to farm from Lvl 10 to 120 so ignore what the script is doing")
                FarmLocation({"Royal Soldier", "Royal Squad"}, CFrame.new(-7806.525390625, 5635.63818359375, -1526.8787841796875))
                return
            end
            if not HaveQuest(MobTable, SelectedFMob, FMob) then
                if not TargetBoss
                and SelectedFMob ~= "Factory Staff" then
                    HopIfNearFarmArea(Mobs[SelectedFMob].MPos)
                end
                repeat wait()
                    Tween(MobTable[SelectedFMob].QPos)
                    wait(.5)
                    if plr:DistanceFromCharacter(MobTable[SelectedFMob].QPos.Position) < 5 then
                        CommF:InvokeServer("StartQuest", MobTable[SelectedFMob].QName, MobTable[SelectedFMob].QNumber)
                        wait(.25)
                    end 
                until HaveQuest(MobTable, SelectedFMob, FMob)
                or TargetBoss and (not Settings.BossFarm or child_stringfind(game.workspace.Enemies, SelectedFMob, true) == 0 and child_stringfind(game.ReplicatedStorage, SelectedFMob, true) == 0)
                or not TargetBoss and not Settings.MobFarm
            end
            repeat wait()
                --[[
                local NeatestSpawnPoint = CheckNearestSpawn(MobTable[SelectedFMob].QPos)
                if Settings.SSPIT
                and plr.Data.SpawnPoint.Value ~= NeatestSpawnPoint
                and plr:DistanceFromCharacter(wOrigin.PlayerSpawns.Pirates[NeatestSpawnPoint]:FindFirstChildOfClass("Part").Position) > 1000 then
                    repeat wait()
                        plr.Character.HumanoidRootPart.CFrame = MobTable[SelectedFMob].QPos
                        CommF:InvokeServer("SetSpawnPoint")
                        local x = plr.Character:FindFirstChild("Head")
                        if x then
                            x:Destroy()
                        end
                    until plr.Data.SpawnPoint.Value == NeatestSpawnPoint
                    or not Settings.SSPIT or not Settings.MobFarm or TargetBoss and not Settings.BossFarm
                    repeat wait()
                    until not IsPlayerDead()
                    wait(3)
                    if plr.Data.SpawnPoint.Value ~= NeatestSpawnPoint then return end
                end
                ]]
                local v
                if MobTable[SelectedFMob] and plrLevel >= MobTable[SelectedFMob].QLevel
                or TargetBoss then
                    v = GetMob(SelectedFMob)
                else
                    v = GetMob(FMob)
                end
                if v then
                    getgenv().WaitSpawnTimer = nil
                    AutoFarmLabel.SetText(LabelTextAF ..  "Killing mob (" .. SelectedFMob .. ")")
                    local Timer = tick()
                    getgenv().MovingPos = v.HumanoidRootPart
                    repeat wait()
                        if not TargetBoss
                        and SelectedFMob ~= "Factory Staff" then
                            HopIfNearFarmArea(Mobs[SelectedFMob].MPos)
                        end
                        AttackMob(v)
                    until not IsMobAlive(v)
                    or not HaveQuest(MobTable, SelectedFMob, FMob)
                    or TargetBoss and Settings.BossFarm
                    or not TargetBoss and not Settings.MobFarm
                    or tick() - Timer > 120
                    getgenv().MovingPos = nil
                else
                    AutoFarmLabel.SetText(LabelTextAF ..  "Waiting for mob spawn (" .. SelectedFMob .. ")")
                    if not TargetBoss then
                        if not WaitSpawnTimer then
                            getgenv().WaitSpawnTimer = tick()
                        elseif tick() - WaitSpawnTimer > 180 then
                            getgenv().WaitSpawnTimer = nil
                            if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
                                Library.CreateNoti({Desc = "Server glitched, mobs not spawning in 3 minutes", ShowTime = 5})
                                HopServer()
                                wait(5)
                            else                               
                                if game.PlaceId == 2753915549 then
                                    TPLocation("Underwater City Entrance")
                                elseif game.PlaceId == 4442272183 then
                                    TPLocation("Swan's Room")
                                elseif game.PlaceId == 7449423635 then
                                    TPLocation("Castle on the Sea")
                                end
                            end
                            return
                        end
                        if not (MobTable[SelectedFMob] and plrLevel >= MobTable[SelectedFMob].QLevel) then
                            SelectedFMob = FMob[math.random(1, #FMob)]
                        end
                        Tween(Mobs[SelectedFMob].MPos + Vector3.new(0, Settings.Distance, 0))
                        if not GetMob(SelectedFMob) then
                            wait(2)
                            for i, v in ipairs(EnemySpawns) do
                                if (not MobTable[SelectedFMob] or MobTable[SelectedFMob] and plrLevel >= MobTable[SelectedFMob].QLevel and plr.PlayerGui.Main.Quest.Visible)
                                and not GetMob(SelectedFMob)
                                and GetMobNameOnly(v.Name) == SelectedFMob then
                                    Tween(v.Position + Vector3.new(0, Settings.Distance, 0))
                                    wait()
                                    if Settings.IgnoreYTween then wait(.8) end
                                end
                            end
                        end
                    else
                        local UnloadMob = child_stringfind(game.ReplicatedStorage, SelectedFMob, true, true)
                        if UnloadMob then
                            Tween(UnloadMob.HumanoidRootPart.CFrame * CFrame.new(0, Settings.Distance * 2, 0))
                        end
                    end
                end
            until TargetBoss and (not Settings.BossFarm or child_stringfind(game.workspace.Enemies, SelectedFMob, true) == 0 and child_stringfind(game.ReplicatedStorage, SelectedFMob, true) == 0)
            or not TargetBoss and (not Settings.MobFarm or (MobTable[SelectedFMob] and plrLevel >= MobTable[SelectedFMob].QLevel and not plr.PlayerGui.Main.Quest.Visible) or not (MobTable[SelectedFMob] and plrLevel >= MobTable[SelectedFMob].QLevel) and Settings.AutoDL)
            wait(.5)
        else
            CommF:InvokeServer("AbandonQuest")
            wait(2)
        end
    end
    if Settings.Cuttay then
        if CheckPlrBackpack("Library Key")
        and game.workspace.Map.IceCastle.Hall.LibraryDoor:FindFirstChild("PhoeyuDoor") then
            repeat wait()
                EquipItem("Library Key")
                Tween(game.workspace.Map.IceCastle.Hall.LibraryDoor.Keyhole.Detect.Position, true)
                wait(1)
            until not CheckPlrBackpack("Library Key")
        end
        if CheckPlrBackpack("Hidden Key")
        and not IsHaveItem("Rengoku") then
            repeat wait()
                EquipItem("Hidden Key")
                Tween(game.workspace.Map.IceCastle.RengokuChest.Detection.Position, true)
                wait(1)
            until not CheckPlrBackpack("Hidden Key")
        end
        if CheckPlrBackpack("Water Key") then
            CommF:InvokeServer("BuySharkmanKarate", true)
            wait(1)
        end
        if CheckPlrBackpack("Fire Essence")
        and string.find(CommF:InvokeServer("BuyDragonTalon", true), "Set your") then
            CommF:InvokeServer("BuyDragonTalon", true)
            wait(1)
        end
    end
    AutoFarmLabel.SetText("[Auto Farm]: None")
end
spawn(function()
    while wait() do
        pcall(function()
            CheckFinder()
        end)
        wait(10)
    end
end)
spawn(function()
    wait(2)
    if TabStatus and TabStatus == "In" then wait(4) end
    repeat wait() until AutoFSSLabel and AutoFarmLabel and S_Timer
    while wait() do
        local _, e = pcall(function()
            AutoFarmFeatures()
        end)
        if e then print(e) end
    end
end)
if game.PlaceId ~= 7449423635 then
    local x, m = "Auto Sea 2 Quest (Dressrosa)", "Auto do the quest goto next Sea"
    if game.PlaceId == 4442272183 then
        x, m = "Auto Sea 3 Quest (Zou)", "Auto do the quest goto next Sea, require 1m+ value Blox Fruit in Inventory or Treasure Inventory, recommended enable with Auto Blox Fruit Dealer Cousin"
    end
    AutoNextSeaToggle = Section22.CreateToggle({Title = x, Desc = m, Default = Settings.AutoNextSea}, function(v)
        if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
            if AutoNextSeaToggle then AutoNextSeaToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
        end
        if v and game.PlaceId == 2753915549
        and game.workspace.Map.Ice.Door.Transparency == 1 then
            CommF:InvokeServer("TravelDressrosa")
            return
        end
        if v and game.PlaceId == 4442272183
        and CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
            CommF:InvokeServer("TravelZou")
            return
        end
        if Settings.AutoNextSea and not v then
            spawn(function()
                wait(.5)
                ForceStopTween(true)
            end)
        end
        Settings.AutoNextSea = v
    end)
elseif Settings.AutoNextSea then
    Settings.AutoNextSea = false
end
if game.PlaceId ~= 2753915549 then
    local x, m = "Auto Pirate Raid", "Auto attack the raid Pirates at Castle on the Sea when the Raid Event happened"
    if game.PlaceId == 4442272183 then
        x, m = "Auto Factory", "Auto destroy the Factory when the Factory Event happened"
    end
    AutoWorldEventToggle = Section22.CreateToggle({Title = x, Desc = m, Default = Settings.AutoWorldEvent}, function(v)
        if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
            if AutoWorldEventToggle then AutoWorldEventToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
        end
        if Settings.AutoWorldEvent and not v then
            spawn(function()
                wait(.5)
                getgenv().PirateRaiding = false
                ForceStopTween(true)
            end)
        end
        Settings.AutoWorldEvent = v
    end)
    Section22.CreateToggle({Title = "Hop Server if no " .. x:gsub("Auto ", ""), Desc = "Will Hop Server if current server have no " .. x:gsub("Auto ", ""), Default = Settings.AWEHopServer}, function(v)
        Settings.AWEHopServer = v
    end)
end
MobFarmToggle = Section22.CreateToggle({Title = 'Mob Farm', Desc = 'Buit in Double Quest Farm\n(if selected 2 Mobs or enable Auto Detect Level)', Default = Settings.MobFarm}, function(v)
    if v and #SelectedMFMob == 0 and not Settings.AutoDL then
        if MobFarmToggle then MobFarmToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "Please select an Mob", ShowTime = 5})
    end
    if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
        if MobFarmToggle then MobFarmToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
    end
    if Settings.MobFarm and not v then
        spawn(function()
            wait(.5)
            ForceStopTween(true)
        end)
    end
    Settings.MobFarm = v
end)
MFHopServerToggle = Section22.CreateToggle({Title = 'Hop Server if Player nearby', Default = Settings.MFHopServer, Desc = 'Will Hop Server if have an Player nearby the Selected Mob Farm area (only enable for Public Servers)'}, function(v)
    Settings.MFHopServer = v
end)
Section22 = Page2.CreateSection('Mob Aura')
MobAuraToggle = Section22.CreateToggle({Title = 'Mob Aura', Desc = "Will Tween to nearest Mob in render distance and kill them without taking Quest\n(Best way to farming Beli / Mastery)", Default = Settings.MobAura}, function(v)
    if Settings.MobAura and not v then
        spawn(function()
            wait(.5)
            ForceStopTween(true)
        end)
    end
    Settings.MobAura = v
end)
function StringToCFrame(x)
    if not x then return end
    local v = string.split(x, ",")
    return CFrame.new(v[1], v[2], v[3], v[4], v[5], v[6], v[7], v[8], v[9], v[10], v[11], v[12])
end
local PText = "Mob Aura Position"
if Settings.MAPosition
and Settings.MAPosition[tostring(game.PlaceId)] then
    getgenv().MobAuraPos = StringToCFrame(Settings.MAPosition[tostring(game.PlaceId)])
    local pPos = Settings.MAPosition[tostring(game.PlaceId)]:split(", ")
    local pX, pY, pZ = math.floor(pPos[1]), math.floor(pPos[2]), math.floor(pPos[3])
    PText = pX .. ", " .. pY .. ", " .. pZ .. " (" .. GetNearestLocation(Vector3.new(pX, pY, pZ)) .. ")"
else
    Settings.MAPosition = {}
end
Section22.CreateButton({Title = 'Set Mob Aura Postion'}, function()
    local plrPos = plr.Character.HumanoidRootPart.Position
    local pX, pY, pZ = math.floor(plrPos.X), math.floor(plrPos.Y), math.floor(plrPos.Z)
    Settings.MAPosition[tostring(game.PlaceId)] = pX .. ", " .. pY .. ", " .. pZ
	getgenv().MobAuraPos = plr.Character.HumanoidRootPart.CFrame
	MobAuraLocationLabel.SetText(pX .. ", " .. pY .. ", " .. pZ .. " (" .. GetNearestLocation(plrPos) .. ")")
end)
MobAuraLocationLabel = Section22.CreateLabel({Title = PText})
Section23 = Page2.CreateSection('Mastery Farm')
SelectMasteryWPDropdown = Section23.CreateDropdown({Title = 'Select Mastery Weapon', List = GetWeaponList(true), Default = Settings.SelectMasteryWP}, function(v)
    Settings.SelectMasteryWP = v
end)
Section23.CreateButton({Title = 'Refresh Mastery Weapon List'}, function()
    if SelectMasteryWPDropdown then
        SelectMasteryWPDropdown:GetNewList(GetWeaponList(true))
    end
end)
Section23.CreateSlider({Title = "Select % Health", Min = 5, Max = 100, Default = Settings.HealthPercent or 10, Percise = true}, function(v)
    Settings.HealthPercent = v
end)
MasteryFarmToggle = Section23.CreateToggle({Title = 'Mastery Farm', Desc = 'Will last hit with Selected Mastery Weapon when the attacking Mob below Selected % Health\nConfig Auto Skill in Setting Tab\n(work with all / enable with Auto Farm features)', Default = Settings.MasteryFarm}, function(v)
    if v and not Settings.SelectMasteryWP then
        if MasteryFarmToggle then MasteryFarmToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "Please select Mastery Weapon", ShowTime = 5})
    end
    Settings.MasteryFarm = v
end)
Section24 = Page2.CreateSection('Boss Farm')
getgenv().SelectedBFBoss = {}
local FirstBoss = {
    "Gorilla King",
    "Diamond",
    "Stone"
}
if game.PlaceId == 2753915549 then
    table.remove(FirstBoss, 1)
elseif game.PlaceId == 4442272183 then
    table.remove(FirstBoss, 2)
elseif game.PlaceId == 7449423635 then
    table.remove(FirstBoss, 3)
end
if not Settings.MFBoss
or typeof(Settings.MFBoss) ~= "table"
or IsMobInTable(FirstBoss, Settings.MFBoss) then
    Settings.MFBoss = {}
    for i, v in pairs(BossesName) do
        Settings.MFBoss[v] = false
    end
else
    local BossLCheck = {}
    for i, v in pairs(Settings.MFBoss) do
        if v then
            table.insert(getgenv().SelectedBFBoss, i)
        end
        table.insert(BossLCheck, i)
    end
    for i, v in pairs(BossesName) do
        if not table.find(BossLCheck, v) then
            Settings.MFBoss[v] = false
        end
    end
end
Section24.CreateDropdown({Title = "Select Boss", List = Settings.MFBoss, Selected = true, Search = true}, function(i, v)
    if i then
        Settings.MFBoss[i] = v
        if v then
            table.insert(getgenv().SelectedBFBoss, i)
        elseif table.find(SelectedBFBoss, i) then
            table.remove(getgenv().SelectedBFBoss, table.find(SelectedBFBoss, i))
        end
    end
end)
BossFarmToggle = Section24.CreateToggle({Title = 'Boss Farm', Desc = 'Will kill the selected Boss when it spawned\n(work with Mob Farm / Mastery Farm)', Default = Settings.BossFarm}, function(v)
    if v and #SelectedBFBoss == 0 and not Settings.AutoDL and not Settings.Cuttay then
        if BossFarmToggle then BossFarmToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "Please select an Boss", ShowTime = 5})
    end
    if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
        if BossFarmToggle then BossFarmToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
    end
    if Settings.BossFarm and not v then
        spawn(function()
            wait(.5)
            ForceStopTween(true)
        end)
    end
    Settings.BossFarm = v
end)
BFHopServerToggle = Section24.CreateToggle({Title = 'Hop Server if no Boss', Desc = 'Will Hop Server if no Boss spawned', Default = Settings.BFHopServer}, function(v)
    Settings.BFHopServer = v
end)
if game.PlaceId == 4442272183 then
    Section24.CreateToggle({Title = 'Disable if got Hellfire Torch', Desc = "Will not Hop Server / Stop farming Boss and tween to Cafe if got Hellfire Torch from Cursed Captain", Default = Settings.BFDIGHT}, function(v)
        Settings.BFDIGHT = v
    end)
end
if game.PlaceId == 7449423635 then
    Section25 = Page2.CreateSection('Elite Pirate Farm')
    ElitePirateFarmToggle = Section25.CreateToggle({Title = 'Elite Pirate Farm', Desc = 'Will take quest and kill the elite boss whenever the boss is spawned', Default = Settings.ElitePirateFarm}, function(v)
        if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
            if ElitePirateFarmToggle then ElitePirateFarmToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
        end
        if Settings.ElitePirateFarm and not v then
            spawn(function()
                wait(.5)
                ForceStopTween(true)
            end)
        end
        Settings.ElitePirateFarm = v
    end)
    EPFHopServerToggle = Section25.CreateToggle({Title = 'Hop Server if no Boss', Desc = 'Will Hop Server if no Elite Boss spawned', Default = Settings.EPFHopServer}, function(v)
        Settings.EPFHopServer = v
    end)
    Section25.CreateToggle({Title = "Disable if got " .. WorldReward, Desc = "Will not Hop Server / Stop hunting Elite Pirate and tween to Mansion if got " .. WorldReward .. " after killed the boss", Default = Settings.EPFDisable}, function(v)
        Settings.EPFDisable = v
    end)
    AutoYamaToggle = Section25.CreateToggle({Title = 'Auto Yama', Desc = 'Will get Yama after completed 30 Elite Pirate quest\n(enble with Elite Pirate Farm)', Default = Settings.AutoYama}, function(v)
        if v and IsHaveItem("Yama") then
            if AutoYamaToggle then AutoYamaToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Already got Yama", ShowTime = 5})
        end
        Settings.AutoYama = v
    end)
    Section25 = Page2.CreateSection('Raid Boss Farm')
    CakePrinceFarmToggle = Section25.CreateToggle({Title = 'Cake Prince Farm', Desc = 'Aka Auto Spikey Trident / Fragment Farm', Default = Settings.CakePrinceFarm}, function(v)
        if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
            if CakePrinceFarmToggle then CakePrinceFarmToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
        end
        if Settings.CakePrinceFarm and not v then
            spawn(function()
                wait(.5)
                ForceStopTween(true)
            end)
        end
        Settings.CakePrinceFarm = v
    end)
    spawn(function()
        while wait() do
            if Settings.CakePrinceFarm and Settings.SpawnDoughKing
            and CheckPlrBackpack("Sweet Chalice")
            and string.find(CommF:InvokeServer("CakePrinceSpawner", true), "open the portal now")
            and #game.Players:GetChildren() > 1 then
                CommF:InvokeServer("CakePrinceSpawner")
            end
        end
    end)
    SpawnDoughKingToggle = Section25.CreateToggle({Title = 'Spawn Dough King', Desc = 'Will spawn Dough King instead of Cake Prince / for unlock Dough Raid\nIf it spawned Cake Prince instead of Dough King, means your server got other exploiter that spawned Cake Prince before you spawning Dough King\n(enable with Cake Prince Farm, can enable with Elite Pirate Farm / Hop Server)', Default = Settings.SpawnDoughKing}, function(v)
        Settings.SpawnDoughKing = v
    end)
    rip_indraFarmToggle = Section25.CreateToggle({Title = 'rip_indra Farm', Desc = 'Aka Auto Dark Dagger\n(can enable with Elite Pirate Farm / Hop Server)', Default = Settings.rip_indraFarm}, function(v)
        if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
            if rip_indraFarmToggle then rip_indraFarmToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
        end
        if v and CheckUnlockLegHaki() then
            Library.CreateNoti({Desc = "Missing Aura Color: " .. CheckUnlockLegHaki() .. "\nMean the script will not automatic spawn rip_indra if you got God's Chalice", ShowTime = 5})
        end
        if Settings.rip_indraFarm and not v then
            spawn(function()
                wait(.5)
                ForceStopTween(true)
            end)
        end
        Settings.rip_indraFarm = v
    end)
    AutoTushitaToggle = Section25.CreateToggle({Title = 'Auto Tushita', Desc = 'Will get Tushita when rip_indra spawned\n(enble with rip_indra farm)', Default = Settings.AutoTushita}, function(v)
        if v and IsHaveItem("Tushita") then
            if AutoTushitaToggle then AutoTushitaToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Already got Tushita", ShowTime = 5})
        end
        Settings.AutoTushita = v
    end)
    SoulReaperFarmToggle = Section25.CreateToggle({Title = 'Soul Reaper Farm', Desc = 'Aka Auto Hallow Scythe', Default = Settings.SoulReaperFarm}, function(v)
        if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
            if SoulReaperFarmToggle then SoulReaperFarmToggle.SetStage(false) end
            return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
        end
        if Settings.SoulReaperFarm and not v then
            spawn(function()
                wait(.5)
                ForceStopTween(true)
            end)
        end
        Settings.SoulReaperFarm = v
    end)
end
if game.PlaceId ~= 2753915549 then
    Section25 = Page2.CreateSection('Sea Beast Farm')
    spawn(function()
        while wait() do
            pcall(function()
                if Settings.SeaBeastFarm then
                    local plrPos = plr.Character.HumanoidRootPart.Position
                    if plrPos.Y < -4 then
                        getgenv().noclip = true
                        plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 10, plrPos.Z)
                    end
                else
                    wait(1)
                end 
            end)
        end
    end)
    Section25.CreateToggle({Title = 'Sea Beast Farm', Default = Settings.SeaBeastFarm}, function(v)
        spawn(function()
            if v then
                for i, v in ipairs(plr.Backpack:GetChildren()) do
                    if v:IsA("Tool")
                    and v.ToolTip ~= "" then
                        plr.Character.Humanoid:EquipTool(v)
                    end
                    wait(.25)
                end
                plr.Character.Humanoid:UnequipTools()
            end
        end)
        Settings.SeaBeastFarm = v
    end)
    Section25.CreateToggle({Title = 'Attack Pirate Ship', Desc = "Will attack Pirate Ship when they spawned", Default = Settings.AttackPirateShip}, function(v)
        Settings.AttackPirateShip = v
    end)
    Section25.CreateToggle({Title = 'Hop Server after killed Sea Beast', Desc = "Will hop server after killed Sea Beast (for feaster Sea Beast farming result)\nFor Private Server will join Sea 3 and go back to Sea 2", Default = Settings.SFHopServer}, function(v)
        Settings.SFHopServer = v
    end)
    Section25.CreateToggle({Title = 'Disable if got Fist of Darkness', Desc = "Will not Hop Server / Stop farming Sea Beast and tween to Cafe if got Fist of Darkness", Default = Settings.SFDIGFOD}, function(v)
        Settings.SFDIGFOD = v
    end)
    if game.PlaceId == 4442272183 then
        Section25 = Page2.CreateSection('Raid Boss Farm')
        OrderFarmToggle = Section25.CreateToggle({Title = 'Order Farm', Desc = 'Aka Auto Koko', Default = Settings.OrderFarm}, function(v)
            if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
                if OrderFarmToggle then OrderFarmToggle.SetStage(false) end
                return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
            end
            if Settings.OrderFarm and not v then
                spawn(function()
                    wait(.5)
                    ForceStopTween(true)
                end)
            end
            Settings.OrderFarm = v
        end)
        DarkbeardFarmToggle = Section25.CreateToggle({Title = 'Darkbeard Farm', Desc = 'Aka Auto Dark Coat / Dark Fragment Farm\n(can enable with Sea Beast Farm / Hop Server)', Default = Settings.DarkbeardFarm}, function(v)
            if v and not Settings.SelectM1Weapon and not AFSWeapon and not Settings.Cuttay then
                if DarkbeardFarmToggle then DarkbeardFarmToggle.SetStage(false) end
                return Library.CreateNoti({Desc = "Please select M1 Weapon", ShowTime = 5})
            end
            if Settings.DarkbeardFarm and not v then
                spawn(function()
                    wait(.5)
                    ForceStopTween(true)
                end)
            end
            Settings.DarkbeardFarm = v
        end)
    else
        Section25.CreateToggle({Title = 'Stop if Mirage Island spawned', Desc = "Will Stop and tween to Advanced Fruit Dealer when Mirage Island Spawned\nThis will ignore Sea Beast, only go for Mirage Island", Default = Settings.SFSIMIS}, function(v)
            Settings.SFSIMIS = v
        end)
    end
end
Section26 = Page2.CreateSection('Auto Fighting Style')
AutoSuperhumanToggle = Section26.CreateToggle({Title = 'Auto Superhuman', Default = Settings.AutoSuperhuman}, function(v)
    if not v then getgenv().AFSWeapon = nil end
    if v and CommF:InvokeServer("BuySuperhuman", true) == 1 and not Settings.OSIFS then
        if AutoSuperhumanToggle then AutoSuperhumanToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Superhuman", ShowTime = 5})
    end
    if v and not Settings.AutoSuperhuman and not Settings.Cuttay then
        BuyFightingStyle("BuyBlackLeg")
    end
    Settings.AutoSuperhuman = v
end)
AutoDeathStepToggle = Section26.CreateToggle({Title = 'Auto Death Step', Default = Settings.AutoDeathStep}, function(v)
    if not v then getgenv().AFSWeapon = nil end
    if v and CommF:InvokeServer("BuyDeathStep", true) == 1 and not Settings.OSIFS then
        if AutoDeathStepToggle then AutoDeathStepToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Death Step", ShowTime = 5})
    end
    if v and not Settings.AutoDeathStep and not Settings.Cuttay then
        BuyFightingStyle("BuyBlackLeg")
    end
    Settings.AutoDeathStep = v
end)
AutoSharkmanKarateToggle = Section26.CreateToggle({Title = 'Auto Sharkman Karate', Default = Settings.AutoSharkmanKarate}, function(v)
    if not v then getgenv().AFSWeapon = nil end
    if v and CommF:InvokeServer("BuySharkmanKarate", true) == 1 and not Settings.OSIFS then
        if AutoSharkmanKarateToggle then AutoSharkmanKarateToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Sharkman Karate", ShowTime = 5})
    end
    if v and not Settings.AutoSharkmanKarate and not Settings.Cuttay then
        BuyFightingStyle("BuyFishmanKarate")
    end
    Settings.AutoSharkmanKarate = v
end)
AutoElectricClawToggle = Section26.CreateToggle({Title = 'Auto Electric Claw', Default = Settings.AutoElectricClaw}, function(v)
    if not v then getgenv().AFSWeapon = nil end
    if v and CommF:InvokeServer("BuyElectricClaw", true) == 1 and not Settings.OSIFS then
        if AutoElectricClawToggle then AutoElectricClawToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Electric Claw", ShowTime = 5})
    end
    if v and not Settings.AutoElectricClaw and not Settings.Cuttay then
        BuyFightingStyle("BuyElectro")
    end
    Settings.AutoElectricClaw = v
end)
AutoDragonTalonToggle = Section26.CreateToggle({Title = 'Auto Dragon Talon', Default = Settings.AutoDragonTalon}, function(v)
    if not v then getgenv().AFSWeapon = nil end
    if v and CommF:InvokeServer("BuyDragonTalon", true) == 1 and not Settings.OSIFS then
        if AutoDragonTalonToggle then AutoDragonTalonToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Dragon Talon", ShowTime = 5})
    end
    if v and not Settings.AutoDragonTalon and not Settings.Cuttay then
        BuyFightingStyle("DragonClaw")
    end
    Settings.AutoDragonTalon = v
end)
AutoGodhumanToggle = Section26.CreateToggle({Title = 'Auto Godhuman', Desc = "Require unlocked all above melee", Default = Settings.AutoGodhuman}, function(v)
    if not v then getgenv().AFSWeapon = nil end
    if v and CommF:InvokeServer("BuyGodhuman", true) == 1 and not Settings.OSIFS then
        if AutoGodhumanToggle then AutoGodhumanToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Godhuman", ShowTime = 5})
    end
    if v and not Settings.AutoGodhuman and not Settings.Cuttay then
        BuyFightingStyle("BuySuperhuman")
    end
    Settings.AutoGodhuman = v
end)
AFSHopServerToggle = Section26.CreateToggle({Title = 'Hop Server if no Boss', Desc = "Auto Death Step, Sharkman Karate need to defeat boss, also work with Auto Tushita, Rengoku, Cursed Dual Katana, Soul Guitar", Default = Settings.AFSHopServer}, function(v)
    Settings.AFSHopServer = v
end)
AFSTPSea3Toggle = Section26.CreateToggle({Title = 'Teleport to Sea 3 after finished', Desc = "After got Auto Death Step / Sharkman Karate will Teleport to Sea 3", Default = Settings.AFSTPSea3}, function(v)
    Settings.AFSTPSea3 = v
end)
OSIFSToggle = Section26.CreateToggle({Title = 'Only switch if full skill', Desc = "Only switch to next Auto Fighting Style if current Auto Fighting Style unlocked all Skill (350 Mastery)", Default = Settings.OSIFS}, function(v)
    Settings.OSIFS = v
end)
Section27 = Page2.CreateSection('Auto Sword')
if game.PlaceId == 7449423635 then
    Section27.CreateLabel({Title = "Auto Yama in Elite Pirate Farm\nAuto Dark Dagger / Auto Tushita in rip_indra Farm\nAuto Spikey Trident in Cake Prince Farm"})
else
    Section27.CreateLabel({Title = "Auto Koko in Order Farm"})
end
AutoSaberToggle = Section27.CreateToggle({Title = 'Auto Saber', Desc = "Aka Auto Observation Haki Quest", Default = Settings.AutoSaber}, function(v)
    if not v then getgenv().ASWeapon = nil end
    if v and IsHaveItem("Saber") and not Settings.OSIFS then
        if AutoSaberToggle then AutoSaberToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Saber", ShowTime = 5})
    end
    Settings.AutoSaber = v
end)
AutoRengokuToggle = Section27.CreateToggle({Title = 'Auto Rengoku', Default = Settings.AutoRengoku}, function(v)
    if not v then getgenv().ASWeapon = nil end
    if v and IsHaveItem("Rengoku") and not Settings.OSIFS then
        if AutoRengokuToggle then AutoRengokuToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Rengoku", ShowTime = 5})
    end
    Settings.AutoRengoku = v
end)
AutoTripleKatanaToggle = Section27.CreateToggle({Title = 'Auto True Triple Katana', Desc = "Require Saddi / Shisui / Wando", Default = Settings.AutoTripleKatana}, function(v)
    if not v then getgenv().ASWeapon = nil end
    if v and IsHaveItem("True Triple Katana") and not Settings.OSIFS then
        if AutoTripleKatanaToggle then AutoTripleKatanaToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got True Triple Katana", ShowTime = 5})
    end
    Settings.AutoTripleKatana = v
end)
AutoDualKatanaToggle = Section27.CreateToggle({Title = 'Auto Cursed Dual Katana', Desc = "Require Tushita / Yama and a brain\n(put stats in Sword)", Default = Settings.AutoDualKatana}, function(v)
    if not v then getgenv().ASWeapon = nil end
    if v and IsHaveItem("Cursed Dual Katana") and not Settings.OSIFS then
        if AutoDualKatanaToggle then AutoDualKatanaToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Cursed Dual Katana", ShowTime = 5})
    end
    if v then
        CommF:InvokeServer("CDKQuest", "StartTrial", "Good")
    end
    Settings.AutoDualKatana = v
end)
AutoSoulGuitarToggle = Section27.CreateToggle({Title = 'Auto Soul Guitar', Desc = "This only do the puzzle for you, you need to farm the materials to buy Soul Guitar by your self", Default = Settings.AutoSoulGuitar}, function(v)
    if not v then ForceStopTween() end
    if v and IsHaveItem("Soul Guitar") then
        if AutoSoulGuitarToggle then AutoSoulGuitarToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You already got Soul Guitar", ShowTime = 5})
    end
    Settings.AutoSoulGuitar = v
end)
Section27 = Page2.CreateSection('Observation Haki Farm')
Section27.CreateToggle({Title = 'Observation Haki Farm', Desc = "Will TP to nearest Mob and enable Ken to farming Observation Haki\nWill Hop Server when out of Ken dodge\n(note: make sure your Blox Fruit isn't logia)", Default = Settings.ObservationHakiFarm}, function(v)
    Settings.ObservationHakiFarm = v
end)
Section27.CreateButton({Title = 'Check Observation Haki Progress'}, function()
    Library.CreateNoti({Desc = "Total Dodge times with Observation Haki: " .. CommF:InvokeServer("KenTalk", "Status"):split(".")[1], ShowTime = 10})
end)
Section27 = Page2.CreateSection('Auto Switch')
AutoSwitchSwordToggle = Section27.CreateToggle({Title = '[Select Weapon] Auto Switch Sword', Desc = "Will switch to other swords if current sword above Require Mastery", Default = Settings.AutoSwitchSword}, function(v)
    if not v then getgenv().ASWeapon = nil end
    Settings.AutoSwitchSword = v
end)
Section27.CreateToggle({Title = '[Select Mastery Weapon] Auto Switch Gun', Desc = "Will switch to other gun if current gun above Require Mastery\n(for mastery farm)", Default = Settings.AutoSwitchGun}, function(v)
    if not v then getgenv().GWeapon = nil end
    Settings.AutoSwitchGun = v
end)
function CheckPermBFCount()
    local Count = 0
    for _, v in pairs(CommF:InvokeServer("GetFruits")) do
        if v.HasPermanent then
            Count = Count + 1
        end
    end
    return Count
end
AutoSwitchBloxFruitToggle = Section27.CreateToggle({Title = '[Select Mastery Weapon] Auto Switch Blox Fruit', Desc = "Will switch to other permanent owned Blox Fruit if current Blox Fruit above Require Mastery\n(for mastery farm)", Default = Settings.AutoSwitchBloxFruit}, function(v)
    if not v then getgenv().BFWeapon = nil end
    if v and CheckPermBFCount() < 2 then
        if AutoSwitchBloxFruitToggle then AutoSwitchBloxFruitToggle.SetStage(false) end
        return Library.CreateNoti({Desc = "You must have atleast 2 permanent Blox Fruit", ShowTime = 5})
    end
    Settings.AutoSwitchBloxFruit = v
end)
Section27.CreateSlider({Title = 'Require Mastery', Min = 2, Max = 600, Default = Settings.RequireMastery or 600}, function(v)
    Settings.RequireMastery = v
end)
local RarityList = {
    ["Mythical"] = 4,
    ["Legendary"] = 3,
    ["Rare"] = 2,
    ["Uncommon"] = 1,
    ["Common"] = 0
}
getgenv().SelectedIgnoreRarity = {}
getgenv().SelectedIgnoreRarity2 = {}
if not Settings.IgnoreRarity then
    Settings.IgnoreRarity = {}
    for i, v in pairs(RarityList) do
        Settings.IgnoreRarity[i] = false
    end
else
    local RarityLCheck = {}
    for i, v in pairs(Settings.IgnoreRarity) do
        if v then
            table.insert(getgenv().SelectedIgnoreRarity, i)
        end
        table.insert(RarityLCheck, i)
    end
    for i, v in pairs(RarityList) do
        if not table.find(RarityLCheck, i) then
            Settings.IgnoreRarity[i] = false
        end
    end
end
Section27.CreateDropdown({Title = 'Ignore Rarity', List = Settings.IgnoreRarity, Selected = true}, function(i, v)
    if i then
        Settings.IgnoreRarity[i] = v
        if v then
            table.insert(getgenv().SelectedIgnoreRarity, i)
            table.insert(getgenv().SelectedIgnoreRarity2, RarityList[i])
        elseif table.find(SelectedIgnoreRarity, i) then
            table.remove(getgenv().SelectedIgnoreRarity, table.find(SelectedIgnoreRarity, i))
            table.remove(getgenv().SelectedIgnoreRarity2, table.find(SelectedIgnoreRarity2, RarityList[i]))
        end
    end
end)

if game.PlaceId == 4442272183 or game.PlaceId == 7449423635 then
    Page3 = Title.CreatePage({Page_Name = 'Raid', Page_Title = 'Raid Tab'})
    Section31 = Page3.CreateSection('Auto Raid')
    Section31.CreateDropdown({Title = 'Select Raid Map', List = RaidList, Search = true, Default = Settings.RaidMap}, function(v) 
        Settings.RaidMap = v
    end)
    AutoAwakeToggle = Section31.CreateToggle({Title = "Auto Awake", Desc = "Auto awake your Blox Fruit Skill after finished the Raid", Default = Settings.AutoRaidAFR}, function(v)
        Settings.AutoRaidAFR = v
    end)
    AutoRaidAUToggle = Section31.CreateToggle({Title = "Auto Unstore Blox Fruit", Desc = "Auto unstore Blox Fruit in your Treasure Inventory below 1m todo Raid", Default = Settings.AutoRaidAU}, function(v)
        Settings.AutoRaidAU = v
    end)
    AutoRaidToggle = Section31.CreateToggle({Title = "Auto Raid", Desc = "Will not buy Microchip if in Inventory have 1m+ Blox Fruit\nAlso work with Tween Blox Fruit / Hop Server if no Fruit", Default = Settings.AutoRaid}, function(v)
        if Settings.AutoRaid and not v then
            spawn(function()
                wait(.5)
                ForceStopTween(true)
            end)
        end
        Settings.AutoRaid = v
    end)
    Section32 = Page3.CreateSection('Manual Raid')
    Section32.CreateButton({Title = 'TP Next Raid Island'}, function()
        local RaidIsland = GetLastRaidIsland()
        if RaidIsland then
            Tween(RaidIsland.Position + Vector3.new(0, 100, 0), true)
        end
    end)
    spawn(function()
        while wait(1) do
            pcall(function()
                if Settings.MobInstantKillAura then
                    getgenv().SetSimulationRadius = true
                    KillRaidEnemy()
                end
            end)
        end
    end)
    Section32.CreateToggle({Title = "Mob Instant Kill Aura", Default = Settings.MobInstantKillAura, Desc = 'You will not get the reward from killed the mob, only use for raid (manual)'}, function(v)
        if Settings.MobInstantKillAura and not v then
            spawn(function()
                wait(2)
                getgenv().SetSimulationRadius = false
            end)
        end
        Settings.MobInstantKillAura = v
    end)
end
Page4 = Title.CreatePage({Page_Name = 'Local Player', Page_Title = 'Local Player Tab'})
Section31 = Page4.CreateSection('Teleport')
local LocationList = {}
for i, v in ipairs(Locations) do
    table.insert(LocationList, v.Name)	
end
getgenv().TPLocation = function(v)
    for i, x in ipairs(Locations) do
        if x.Name == v then
            if x.InstantTP then
                repeat wait()
                    plr.Character.HumanoidRootPart.CFrame = x.Pos
                    wait(1)
                until plr:DistanceFromCharacter(x.Pos.Position) < 1000
                or ForcedStopTween
                or IsPlayerDead()
            else
                Tween(x.Pos, true)
            end
        end
    end
end
Section31.CreateDropdown({Title = "TP Locations", List = LocationList, Search = true}, function(v)
    if v then 
        TPLocation(v)
    end
end)
local NPCs = {}
for i, v in ipairs(getnilinstances()) do 
    if IsValidNPC(v) then 
        NPCs[v.Name] = v.Head.CFrame * CFrame.new(0, -1, -2)
    end
end
for i, v in ipairs(game.workspace.NPCs:GetChildren()) do 
    if IsValidNPC(v) then 
        NPCs[v.Name] = v.Head.CFrame * CFrame.new(0, -1, -2)
    end
end
local NPCsName = {}
for i, v in pairs(NPCs) do
    table.insert(NPCsName, i)
end
local SpawnNPCs = {}
if game.PlaceId ~= 2753915549 then
    SpawnNPCs = {
        "Master of Auras",
        "Advanced Fruit Dealer"
    }
end
if game.PlaceId == 4442272183 then
    table.insert(SpawnNPCs, "Legendary Sword Dealer ")
end
Section31.CreateDropdown({Title = "TP NPCs", List = NPCsName, Search = true}, function(v)
    if v then
        if table.find(SpawnNPCs, v) then
            local x = game.workspace.NPCs:FindFirstChild(v)
            if x
            and x.HumanoidRootPart.Position.Y > -100 then
                Tween(x.Head.CFrame, true)
            else
                Library.CreateNoti({Desc = v .. " haven't spawned yet", ShowTime = 10})
            end
        else
            Tween(NPCs[v], true)
        end
    end
end)
Section31.CreateButton({Title = 'Stop Tween'}, function()
    ForceStopTween(true)
end)
local Worlds = {"Sea 1", "Sea 2", "Sea 3"}
if game.PlaceId == 2753915549 then
    table.remove(Worlds, 1)
elseif game.PlaceId == 4442272183 then
    table.remove(Worlds, 2)
elseif game.PlaceId == 7449423635 then
    table.remove(Worlds, 3)
end
Section31.CreateDropdown({Title = "TP World", List = Worlds}, function(v)
    if v then
        if #game.CoreGui["Sea Hub Notification"].NotiContainer:GetChildren() > 1 then
            if v == "Sea 1" then
                CommF:InvokeServer("TravelMain")
            elseif v == "Sea 2" then
                CommF:InvokeServer("TravelDressrosa")
            elseif v == "Sea 3" then
                CommF:InvokeServer("TravelZou")
            end
            Library.CreateNoti({Desc = "Teleporting to " .. v, ShowTime = 10})
            return
        end
        Library.CreateNoti({Desc = "Press the Teleport button again\nto Teleport to " .. v, ShowTime = 10})
    end
end)
Section32 = Page4.CreateSection('Haki')
spawn(function()
    while wait(.5) do
        pcall(function()
            if Settings.AutoEnhancement then
                if not plr.Character:FindFirstChild("HasBuso") then
                    CommF:InvokeServer("Buso")
                end
            end
            if Settings.AutoObservation then
                if game.Lighting.ExposureCompensation == 0 and not DisableKen then
                    game:GetService("VirtualInputManager"):SendKeyEvent(true, "K", false, game)
                    game:GetService("VirtualInputManager"):SendKeyEvent(false, "K", false, game)
                end
            end
            if Settings.AutoAwakening then
                if game.Players.LocalPlayer.Character:FindFirstChild("RaceEnergy")
                and game.Players.LocalPlayer.Character.RaceEnergy.Value >= 1
                and not game.Players.LocalPlayer.Character.RaceTransformed.Value then
                    game:GetService("VirtualInputManager"):SendKeyEvent(true, "Y", false, game)
                    game:GetService("VirtualInputManager"):SendKeyEvent(false, "Y", false, game)
                end
            end
            wait(1)
        end)
    end
end)
AutoEnhancementToggle = Section32.CreateToggle({Title = 'Auto enable Enhancement', Default = Settings.AutoEnhancement or true}, function(v)
    Settings.AutoEnhancement = v
end)
AutoObservationToggle = Section32.CreateToggle({Title = 'Auto enable Observation', Default = Settings.AutoObservation}, function(v)
    Settings.AutoObservation = v
end)
AutoObservationToggle = Section32.CreateToggle({Title = 'Auto enable Awakening', Desc = "Aka Auto Enable Race v4", Default = Settings.AutoAwakening}, function(v)
    Settings.AutoAwakening = v
end)
spawn(function()
    repeat wait(2)
        getgenv().CurrentObservation = plr.VisionRadius.Value
    until CurrentObservation ~= 0
end)
plr.VisionRadius:GetPropertyChangedSignal("Value"):Connect(function(v)
    if v == math.huge
    or CurrentObservation == 0 then
        return
    end
    wait(1)
    if Settings.ObservationIR then
        plr.VisionRadius.Value = math.huge
    end
end)
Section32.CreateToggle({Title = 'Observation Infinite Range', Desc = "Basicly like Player ESP but use game's and require Observation unlocked", Default = Settings.ObservationIR}, function(v) 
    if v then
        spawn(function()
            repeat wait()
            until CurrentObservation ~= 0 or not Settings.ObservationIR
            if Settings.ObservationIR then
                plr.VisionRadius.Value = math.huge
            end
        end)
    elseif Settings.ObservationIR then
        plr.VisionRadius.Value = CurrentObservation
    end
    Settings.ObservationIR = v
end)
Section32.CreateButton({Title = 'Unlock all Haki'}, function()
    if not UnlockedAllHaki then
        getgenv().UnlockedAllHaki = true
        loadstring([[
            local ReplicatedStorage = game:GetService("ReplicatedStorage")
            local mt = getrawmetatable(game)
            setreadonly(mt, false)
            local old = mt.__namecall
            mt.__namecall = function(...)
                local Args = {...}
                local Self = Args[1]
                local NamecallMethod = getnamecallmethod()
                if not checkcaller() and NamecallMethod == "HasTag" and Args[3] == "Geppo" then
                    return true
                end
                if not checkcaller() and NamecallMethod == "HasTag" and Args[3] == "Soru" then
                    return true
                end
                if not checkcaller() and NamecallMethod == "HasTag" and Args[3] == "Ken" then
                    return true
                end
                if not checkcaller() and NamecallMethod == "HasTag" and Args[3] == "KenUpgrade" then
                    return true
                end
                if not checkcaller() and NamecallMethod == "HasTag" and Args[3] == "Buso" then
                    return true
                end
                return old(...)
            end
        ]])()
    end
end)
Section33 = Page4.CreateSection('Character')
spawn(function()
    while wait(.5) do
        pcall(function()
            if Settings.WaterWalker then
                local StandPlatform = game.workspace.Map:FindFirstChild("_SH_WW")
                if not StandPlatform then
                    local plrPos = plr.Character.HumanoidRootPart.Position
                    local StandPlatform = Instance.new("Part", game.workspace.Map)
                    StandPlatform.Name = "_SH_WW"
                    StandPlatform.Size = Vector3.new(2048, 1, 2048) 
                    StandPlatform.Anchored = true
                    StandPlatform.Transparency = 1
                    StandPlatform.Position = Vector3.new(plrPos.X, -4.25, plrPos.Z)
                else
                    if plr:DistanceFromCharacter(StandPlatform.Position) > 512 then
                        local plrPos = plr.Character.HumanoidRootPart.Position
                        StandPlatform.Position = Vector3.new(plrPos.X, -4.25, plrPos.Z)
                    end
                    wait(3)
                end
            end
        end)
    end
end)
WaterWalkerToggle = Section33.CreateToggle({Title = 'Water Walker', Default = Settings.WaterWalker}, function(v)
    if Settings.WaterWalker and not v then
        spawn(function()
            wait(.5)
            for i, x in ipairs(game.workspace.Map:GetChildren()) do
                if x.Name == "_SH_WW" then
                    x:Destroy()
                end
            end
        end)
    end
    Settings.WaterWalker = v
end)
Section33.CreateToggle({Title = 'Remove Lava Damage', Default = Settings.RemoveLavaDamage or true}, function(v)
    if v then
        spawn(function()
            for i, v in ipairs(game.workspace.Map:GetDescendants()) do
                if v.Name == "Lava" and v:FindFirstChild("TouchInterest") then
                    v.TouchInterest:Destroy()
                end
            end
        end)
    end
    Settings.RemoveLavaDamage = v
end)
Section33.CreateToggle({Title = 'Noclip', Default = Settings.NoClip}, function(v)
    Settings.NoClip = v
    if v then
        getgenv().noclip = true
    elseif not v then
        getgenv().noclip = false
    end
end)
local Input = game:GetService'UserInputService'
Input.InputBegan:Connect(function(v)
    if Settings.AutoBHop and v.KeyCode == Enum.KeyCode["Q"]
    and plr.Character.Humanoid.FloorMaterial ~= Enum.Material.Air then
        wait(.05)
        Jump()
    end
end)
Section33.CreateToggle({Title = 'Auto Bunny Hop', Desc = "Auto Jump when u Dodge (press Q) underground\n(faster legit traveling)", Default = Settings.AutoBHop}, function(v)
    Settings.AutoBHop = v
end)
Section33 = Page4.CreateSection('Character 2')
loadstring([[
    function RunInfSkyjump()
        for i, v in ipairs(getgc()) do 
            if getfenv(v).script == plr.Character.Geppo then 
                for k, x in ipairs(debug.getconstants(v)) do 
                    if x == 5 then 
                        spawn(function()
                            while wait() do
                                if IsPlayerDead() then
                                    repeat wait()
                                    until not IsPlayerDead()
                                    wait(3)
                                    return RunInfSkyjump()
                                end
                                if Settings.InfSkyjump then
                                    debug.setconstant(v, k, 0) 
                                else
                                    debug.setconstant(v, k, 5) 
                                end
                            end
                        end)
                    end   
                end
            end    
        end
    end
    RunInfSkyjump()
]])
--[[
Section33.CreateToggle({Title = 'Infinite Skyjump', Desc = "You can Skyjump more than 10 times", Default = Settings.InfSkyjump}, function(v)
    Settings.InfSkyjump = v
end)
]]
loadstring([[
    function RunFlashStepNoCD()
        for i, v in pairs(getgc()) do 
            if tostring(getfenv(v).script) == "Soru" then 
                for k, x in pairs(debug.getconstants(v)) do
                    if type(x) == "number" and x > 0.03 and x < 0.04 then 
                        debug.setconstant(v, k, 0)
                    end
                end
                if #debug.getconstants(v) > 50
                and debug.getconstant(v, 1) == "Data"
                and debug.getconstant(v, 2) == "Race" then 
                    local c = 0
                    debug.setupvalue(v, 9, setmetatable({}, {
                        __index = function()
                            if Settings.FlashStepNoCD then
                                return 0
                            else
                                return c
                            end
                        end,
                        __newindex = function(self, index, value)
                            c = value
                        end
                    }))
                end
            end    
        end
    end
    function RunInfiniteEnergy()
        plr.Character.Energy:GetPropertyChangedSignal("Value"):Connect(function(v)
            if Settings.InfiniteEnergy and v ~= plr.Character.Energy.MaxValue then
                plr.Character.Energy.Value = plr.Character.Energy.MaxValue
            end
        end)
    end
    RunFlashStepNoCD()
    RunInfiniteEnergy()
    spawn(function()
        while wait(1) do
            if IsPlayerDead() then
                repeat wait()
                until not IsPlayerDead()
                wait(3)
                RunFlashStepNoCD()
                RunInfiniteEnergy()
            end
        end
    end)
]])()
Section33.CreateToggle({Title = 'Flash Step No Cooldown', Default = Settings.FlashStepNoCD}, function(v)
    Settings.FlashStepNoCD = v
end)
Section33.CreateToggle({Title = 'Infinite Energy', Default = Settings.InfiniteEnergy}, function(v)
    Settings.InfiniteEnergy = v
end)
loadstring([[
    local mt = getrawmetatable(game)
    setreadonly(mt, false)
    local old = mt.__index
    mt.__index = newcclosure(function(a, b, c) 
        if b == "Value"
        and tostring(a) == "Stun"
        and Settings.NoStun then 
            return 0
        end
        return old(a, b, c)
    end)
]])()
Section33.CreateToggle({Title = 'No Stun', Default = Settings.NoStun}, function(v)
    Settings.NoStun = v 
end)

Section34 = Page4.CreateSection('Auto Stat')
local StatList = {
    "Melee",
    "Defense",
    "Sword",
    "Gun",
    "Demon Fruit"
}
getgenv().SelectedAutoStat = {}
if not Settings.AutoStat then
    Settings.AutoStat = {}
    for i, v in pairs(StatList) do
        Settings.AutoStat[v] = false
    end
else
    local StatLCheck = {}
    for i, v in pairs(Settings.AutoStat) do
        if v then
            table.insert(getgenv().SelectedAutoStat, i)
        end
        table.insert(StatLCheck, i)
    end
    for i, v in pairs(StatList) do
        if not table.find(StatLCheck, v) then
            Settings.AutoStat[v] = false
        end
    end
end
spawn(function()
    while wait() do
        if not Settings.Cuttay and #SelectedAutoStat ~= 0 and plr.Data.Points.Value ~= 0 then
            for i, v in ipairs(SelectedAutoStat) do
                CommF:InvokeServer("AddPoint", v, 1)
            end
        else
            wait(1)
        end
    end
end)
Section34.CreateDropdown({Title = 'Auto Stat', List = Settings.AutoStat, Selected = true}, function(i, v)
    if i then
        Settings.AutoStat[i] = v
        if v then
            table.insert(getgenv().SelectedAutoStat, i)
        elseif table.find(SelectedAutoStat, i) then
            table.remove(getgenv().SelectedAutoStat, table.find(SelectedAutoStat, i))
        end
    end
end)

Page5 = Title.CreatePage({Page_Name = 'Combat', Page_Title = 'Combat Tab'})
Section41 = Page5.CreateSection('PvP')
spawn(function()
    while wait() do
        pcall(function()
            if AttackNoCDAura and not Settings.BountyFarm then
                ClickM1()
            end
        end)
    end
end)
Section41.CreateToggle({Title = 'Attack No Cooldown Aura', Desc = "Auto hit entities near you 60 distance\n(equip with Melee / Sword)"}, function(v) 
    getgenv().AttackNoCDAura = v
end)
getgenv().Allies = {}
spawn(function()
    while wait(3) do
        getgenv().Allies = {}
        for i, v in ipairs(plr.PlayerGui.Main.Allies.Container.Allies.ScrollingFrame.Frame:GetChildren()) do
            if v.Name ~= "Template"
            and v:IsA("ImageButton") then
                table.insert(getgenv().Allies, v.Name)
            end
        end
    end
end)
function GetTargetPlayer()
    local TargetPlayer
    if Settings.AimTarget == "Selected Player (select below)" then
        TargetPlayer = game.workspace.Characters:FindFirstChild(SelectPlayer)
    elseif Settings.AimTarget == "Distance (nearest Player from you)" then
        local Dist = math.huge
        for i, v in ipairs(game.workspace.Characters:GetChildren()) do
            if v.Name ~= plr.Name
            and IsMobAlive(v)
            and not v:FindFirstChild("KenDisabled")
            and plr:DistanceFromCharacter(v.HumanoidRootPart.Position) < Settings.TargetDistance
            and (tostring(plr.Team) == "Pirates" and not table.find(Allies, v.Name) or tostring(plr.Team) == "Marines" and tostring(game.Players[v.Name].Team) ~= "Marines") then
                local Mag = plr:DistanceFromCharacter(v.HumanoidRootPart.Position)
                if Mag < Dist then
                    Dist = Mag
                    TargetPlayer = v
                end
            end
        end
    else
        local MousePos = Vector2.new(Mouse.X, Mouse.Y)
        local Dist = math.huge
        for i, v in ipairs(game.workspace.Characters:GetChildren()) do
            if v.Name ~= plr.Name
            and IsMobAlive(v)
            and not v:FindFirstChild("KenDisabled")
            and plr:DistanceFromCharacter(v.HumanoidRootPart.Position) < Settings.TargetDistance
            and (tostring(plr.Team) == "Pirates" and not table.find(Allies, v.Name) or tostring(plr.Team) == "Marines" and tostring(game.Players[v.Name].Team) ~= "Marines") then
                local Vec, onScreen = CurCam:WorldToScreenPoint(v.HumanoidRootPart.Position)
                if onScreen then
                    if (Vector2.new(Vec.X, Vec.Y) - MouseFOV).magnitude < MouseFOVLine.Radius then 
                        local Mag = (MousePos - Vector2.new(Vec.X, Vec.Y)).magnitude
                        if Mag < Dist then
                            Dist = Mag
                            TargetPlayer = v
                        end
                    end
                end
            end
        end
    end
    return TargetPlayer
end
local GuiService = game:GetService("GuiService")
getgenv().MouseFOVLine = Drawing.new("Circle")
MouseFOVLine.Visible = false
MouseFOVLine.Radius = 300
MouseFOVLine.Thickness = 3
getgenv().MouseFOV = Vector2.new(Mouse.X, Mouse.Y + GuiService:GetGuiInset().Y)
Mouse.Move:Connect(function() 
    MouseFOV = Vector2.new(Mouse.X, Mouse.Y + GuiService:GetGuiInset().Y)
    MouseFOVLine.Position = MouseFOV
    if Settings.ShowMouseFOV then
        MouseFOVLine.Visible = true
    else
        MouseFOVLine.Visible = false
    end
end)
spawn(function()
    while wait() do
        pcall(function()
            if Settings.SilentAim and not Settings.BountyFarm then
                if #game.Players:GetPlayers() > 1 then
                    local v = GetTargetPlayer()
                    if v then
                        if Settings.AimPredict then
                            getgenv().AimPos = (v.HumanoidRootPart.Position + v.HumanoidRootPart.Velocity * 0.5)
                        else
                            getgenv().AimPos = v.HumanoidRootPart.Position
                        end
                        getgenv().Targeting = v.Name
                    else
                        getgenv().AimPos = nil
                        getgenv().Targeting = nil
                    end
                end
            end
        end)
    end
end)
Section41.CreateDropdown({Title = "Aim Target", List = {"Distance (nearest Player from you)", "Mouse (nearest Player in FOV)", "Selected Player (select below)"}, Default = Settings.AimTarget}, function(v) 
    Settings.AimTarget = v
end)
Section41.CreateSlider({Title = 'Target Mouse FOV', Min = 50, Max = 700, Default = Settings.MouseFOV or 150}, function(v)
    Settings.MouseFOV = v
    MouseFOVLine.Radius = v
end)
Section41.CreateToggle({Title = "Show Mouse FOV", Desc = 'for Mouse Aim Target option', Default = Settings.ShowMouseFOV}, function(v)
    Settings.ShowMouseFOV = v
end)
Section41.CreateSlider({Title = 'Target Distance', Min = 500, Max = 3000, Default = Settings.TargetDistance or 500}, function(v)
    Settings.TargetDistance = v
end)
SilentAimToggle = Section41.CreateToggle({Title = "Silent Aim", Desc = 'Will Force your Aim to Target Player\n(Skills and Gun Bullet / Allies will not be target)', Default = Settings.SilentAim}, function(v)
    Settings.SilentAim = v
    if not v then
        getgenv().AimPos = nil
    end
end)
Section41.CreateBind({Title = 'Silent Aim Toggle Hotkey', Key = Enum.KeyCode.G}, function()
    local v = not SATHotkey
    SilentAimToggle.SetStage(v)
    getgenv().SATHotkey = v
end)
Section41.CreateToggle({Title = "Aim Predict", Desc = 'Will predict target movement 0.5s ahead (may glitchy)', Default = Settings.AimPredict}, function(v)
    Settings.AimPredict = v
end)
function GetPlrs()
    local plrs = {}
    for i, v in ipairs(game.Players:GetChildren()) do 
        if v.Name ~= plr.Name then
            table.insert(plrs, v.Name)
        end
    end
    return plrs
end
SelectPlayerDropdown = Section41.CreateDropdown({Title = "Select Player", List = GetPlrs(), Search = true}, function(v) 
    getgenv().SelectPlayer = v
end)
Section41.CreateButton({Title = 'Refresh Player List'}, function()
    if SelectPlayerDropdown then
        SelectPlayerDropdown:GetNewList(GetPlrs())
    end
end)
Section41.CreateToggle({Title = "View Player", Default = false}, function(v)
    spawn(function()
        if v then
            if #game.Players:GetPlayers() > 1 then
                local x = game.workspace.Characters:FindFirstChild(SelectPlayer)
                if x then
                    game.Workspace.Camera.CameraSubject = x.Humanoid
                end
            end
        else
            game.Workspace.Camera.CameraSubject = plr.Character.Humanoid
        end
    end)
end)
function formatNumber(v)
	return tostring(v):reverse():gsub("%d%d%d", "%1,"):reverse():gsub("^,", "")
end
Section41.CreateButton({Title = 'Player Stat Checker'}, function()
    local v = game.workspace.Characters:FindFirstChild(SelectPlayer)
    if v then
        v = game.Players[v.Name]
        Library.CreateNoti({Desc = "Name: " .. v.Name
        .. "\nLevel: " .. formatNumber(v.Data.Level.Value) .. " (" .. formatNumber(v.Data.Exp.Value) .. ")"
        .. "\nRace: " .. v.Data.Race.Value
        .. "\nBlox Fruit: " .. v.Data.DevilFruit.Value
        .. "\nBeli: " .. formatNumber(v.Data.Beli.Value)
        .. "\nFragment: " .. formatNumber(v.Data.Fragments.Value)
        .. "\nStats: " .. formatNumber(v.Data.Points.Value) .. " (available stat point)"
        .. "\n- Demon Fruit: " .. formatNumber(v.Data.Stats["Demon Fruit"].Level.Value)
        .. "\n- Defense: " .. formatNumber(v.Data.Stats.Defense.Level.Value)
        .. "\n- Melee: " .. formatNumber(v.Data.Stats.Melee.Level.Value)
        .. "\n- Gun: " .. formatNumber(v.Data.Stats.Gun.Level.Value)
        .. "\n- Sword: " .. formatNumber(v.Data.Stats.Sword.Level.Value)
        , ShowTime = 10})
    end
end)

Section41 = Page5.CreateSection('Bounty Farm')
spawn(function()
    while wait() do
        pcall(function()
            if game.CoreGui.RobloxPromptGui.promptOverlay:FindFirstChild("ErrorPrompt")
            and not Hopping
            and Settings.BountyFarm then
                while wait() do
                    game:GetService("TeleportService"):Teleport(game.PlaceId, game.Players.LocalPlayer)
                    wait(10)
                end
            end
        end)
        wait(5)
    end
end)
function BF_SafeZoneCheck(x)
    for i, v in ipairs(wOrigin.SafeZones:GetChildren()) do
        if (x.Position - v.Position).magnitude <= v.Mesh.Scale.X / 1.75 then
            return true
        end
    end
    for i, v in ipairs(game.workspace:GetChildren()) do
        if v.Name == "tempsafezone" and v:FindFirstChild("Part")
        and (x.Position - v.Part.Position).magnitude < 60 then
            return true
        end
    end
end
getgenv().IgnorePlr = {}
function BF_GetPlayer()
    local Dist = math.huge
    local NearestPlr
    for i, v in ipairs(game.workspace.Characters:GetChildren()) do
        if v.Name ~= plr.Name
        and not table.find(IgnorePlr, v.Name)
        and plrLevel - game.Players[v.Name].Data.Level.Value <= 550
        and not v:FindFirstChild("KenDisabled")
        and (tostring(plr.Team) == "Pirates" and not table.find(Allies, v.Name) or tostring(plr.Team) == "Marines" and tostring(game.Players[v.Name].Team) ~= "Marines")
        and IsMobAlive(v)
        and not BF_SafeZoneCheck(v.HumanoidRootPart) then
            if v:FindFirstChild("Chop Glitch Fix") then
                local Mag = plr:DistanceFromCharacter(v.HumanoidRootPart.Position)
                if Mag < Dist then
                    Dist = Mag
                    NearestPlr = v
                end
            else
                table.insert(IgnorePlr, v.Name)
            end
        end
    end 
    return NearestPlr
end
function BF_NearestPlayerFromPlayer(x)
    local Dist = math.huge
    local NearestPlr
    for i, v in ipairs(game.workspace.Characters:GetChildren()) do
        if v.Name ~= x.Name and v.Name ~= plr.Name
        and IsMobAlive(v) and not BF_SafeZoneCheck(v.HumanoidRootPart) then
            local Mag = (v.HumanoidRootPart.Position - x.HumanoidRootPart.Position).magnitude
            if Mag < Dist then
                Dist = Mag
                NearestPlr = v
            end
        end
    end
    if NearestPlr then
        return (NearestPlr.HumanoidRootPart.Position - x.HumanoidRootPart.Position).magnitude
    else
        return 100000
    end
end
local DodgeLevels = {
    [0] = 2,
    [50] = 3,
    [330] = 4,
    [815] = 4,
    [1418] = 4,
    [2121] = 5,
    [2824] = 5,
}
function GetDodgeTime(x)
    local DodgeTime = 0
    for i, v in pairs(DodgeLevels) do
        if game.Players[x.Name].VisionRadius.Value >= i and DodgeTime < v then
            DodgeTime = v
        end
    end
    if x.UpperTorso.Material == Enum.Material.Neon then
        DodgeTime = DodgeTime + 2
    end
    return DodgeTime
end
function CheckPvPDisabled()
    for i, v in pairs(plr.PlayerGui.Notifications:GetChildren()) do
        if string.find(v.Text, "Player died recently") and v.Visible then
            return v
        end
    end
end
function CheckSusKll()
    for i, v in pairs(plr.PlayerGui.Notifications:GetChildren()) do
        if string.find(v.Text, "sus") and v.Visible then
            return v
        end
    end
end
function BF_CheckStop(v, OldHealthPercent, Timer)
    if v:FindFirstChild("KenDisabled")
    or not IsMobAlive(v)
    or not v:FindFirstChild("Chop Glitch Fix")
    or CheckPvPDisabled()
    or Timer and (v.Humanoid.Health / v.Humanoid.MaxHealth) * 100 >= OldHealthPercent
    and tick() - Timer >= 3 + GetDodgeTime(v)
    or BF_SafeZoneCheck(v.HumanoidRootPart)
    and not plr.PlayerGui.Main.InCombat.Visible then
        return true
    end
end
function BountyFarm()
    local v = BF_GetPlayer()
    if v then
        local OldBounty = plr.leaderstats["Bounty/Honor"].Value
        local Timer
        local OldHealthPercent = (v.Humanoid.Health / v.Humanoid.MaxHealth) * 100
        repeat wait()
            if Hopping then return end
            if not v:FindFirstChild("Chop Glitch Fix") then
                table.insert(IgnorePlr, v.Name)
            end
            if not plrInRaidCheck then
                plrInRaidCheck = true
                spawn(function()
                    repeat wait()
                    until v:FindFirstChild("KenDisabled")
                    getgenv().MovingPos = nil
                    ForceStopTween()
                end)
            end
            if (v.HumanoidRootPart.Position - Vector3.new(plr.Character.HumanoidRootPart.Position.X, v.HumanoidRootPart.Position.Y, plr.Character.HumanoidRootPart.Position.Z)).magnitude > 100 then
                getgenv().MovingPos = v.HumanoidRootPart
                if not Timer then
                    local plrPos = plr.Character.HumanoidRootPart.Position
                    plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, v.HumanoidRootPart.Position.Y, plrPos.Z)
                    wait(.25)
                end
                BountyFarmLabel.SetText(LabelTextBF .. "Tweening to " .. v.Name)
                repeat wait()
                    Tween(v.HumanoidRootPart.Position + Vector3.new(0, 50, 0), false, 0)
                until (v.HumanoidRootPart.Position - Vector3.new(plr.Character.HumanoidRootPart.Position.X, v.HumanoidRootPart.Position.Y, plr.Character.HumanoidRootPart.Position.Z)).magnitude < 80
                or not Settings.BountyFarm
                or not IsMobAlive(v)
                wait(.25)
                getgenv().MovingPos = nil
            else
                if not Timer then Timer = tick() end
                if not PvPDisableCheck and v.Humanoid.FloorMaterial ~= Enum.Material.Air then
                    spawn(function()
                        repeat wait()
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(v.HumanoidRootPart.Position.X, v.HumanoidRootPart.Position.Y, v.HumanoidRootPart.Position.Z)
                        until PvPDisableCheck or not Settings.BountyFarm or CheckPvPDisabled() or Hopping or Panicing
                        or v.Humanoid.FloorMaterial == Enum.Material.Air
                    end)
                    repeat wait()
                        if not plr.Character:FindFirstChildOfClass("Tool") then
                            EquipItem(GetM1WP())
                        end
                        pcall(function()
                            AttackM1(v)
                        end)
                        wait(.2)
                    until (v.Humanoid.Health / v.Humanoid.MaxHealth) * 100 < OldHealthPercent
                    or CheckPvPDisabled() or not Settings.BountyFarm or tick() - Timer > 1
                    or v.Humanoid.FloorMaterial == Enum.Material.Air
                    Timer = tick()
                    getgenv().PvPDisableCheck = true
                    plr.Character.HumanoidRootPart.CFrame = CFrame.new(v.HumanoidRootPart.Position.X, 0, v.HumanoidRootPart.Position.Z)
                else
                    local k = GetUseableSkillWP()
                    if k then
                        BountyFarmLabel.SetText(LabelTextBF .. "Attacking " .. v.Name .. "\nHealth: " .. math.round(v.Humanoid.Health) .. "/" .. v.Humanoid.MaxHealth)
                        if not plr.Character:FindFirstChild(k) then
                            EquipItem(k)
                        end
                        getgenv().DelayWait = false
                        for _, x in pairs(SkillList) do
                            if CheckSkillUseable(k, x)
                            and Settings.BountyFarm and not Panicing
                            and not BF_CheckStop(v, OldHealthPercent, Timer)
                            and (x ~= "Z" or x == "Z" and not table.find(IgnoreZFruits, k))
                            and (x ~= "F" or x == "F" and table.find(FDealDamageFruits, k))
                            and plr.PlayerGui.Main.Skills[k][x].Title.Text ~= "Transformation"
                            and not CheckPvPDisabled()
                            and (v.HumanoidRootPart.Position - Vector3.new(plr.Character.HumanoidRootPart.Position.X, v.HumanoidRootPart.Position.Y, plr.Character.HumanoidRootPart.Position.Z)).magnitude < 200 
                            and not (Timer and (v.Humanoid.Health / v.Humanoid.MaxHealth) * 100 < 70 and tick() - Timer < 10) then
                                getgenv().DisableSpamTP = false
                                getgenv().SpamTpAbove = false
                                getgenv().AimPos = Predict
                                plr.Character.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame * CFrame.new(0, 0, -3)
                                if plr.Character.HumanoidRootPart.Position.Y > 9000 then
                                    wait(.4)
                                end
                                spawn(function()
                                    repeat wait()
                                        if (plr.Character.Humanoid.Health / plr.Character.Humanoid.MaxHealth) * 100 <= 80
                                        or plr.Character.Stun.Value ~= 0 then
                                            game:GetService("VirtualInputManager"):SendKeyEvent(true, "T", false, game)
                                            game:GetService("VirtualInputManager"):SendKeyEvent(false, "T", false, game)
                                        end
                                        getgenv().AimPos = (v.HumanoidRootPart.Position + v.HumanoidRootPart.Velocity * 0.5)
                                        plr.Character.HumanoidRootPart.CFrame = CFrame.lookAt(plr.Character.HumanoidRootPart.Position, v.HumanoidRootPart.Position)
                                        if SpamTpAbove then
                                            plr.Character.HumanoidRootPart.CFrame = v.HumanoidRootPart.CFrame * CFrame.new(0, 20, 0)
                                        else
                                            local Predict = (v.HumanoidRootPart.Position + v.HumanoidRootPart.Velocity * .15)
                                            local PreDictZ = PreDict.Z
                                            if PreDict.X  == 0 and Predict.Z == 0 then
                                                PreDictZ = 3
                                            end
                                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(Predict.X, v.HumanoidRootPart.Position.Y, PreDictZ)
                                        end
                                    until DisableSpamTP
                                    or not Settings.BountyFarm
                                    or not IsMobAlive(v)
                                    or Panicing
                                    or (v.HumanoidRootPart.Position - Vector3.new(plr.Character.HumanoidRootPart.Position.X, v.HumanoidRootPart.Position.Y, plr.Character.HumanoidRootPart.Position.Z)).magnitude > 200
                                end)
                                if plr:DistanceFromCharacter(v.HumanoidRootPart.Position) < 200 then
                                    getgenv().AimPos = (v.HumanoidRootPart.Position + v.HumanoidRootPart.Velocity * 0.5)
                                    if k == "Control-Control" then
                                        if not wOrigin:FindFirstChild("Globe")
                                        or plr:DistanceFromCharacter(wOrigin.Globe.Position) > wOrigin.Globe.AB.CurveSize0 / 1.75 then
                                            UseSkillZ(k)
                                        end
                                    elseif k == "Human-Human: Buddha" then
                                        if plr.Character:WaitForChild("UpperTorso").Material ~= Enum.Material.Neon then
                                            UseSkillZ(k)
                                        end
                                    elseif k == "Diamond-Diamond" then
                                        if not plr.Character:FindFirstChild("DiamondBody") then
                                            UseSkillZ(k)
                                        end
                                    elseif k == "Bird-Bird: Falcon" then
                                        if not plr.Character:FindFirstChild("FalconWings") then
                                            UseSkillZ(k)
                                        end
                                    end
                                    game:GetService("VirtualInputManager"):SendKeyEvent(true, x, false, game)
                                    repeat wait()
                                        if not table.find(SelectedHoldSkill, plr.PlayerGui.Main.Skills[k][x].Title.Text) then
                                            game:GetService("VirtualInputManager"):SendKeyEvent(false, x, false, game)
                                        else
                                            getgenv().SpamTpAbove = true
                                        end
                                    until tostring(plr.PlayerGui.Main.Skills[k][x].Cooldown.Size.X):split(",")[1] ~= "1"
                                    or not Settings.BountyFarm
                                    or not IsMobAlive(v)
                                    or Panicing or Hopping
                                    game:GetService("VirtualInputManager"):SendKeyEvent(false, x, false, game)
                                end
                                getgenv().DisableSpamTP = true
                                getgenv().noclip = true
                                if not GetUseableSkillWP() then
                                    plr.Character.HumanoidRootPart.CFrame = CFrame.new(v.HumanoidRootPart.Position.X, 0, v.HumanoidRootPart.Position.Z)
                                    wait()
                                    plr.Character.HumanoidRootPart.CFrame = CFrame.new(v.HumanoidRootPart.Position.X, 0, v.HumanoidRootPart.Position.Z)
                                else
                                    wait(.25)
                                end
                            end
                        end
                        plr.Character.HumanoidRootPart.CFrame = CFrame.new(v.HumanoidRootPart.Position.X, 0, v.HumanoidRootPart.Position.Z)
                    else
                        getgenv().noclip = true
                        plr.Character.HumanoidRootPart.CFrame = CFrame.new(v.HumanoidRootPart.Position.X, 0, v.HumanoidRootPart.Position.Z)
                        for i, v in ipairs(plr.Backpack:GetChildren()) do
                            if v:IsA("Tool")
                            and v.ToolTip ~= "" then
                                plr.Character.Humanoid:EquipTool(v)
                            end
                            wait()
                        end
                        plr.Character.Humanoid:UnequipTools()
                    end
                end
            end
        until not Settings.BountyFarm or Panicing
        or BF_CheckStop(v, OldHealthPercent, Timer)
        getgenv().PvPDisableCheck = false
        getgenv().MovingPos = nil
        ForceStopTween()
        if not v:FindFirstChild("Chop Glitch Fix") then
            BountyFarmLabel.SetText(LabelTextBF .. v.Name .. " is also using Sea Hub, hi")
            while wait() do
                HopServer()
                wait(5)
            end
        elseif Panicing then
            BountyFarmLabel.SetText(LabelTextBF .. v.Name .. " can counter Sea Hub, nice job")
            while wait() do
                HopServer()
                wait(5)
            end
        end
        if Settings.BountyFarm then
            wait(.25)
            if plr.leaderstats["Bounty/Honor"].Value > OldBounty then
                table.insert(IgnorePlr, v.Name)
                if Settings.AutoEZ then
                    local x = "ez"
                    if Settings.CustomMSG or Settings.CustomMSG ~= "" then
                        x = Settings.CustomMSG
                    end
                    game:GetService("ReplicatedStorage").DefaultChatSystemChatEvents.SayMessageRequest:FireServer("/w " .. v.Name .. " " .. x or "ez", "All")
                end
                local BountyGot = formatNumber(plr.leaderstats["Bounty/Honor"].Value - OldBounty)
                Library.CreateNoti({Desc = "Successfully killed " .. v.Name .. "\nBounty received: " .. BountyGot, ShowTime = 10})
                if Settings.BFWebhook then
                    SendWebHook({
                        ["embeds"] = {{
                            ["title"] = "Blox Fruits",
                            ["type"] = "rich",
                            ["color"] = tonumber(0xbdce44),
                            ["fields"] = {
                                {
                                    ["name"] = "Name",
                                    ["value"] = "||" .. plr.Name .. "||",
                                    ["inline"] = false
                                },
                                {
                                    ["name"] = "Bounty Farm",
                                    ["value"] = "Killed Player: " .. v.Name .. "\nBounty received: " .. BountyGot .. "\nTotal Bounty: " .. formatNumber(plr.leaderstats["Bounty/Honor"].Value),
                                    ["inline"] = false
                                }
                            },
                            ["footer"] = {
                                ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                            }
                        }}
                    })
                end
                --[[
                spawn(function()
                    for i = 1, 6 do
                        ForceStopTween()
                        wait(.25)
                    end
                end)
                ]]
                local plrPos = plr.Character.HumanoidRootPart.Position
                plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 0, plrPos.Z)
                wait(.25)
            else
                local x = "Kill got stole"
                local sK = CheckSusKll()
                if sK then
                    x = "Suspicious kill"
                    sK.Visible = false
                else
                    table.insert(IgnorePlr, v.Name)
                end
                local pD = CheckPvPDisabled()
                if pD
                or Timer and (v.Humanoid.Health / v.Humanoid.MaxHealth) * 100 >= OldHealthPercent
                and tick() - Timer >= 3 + GetDodgeTime(v) then
                    x = "PvP Disabled"
                    if pD then
                        pD.Visible = false
                    end
                end
                if not game.Players:FindFirstChild(v.Name) then
                    x = "Combat logged, left the game"
                end
                Library.CreateNoti({Desc = "Failed to kill " .. v.Name .. "\nPossibly: " .. x, ShowTime = 10})
            end
        else
            ForceStopTween(true)
        end
    else
        BountyFarmLabel.SetText(LabelTextBF .. "No killable player found")
        if Settings.BFHopServer then
            HopServer()
            wait(5)
            return
        end
        getgenv().MovingPos = nil
        local plrPos = plr.Character.HumanoidRootPart.Position
        ForceStopTween()
        plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 0, plrPos.Z)
        getgenv().noclip = true
    end
end
spawn(function()
    repeat wait() until BountyFarmLabel and ToolReady
    while wait() do
        pcall(function()
            if Settings.BountyFarm then
                BountyFarm()
            end 
        end)
    end
end)
spawn(function()
    while wait(1) do
        pcall(function()
            if Settings.BountyFarm then
                if plr.Character.Humanoid.Sit then
                    UnSit()
                end
                local x = plr.Character:FindFirstChild("Chop Glitch Fix")
                if x then
                    x:Destroy()
                end
            end 
        end)
    end
end)
getgenv().LabelTextBF = "[Bounty Farm]\n"
getgenv().BountyFarmLabel = Section41.CreateLabel({Title = "[Bounty Farm]: None"})
Section41.CreateToggle({Title = 'Bounty Farm', Desc = "No skill?, don't worry, i gotchu - Built different\nPutting stats to Fighting Style / Blox Fruit, equip any Gun / Sword got big AOE\n* Electric Claw (recommended) and AOE Fruits\n(Do not enable with Auto Farm features)", Default = Settings.BountyFarm}, function(v)
    if not v and Settings.BountyFarm then
        if game.PlaceId == 7449423635 then TPLocation("Mansion") end
        spawn(function()
            getgenv().MovingPos = nil
            wait(1)
            if game.PlaceId == 7449423635 then TPLocation("Mansion") end
            BountyFarmLabel.SetText("[Bounty Farm]: None")
        end)
    end
    spawn(function()
        if v then
            for i, v in ipairs(plr.Backpack:GetChildren()) do
                if v:IsA("Tool")
                and v.ToolTip ~= "" then
                    plr.Character.Humanoid:EquipTool(v)
                end
                wait(.25)
            end
            plr.Character.Humanoid:UnequipTools()
            getgenv().ToolReady = true
        end
    end)
    Settings.BountyFarm = v
end)
Section41.CreateToggle({Title = 'Hop Server if no killable Player', Desc = "Will Hop Server if current server have no killable Player", Default = Settings.BFHopServer}, function(v) 
    Settings.BFHopServer = v
end)
function GetAllSkill()
    local x = {}
    for i, v in ipairs(plr.PlayerGui.Main.Skills:GetDescendants()) do
        if table.find(SkillList, v.Name)
        and v.Title.Text ~= "Transformation"
        and v.Title.TextColor3 == Color3.fromRGB(255, 255, 255) 
        and v.Cooldown.Size == UDim2.new(0, 0, 1, -1) then
            table.insert(x, v.Title.Text)
        end
    end
    return x
end
local HoldSkillList = GetAllSkill()
getgenv().SelectedHoldSkill = {}
if not Settings.HoldSkill then
    Settings.HoldSkill = {}
    for i, v in pairs(HoldSkillList) do
        Settings.HoldSkill[v] = false
    end
else
    local HoldSkillLCheck = {}
    for i, v in pairs(Settings.HoldSkill) do
        if v then
            table.insert(getgenv().SelectedHoldSkill, i)
        end
        table.insert(HoldSkillLCheck, i)
    end
    for i, v in pairs(HoldSkillList) do
        if not table.find(HoldSkillLCheck, v) then
            Settings.HoldSkill[v] = false
        end
    end
end
SelectHoldSkillDropdown = Section41.CreateDropdown({Title = 'Select Hold Skill', List = Settings.HoldSkill, Selected = true, Search = true}, function(i, v)
    if i then
        Settings.HoldSkill[i] = v
        if v then
            table.insert(getgenv().SelectedHoldSkill, i)
        elseif table.find(SelectedHoldSkill, i) then
            table.remove(getgenv().SelectedHoldSkill, table.find(SelectedHoldSkill, i))
        end
    end
end)
Section41.CreateButton({Title = 'Refresh Hold Skill List'}, function()
    if SelectHoldSkillDropdown then
        for i, v in ipairs(plr.Backpack:GetChildren()) do
            if v:IsA("Tool")
            and v.ToolTip ~= "" then
                plr.Character.Humanoid:EquipTool(v)
            end
            wait(.25)
        end
        plr.Character.Humanoid:UnequipTools()
        local HSK = {}
        for i, v in pairs(GetAllSkill()) do
            HSK[v] = false
        end
        SelectHoldSkillDropdown:GetNewList(HSK)
    end
end)
Section41.CreateToggle({Title = '[Non-Related] Auto EZ', Desc = 'Will /msg them and say "ez" after killed them', Default = Settings.AutoEZ}, function(v) 
    Settings.AutoEZ = v
end)
Section41.CreateBox({Title = 'Custom MSG Text', Number = false, Default = Settings.CustomMSG, Placeholder = 'Will say the thing you want instead of "ez"'}, function(v)
	Settings.CustomMSG = v
end)

Page6 = Title.CreatePage({Page_Name = 'Shop', Page_Title = 'Shop Tab'})
function BuyStyle(x, v, c)
    if not x and c then
        CommF:InvokeServer(v, true)
        CommF:InvokeServer(v)
    else
        CommF:InvokeServer(x, v, c)
    end
end
Section51 = Page6.CreateSection('Click Shop')
Section51.CreateDropdown({Title = "Ability Shop", List = {"Skyjump", "Enhancement", "Flash Step", "Observation"}}, function(v) 
    if v == "Skyjump" then
        CommF:InvokeServer("BuyHaki", "Geppo")
    elseif v == "Enhancement" then
        CommF:InvokeServer("BuyHaki", "Buso")
    elseif v == "Flash Step" then
        CommF:InvokeServer("BuyHaki", "Soru")
    elseif v == "Observation" then
        if CommF:InvokeServer("KenTalk", "Start") == 0 then return end
        if CommF:InvokeServer("KenTalk", "Start") == 1 then
            CommF:InvokeServer("KenTalk", "Buy")
        else
            Library.CreateNoti({Desc = "You haven't unlocked Saber Quest", ShowTime = 10})
        end
    end
end)
local Styles = {
    ["Dark Step"] = "BuyBlackLeg",
    ["Electric"] = "BuyElectro",
    ["Water Kung-fu"] = "BuyFishmanKarate",
    ["Dragon Breath"] = "",
    ["Superhuman"] = "BuySuperhuman",
    ["Death Step"] = "BuyDeathStep",
    ["Sharkman Karate"] = "BuySharkmanKarate",
    ["Electric Claw"] = "BuyElectricClaw",
    ["Dragon Talon"] = "BuyDragonTalon",
    ["Godhuman"] = "BuyGodhuman"
}
local StyleList = {}
for i, v in pairs(Styles) do
    table.insert(StyleList, i)
end
Section51.CreateDropdown({Title = "Fighting Style Shop", List = StyleList}, function(v) 
    if v then
        if v == "Dragon Breath" then
            BuyStyle("BlackbeardReward", "DragonClaw", "1")
            BuyStyle("BlackbeardReward", "DragonClaw", "2")
        else
            BuyStyle(Styles[v])
        end
    end
end)
Section52 = Page6.CreateSection('Event Shop')
function CheckInStock(x)
    for i, v in pairs(CelebrationStore) do
        if not v.Sold and v.Name == x then
            return v.Price
        end
    end
    return math.huge
end
spawn(function()
    wait(5)
    while wait(1) do
        pcall(function()
            if QueueHopping then return end
            if not CelebrationStore and (not CSTick or tick() - CSTick > 20) then
                getgenv().CelebrationStore = game.ReplicatedStorage.Remotes.Celebration:InvokeServer("GetStore")[1]
                getgenv().CSTick = tick()
            end
            if Settings.AutoBuyFragments
            and GetItemCount("Hearts") >= CheckInStock("LargeMoney") then
                game.ReplicatedStorage.Remotes.Celebration:InvokeServer("Purchase", "LargeMoney")
            end
            if Settings.AutoBuy15mx2XP
            and plrLevel < MaxLevel
            and not string.find(plr.PlayerGui.Main.Level.Exp.Text, "2x ends") then
                local EXPType, EXPName = CheckInStock("15minDouble"), "15minDouble"
                if EXPType == math.huge then
                    EXPType, EXPName = CheckInStock("30minDouble"), "30minDouble"
                end
                if GetItemCount("Hearts") >= EXPType then
                    game.ReplicatedStorage.Remotes.Celebration:InvokeServer("Purchase", EXPName)
                end
            end
        end)
    end
end)
AutoBuyFragmentsToggle = Section52.CreateToggle({Title = 'Auto Buy Fragments', Desc = "Auto buy 150 Fragments with Hearts", Default = Settings.AutoBuyFragments}, function(v) 
    Settings.AutoBuyFragments = v
end)
AutoBuy15mx2XPToggle = Section52.CreateToggle({Title = 'Auto Buy 15m / 30m x2 XP', Desc = "Auto buy 15 minutes or 30 minutes of x2 XP with Hearts when you don't have any x2 XP boost", Default = Settings.AutoBuy15mx2XP}, function(v) 
    Settings.AutoBuy15mx2XP = v
    if v and plrLevel >= MaxLevel then
        if AutoBuy15mx2XPToggle then AutoBuy15mx2XPToggle.SetStage(false) end
        return Library.CreateNoti({Desc = 'You already maxed Level (no need to buy x2 XP)', ShowTime = 10})
    end
end)
--[[
spawn(function()
    wait(5)
    while wait(1) do
        pcall(function()
            if QueueHopping then return end
            if Settings.AutoBuyFragments
            and GetItemCount("Candy") >= 100 then
                CommF:InvokeServer("Candies", "Buy", 2, 2)
            end
            if Settings.AutoBuy15mx2XP
            and plrLevel < MaxLevel
            and not string.find(plr.PlayerGui.Main.Level.Exp.Text, "2x ends")
            and GetItemCount("Candy") >= 50 then
                CommF:InvokeServer("Candies", "Buy", 1, 1)
            end
            wait(2)
        end)
    end
end)
AutoBuyFragmentsToggle = Section52.CreateToggle({Title = 'Auto Buy 500 Fragments', Desc = "Auto buy 500 Fragments with 100 Candies", Default = Settings.AutoBuyFragments}, function(v) 
    Settings.AutoBuyFragments = v
end)
AutoBuy15mx2XPToggle = Section52.CreateToggle({Title = 'Auto Buy 15m x2 XP', Desc = "Auto buy 15 minutes of x2 XP with 50 Candies when you don't have any x2 XP boost", Default = Settings.AutoBuy15mx2XP}, function(v) 
    Settings.AutoBuy15mx2XP = v
    if v and plrLevel >= MaxLevel then
        if AutoBuy15mx2XPToggle then AutoBuy15mx2XPToggle.SetStage(false) end
        return Library.CreateNoti({Desc = 'You already maxed Level (no need to buy x2 XP)', ShowTime = 10})
    end
end)
]]
Section52 = Page6.CreateSection('Automatic Shop')
function GetNewHakiColor(OldColor)
    local NewHakiColor
    for i, v in pairs(CommF:InvokeServer("getColors")) do
        if v.Unlocked 
        and not table.find(OldColor, v.HiddenName) then
            NewHakiColor = v.HiddenName
        end
    end
    return NewHakiColor
end
local LegSword = {
    "Saddi",
    "Shisui",
    "Wando"
}
function GetNewLegSword(OldLegSword)
    local NewLegSword
    for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
        if v.details
        and table.find(LegSword, v.details.Name) then
            if not table.find(OldLegSword, v.details.Name) then
                NewLegSword = v.details.Name
            end
        end
    end
    return NewLegSword
end
spawn(function()
    wait(3)
    if TabStatus and TabStatus == "In" then wait(4) end
    while wait() do
        pcall(function()
            if Settings.AutoMOE
            and plr.Data.Fragments.Value >= 1500 then
                local MOE = game.workspace.NPCs:FindFirstChild("Master of Auras")
                if MOE and MOE.HumanoidRootPart.Position.Y > -100 then
                    local x = CommF:InvokeServer("ColorsDealer", "1", true):gsub("%d+", ""):gsub("%s+$", "")
                    if not table.find(SelectedIgnoreColor, x) then
                        local OldColor = {}
                        for i, v in pairs(CommF:InvokeServer("getColors")) do
                            if v.Unlocked then
                                table.insert(OldColor, v.HiddenName)
                            end
                        end
                        CommF:InvokeServer("ColorsDealer", "2")
                        wait(1)
                        local BoughtColor = GetNewHakiColor(OldColor)
                        if BoughtColor then
                            Library.CreateNoti({Desc = "Bought Color: " .. BoughtColor, ShowTime = 10})
                            if Settings.MOEBWebhook then
                                SendWebHook({
                                    ["content"] = "@everyone",
                                    ["embeds"] = {{
                                        ["title"] = "Blox Fruits",
                                        ["type"] = "rich",
                                        ["color"] = tonumber(0xbdce44),
                                        ["fields"] = {
                                            {
                                                ["name"] = "Name",
                                                ["value"] = "||" .. plr.Name .. "||",
                                                ["inline"] = false
                                            },
                                            {
                                                ["name"] = "Auto Master of Auras",
                                                ["value"] = "Bought Color: " .. BoughtColor,
                                                ["inline"] = false
                                            }
                                        },
                                        ["footer"] = {
                                            ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                            ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                                        }
                                    }}
                                })
                            end
                        else
                            Library.CreateNoti({Desc = "Attempted to buy Color " .. x .. " but already got the Color", ShowTime = 10})
                            MOE.HumanoidRootPart.CFrame = CFrame.new(0, -1000, 0)
                        end
                    else
                        Library.CreateNoti({Desc = "Ignored Color " .. x, ShowTime = 10})
                        MOE.HumanoidRootPart.CFrame = CFrame.new(0, -1000, 0)
                    end
                    wait(2)
                elseif Settings.AMHopServer then
                    HopServer(true)
                    wait(5)
                end
            end
            if Settings.AutoLSD then
                if IsHaveItem("Saddi") and IsHaveItem("Shisui") and IsHaveItem("Wando") then
                    Library.CreateNoti({Desc = "Already got all 3 Saddi Shisui Wando", ShowTime = 10})
                    if AutoLSDToggle then AutoLSDToggle.SetStage(false) end
                    return
                end
                if game.PlaceId == 7449423635 and Settings.AMHopServer then CommF:InvokeServer("TravelDressrosa") wait(5) end
                local LSD = game.workspace.NPCs:FindFirstChild("Legendary Sword Dealer ")
                if LSD and LSD.HumanoidRootPart.Position.Y > -100 and plr.Data.Beli.Value >= 2000000 then
                    local OldLegSword = {}
                    for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
                        if v.details
                        and table.find(LegSword, v.details.Name) then
                            table.insert(OldLegSword, v.details.Name)
                        end
                    end
                    CommF:InvokeServer("LegendarySwordDealer", "2")
                    wait(1)
                    local BoughtSword = GetNewLegSword(OldLegSword)
                    if BoughtSword then
                        Library.CreateNoti({Desc = "Bought Legendary Sword: " .. BoughtSword, ShowTime = 10})
                        if Settings.LSDBWebhook then
                            SendWebHook({
                                ["content"] = "@everyone",
                                ["embeds"] = {{
                                    ["title"] = "Blox Fruits",
                                    ["type"] = "rich",
                                    ["color"] = tonumber(0xbdce44),
                                    ["fields"] = {
                                        {
                                            ["name"] = "Name",
                                            ["value"] = "||" .. plr.Name .. "||",
                                            ["inline"] = false
                                        },
                                        {
                                            ["name"] = "Auto Legendary Sword Dealer",
                                            ["value"] = "Bought Sword: " .. BoughtSword,
                                            ["inline"] = false
                                        }
                                    },
                                    ["footer"] = {
                                        ["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
                                        ["text"] = "Sea Hub (" .. os.date("%X") .. ")"
                                    }
                                }}
                            })
                        end
                    else
                        Library.CreateNoti({Desc = "Attempted to buy Legendary Sword but already got the Sword", ShowTime = 10})
                        LSD.HumanoidRootPart.CFrame = CFrame.new(0, -1000, 0)
                    end
                    wait(2)
                elseif Settings.AMHopServer then
                    if Settings.Cuttay then
                        Library.CreateNoti({Desc = 'Hopping Server for True Triple Katana (3 Legendary Swords)', ShowTime = 5})
                    end
                    HopServer(true)
                    wait(5)
                end
            end
        end)
    end
end)
spawn(function()
    wait(5)
    while wait(1) do
        pcall(function()
            if QueueHopping then return end
            if Settings.AutoRandomSurprise
            and GetItemCount("Bones") >= 50 then
                CommF:InvokeServer("Bones", "Buy", 1, 1)
            end
            if Settings.AutoBFDC then
                CommF:InvokeServer("Cousin", "Buy")
            end
            wait(2)
        end)
    end
end)
Section52.CreateToggle({Title = 'Auto Random Surprise', Desc = "Auto buy random surprise by using Bone", Default = Settings.AutoRandomSurprise}, function(v) 
    Settings.AutoRandomSurprise = v
end)
AutoBFDCToggle = Section52.CreateToggle({Title = 'Auto Blox Fruit Dealer Cousin', Desc = "Auto buy random Blox Fruit", Default = Settings.AutoBFDC}, function(v) 
    Settings.AutoBFDC = v
end)
Section52.CreateToggle({Title = 'Auto Master of Auras', Desc = "Auto buy Enhancement Color when the Merchant spawned", Default = Settings.AutoMOE}, function(v) 
    Settings.AutoMOE = v
end)
local ColorList = {}
for i, v in pairs(CommF:InvokeServer("getColors")) do
    table.insert(ColorList, v.HiddenName)
end
getgenv().SelectedIgnoreColor = {}
if not Settings.IgnoreColor then
    Settings.IgnoreColor = {}
    for i, v in pairs(ColorList) do
        Settings.IgnoreColor[v] = false
    end
else
    local ColorLCheck = {}
    for i, v in pairs(Settings.IgnoreColor) do
        if v then
            table.insert(getgenv().SelectedIgnoreColor, i)
        end
        table.insert(ColorLCheck, i)
    end
    for i, v in pairs(ColorList) do
        if not table.find(ColorLCheck, v) then
            Settings.IgnoreColor[v] = false
        end
    end
end
Section52.CreateDropdown({Title = 'Ignore Buy Aura Color', List = Settings.IgnoreColor, Selected = true}, function(i, v)
    if i then
        Settings.IgnoreColor[i] = v
        if v then
            table.insert(getgenv().SelectedIgnoreColor, i)
        elseif table.find(SelectedIgnoreColor, i) then
            table.remove(getgenv().SelectedIgnoreColor, table.find(SelectedIgnoreColor, i))
        end
    end
end)
AutoLSDToggle = Section52.CreateToggle({Title = 'Auto Legendary Sword Dealer', Desc = "Auto buy Legendary Swords when the Merchant spawned", Default = Settings.AutoLSD}, function(v) 
    Settings.AutoLSD = v
end)
AMHopServerToggle = Section52.CreateToggle({Title = 'Hop Server if no Merchant', Desc = "Will Hop Server if current server have no Master of Auras / Legendary Sword Dealer", Default = Settings.AMHopServer}, function(v) 
    Settings.AMHopServer = v
end)

Page7 = Title.CreatePage({Page_Name = 'Webhook', Page_Title = 'Webhook Settings Tab'})
Section71 = Page7.CreateSection('Webhook Setting')
Section71.CreateBox({Title = 'Webhook URL', Number = false, Default = Settings.TextBoxWebhookURL, Placeholder = 'Webhook URL here'}, function(v)
	Settings.TextBoxWebhookURL = v
end)
Section71.CreateButton({Title = 'Test Webhook'}, function()
	SendWebHook({
		["embeds"] = {{
			["title"] = "Blox Fruits",
			["type"] = "rich",
			["color"] = tonumber(0xbdce44),
			["fields"] = {
				{
					["name"] = "Test webhook",
					["value"] = "egoD was here :eyes:",
					["inline"] = false
				},
			},
			["footer"] = {
				["icon_url"] = "https://cdn.discordapp.com/attachments/832985237638086660/843786018892939284/turtle.png",
				["text"] = "Sea Hub (" .. os.date("%X") .. ")"
			}
		}}
	})
end)
Section71 = Page7.CreateSection('Webhook Notification')
Section71.CreateToggle({Title = 'Blox Fruit Bought / Stored / Dropped', Default = Settings.BFBSDWebhook, Desc = "Will notify you when:\nBlox Fruit Dealer Sniper bought a selected Fruti\nAuto Store Blox Fruit stored a fruit\nDrop if Maxed if dropped a fruit"}, function(v)
	Settings.BFBSDWebhook = v
end)
if game.PlaceId ~= 2753915549 then
    local DescText = "Will notify you when got " .. WorldReward .. " from Auto Chest" 
    if game.PlaceId == 7449423635 then
        DescText = DescText .. " or Elite Pirate Farm"
    else
        DescText = DescText .. " or Sea Beast Farm"
    end
    Section71.CreateToggle({Title = 'Got ' .. WorldReward, Default = Settings.GDAWebhook, Desc = DescText}, function(v)
        Settings.GDAWebhook = v
    end)
    Section71.CreateToggle({Title = 'Raid Boss Killed', Default = Settings.RBFWebhook, Desc = "Will notify you when killed Cake Prince / rip_indra"}, function(v)
        Settings.RBFWebhook = v
    end)
end
Section71.CreateToggle({Title = 'Master of Auras Bought', Default = Settings.MOEBWebhook, Desc = "Will notify you when Auto Master of Auras bought an Enhancement Color"}, function(v)
	Settings.MOEBWebhook = v
end)
if game.PlaceId == 4442272183 then
    Section71.CreateToggle({Title = 'Legendary Sword Dealer Bought', Default = Settings.LSDBWebhook, Desc = "Will notify you when Auto Legendary Sword Dealer bought an Legendary Sword"}, function(v)
        Settings.LSDBWebhook = v
    end)
end
Section71.CreateToggle({Title = 'Bounty Farm Player killed', Default = Settings.BFWebhook, Desc = "Will notify you Bounty Farm killed a Player"}, function(v)
	Settings.BFWebhook = v
end)
Page8 = Title.CreatePage({Page_Name = 'Info', Page_Title = 'Informations Tab'})
Section81 = Page8.CreateSection('Script Status')
getgenv().AutoFarmLabel = Section81.CreateLabel({Title = "[Auto Farm]: None"})
getgenv().AutoFSSLabel = Section81.CreateLabel({Title = "[Auto Fighting Style / Sword]: None"})
Section82 = Page8.CreateSection('Spawn Status')
BossSpawnLabel = Section82.CreateLabel({Title = "Boss Spawn Status"})
spawn(function()
    while wait() do
        pcall(function()
            local BossSpawnText = "[Boss Spawn Status]"
            for i, v in pairs(BossesName) do
                BossSpawnText = BossSpawnText .. "\n"
                local x = child_stringfind(game.ReplicatedStorage, v, true, true) or child_stringfind(game.workspace.Enemies, v, true, true)
                if x then
                    BossSpawnText = BossSpawnText .. " " .. v
                else
                    BossSpawnText = BossSpawnText .. " " .. v 
                end
            end
            BossSpawnLabel.SetText(BossSpawnText)
        end)
        wait(10)
    end
end)
if game.PlaceId ~= 2753915549 then
    NPCSpawnLabel = Section82.CreateLabel({Title = "NPC Spawn Status"})
    spawn(function()
        while wait() do
            pcall(function()
                local NPCSpawnText = "[NPC Spawn Status]"
                for i, v in pairs(SpawnNPCs) do
                    NPCSpawnText = NPCSpawnText .. "\n"
                    local x = game.workspace.NPCs:FindFirstChild(v)
                    if x
                    and x.HumanoidRootPart.Position.Y > -100 then
                        NPCSpawnText = NPCSpawnText .. " " .. v
                    else
                        NPCSpawnText = NPCSpawnText .. " " .. v 
                    end
                end
                NPCSpawnLabel.SetText(NPCSpawnText)
            end)
            wait(10)
        end
    end)
end
local CT_Access
if not Key then CT_Access = true end
pcall(function()
    CT_Access = DecryptJSONReps.IsPrivateServer 
end)
--if CT_Access == true then
if true then
    Page9 = Title.CreatePage({Page_Name = 'Seller', Page_Title = 'Seller Tab '})
    Section91 = Page9.CreateSection('Cuttay Account Farm')
    spawn(function()
        while wait() do
            if Settings.Cuttay and plr.Data.Points.Value ~= 0 then
                if plr.Data.Stats.Melee.Level.Value < MaxLevel then
                    CommF:InvokeServer("AddPoint", "Melee", plr.Data.Points.Value)
                elseif plr.Data.Stats.Defense.Level.Value < MaxLevel then
                    CommF:InvokeServer("AddPoint", "Defense", plr.Data.Points.Value)
                else
                    if Settings.CT_FarmBFMastery then
                        if plr.Data.Stats.Sword.Level.Value > plr.Data.Stats["Demon Fruit"].Level.Value then
                            CommF:InvokeServer("AddPoint", "Demon Fruit", 1)
                        else
                            CommF:InvokeServer("AddPoint", "Sword", 1)
                        end
                    else
                        CommF:InvokeServer("AddPoint", "Sword", plr.Data.Points.Value)
                    end
                end           
            else
                wait(1)
            end
        end
    end)
    function CheckFruitAwakeable()
        local BF = GetM1WP("Blox Fruit")
        if BF and (BF ~= "Dough-Dough" or CommF:InvokeServer("CakeScientist", "Check")) and BF ~= "Bird-Bird: Phoenix" then
            BF = CheckPlrBackpack(BF)
            if BF:FindFirstChild("AwakenedMoves") then
                if BF.AwakenedMoves:FindFirstChild("V") then
                    if Settings.AutoAwake and AutoAwakeToggle then AutoAwakeToggle.SetStage(false) end
                    return
                end
                return true
            end
        end
    end
    function CheckFruitFullAwake()
        local BF = GetM1WP("Blox Fruit")
        if BF then
            BF = CheckPlrBackpack(BF)
            if BF:FindFirstChild("AwakenedMoves") and BF.AwakenedMoves:FindFirstChild("V") then
                return true
            end
        end
    end
    function Cuttay()
        local CusDelay = 1
        if Hopping or QueueHopping then return end
        if not Settings.AutoFixStandingStill and AutoFixStandingStillToggle then AutoFixStandingStillToggle.SetStage(true) end
        if not Settings.AutoKickPing and AutoKickPingToggle then AutoKickPingToggle.SetStage(true) end
        if not Settings.AutoKickPing_Ping or Settings.AutoKickPing_Ping ~= 5000 then Settings.AutoKickPing_Ping = 5000 end
        if not Settings.AntiFP and AntiFPToggle then AntiFPToggle.SetStage(true) end
        if Settings.AutoNextSea and AutoNextSeaToggle and CommF:InvokeServer("ZQuestProgress", "Check") == 1 then
            AutoNextSeaToggle.SetStage(false)
        else
            if plrLevel >= 700 and not Settings.AutoNextSea
            and game.PlaceId == 2753915549
            and not CommF:InvokeServer("ZQuestProgress", "Check")
            and AutoNextSeaToggle then
                AutoNextSeaToggle.SetStage(true)
            end
            if plrLevel >= 1500 and not Settings.AutoNextSea
            and CommF:InvokeServer("ZQuestProgress", "Check") ~= 1
            and AutoNextSeaToggle then
                AutoNextSeaToggle.SetStage(true)
            end
        end
        if CuttayAccountFarm and CuttayAccountFarm["Blox Fruit Sniper"] and #CuttayAccountFarm["Blox Fruit Sniper"] ~= 0
        and not table.find(SelectedSnipeBloxFruit, tostring(plr.Data.DevilFruit.Value)) 
        and not Settings.BFDealerSniper and BFDealerSniperToggle then
            BFDealerSniperToggle.SetStage(true)
        end
        if not Settings.AutoSave and AutoSaveToggle then AutoSaveToggle.SetStage(true) end
        if not Settings.BoostFPS and BoostFPSToggle then BoostFPSToggle.SetStage(true) end
        if not Settings.NoFog and NoFogToggle then NoFogToggle.SetStage(true) end
        if not Settings.RemoveScreenShake and RemoveScreenShakeToggle then RemoveScreenShakeToggle.SetStage(true) end
        if not Settings.IgnoreYTween and IgnoreYTweenToggle then IgnoreYTweenToggle.SetStage(true) end
        if not Settings.AutoEnhancement and AutoEnhancementToggle then AutoEnhancementToggle.SetStage(true) end
        if not Settings.AutoObservation and AutoObservationToggle then AutoObservationToggle.SetStage(true) end
        if not TemporaryDisableAttackNoCD and not Settings.AttackNoCD and AttackNoCDToggle then AttackNoCDToggle.SetStage(true) end
        if not Settings.AttackAutoScale and AttackAutoScaleToggle then AttackAutoScaleToggle.SetStage(true) end
        if Settings.Distance ~= 40 then Settings.Distance = 40 end
        if Settings.DefaultYLevel ~= 400 then Settings.DefaultYLevel = 400 end
        if Settings.TweenSpeed ~= 300 then Settings.TweenSpeed = 300 end
        if not Settings.TweenBF and TweenBFToggle then TweenBFToggle.SetStage(true) end
        if not Settings.TweenNBF and TweenNBFToggle then TweenNBFToggle.SetStage(true) end
        if game.PlaceId ~= 2753915549 and not Settings.AutoWorldEvent and AutoWorldEventToggle then AutoWorldEventToggle.SetStage(true) end
        if not Settings.AutoStoreBF and AutoStoreBFToggle then AutoStoreBFToggle.SetStage(true) end
        if plr.Data.Beli.Value >= 160000 and not Settings.AutoBFDC and AutoBFDCToggle then AutoBFDCToggle.SetStage(true) end
        if game.PlaceId == 4442272183 and not Settings.AutoLSD and AutoLSDToggle
        and (not IsHaveItem("Saddi") or not IsHaveItem("Shisui") or not IsHaveItem("Wando")) then
            AutoLSDToggle.SetStage(true)
        end
        if not Settings.AFSTPSea3 and AFSTPSea3Toggle then AFSTPSea3Toggle.SetStage(true) end
        if Settings.BTDFHopServer and BTDFHopServerToggle then BTDFHopServerToggle.SetStage(false) end
        if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
            if not Settings.AFSHopServer and AFSHopServerToggle then AFSHopServerToggle.SetStage(true) end
            if not Settings.AutoRejoin and AutoRejoinToggle then AutoRejoinToggle.SetStage(true) end
        else
            if Settings.AFSHopServer and AFSHopServerToggle then AFSHopServerToggle.SetStage(false) end
            if Settings.AutoRejoin and AutoRejoinToggle then AutoRejoinToggle.SetStage(false) end
        end
        if not table.find(SelectedIgnoreHop, "[Farm] Server Hop if Player nearby") then
            if not Settings.MFHopServer and MFHopServerToggle then MFHopServerToggle.SetStage(true) end
        elseif Settings.MFHopServer and MFHopServerToggle then
            MFHopServerToggle.SetStage(false)
        end
        if Settings.CT_RaidIfMaxed then
            if GetDropBF(plr.Character) or GetDropBF(plr.Backpack) then
                Settings.RaidMap = GetRaidMapBF(GetM1WP("Blox Fruit"))
                if not Settings.AutoRaid and AutoRaidToggle then AutoRaidToggle.SetStage(true) end
                return
            elseif AFSWeapon and (table.find(SelectedIgnoreAction, "Awake Current Blox Fruit") or CheckFruitFullAwake()) then
                if Settings.AutoRaid and AutoRaidToggle then AutoRaidToggle.SetStage(false) end
            end
        end
        if (table.find(SelectedIgnoreAction, "Awake Current Blox Fruit") or CheckFruitFullAwake()) and Settings.AutoAwake and AutoAwakeToggle then
            AutoAwakeToggle.SetStage(false)
        end
        if table.find(SelectedIgnoreAction, "Get Godhuman") and Settings.AutoGodhuman and AutoGodhumanToggle then
            AutoGodhumanToggle.SetStage(false)
        end
        if table.find(SelectedIgnoreAction, "Get Rengoku") and Settings.AutoRengoku and AutoRengokuToggle then
            AutoRengokuToggle.SetStage(false)
        end
        if table.find(SelectedIgnoreAction, "Get True Triple Katana") then
            if Settings.AutoTripleKatana and AutoTripleKatanaToggle then AutoTripleKatanaToggle.SetStage(false) end
            if Settings.AMHopServer and AMHopServerToggle then AMHopServerToggle.SetStage(false) end
        end
        if (table.find(SelectedIgnoreAction, "Get Hallow Scythe") or IsHaveItem("Hallow Scythe")) and Settings.SoulReaperFarm and SoulReaperFarmToggle then
            SoulReaperFarmToggle.SetStage(false)
        end
        if table.find(SelectedIgnoreAction, "Get Cursed Dual Katana") then
            if Settings.AutoDualKatana and AutoDualKatanaToggle then AutoDualKatanaToggle.SetStage(false) end
            if Settings.EPFHopServer and EPFHopServerToggle then EPFHopServerToggle.SetStage(false) end
        end
        if table.find(SelectedIgnoreAction, "Get Soul Guitar") and Settings.AutoSoulGuitar and AutoSoulGuitarToggle then
            AutoSoulGuitarToggle.SetStage(false)
        end
        if game.PlaceId == 7449423635 then
            if not IsHaveItem("Tushita") and not Settings.AutoTushita and AutoTushitaToggle then AutoTushitaToggle.SetStage(true) end
            if not IsHaveItem("Yama") then
                if not Settings.ElitePirateFarm and ElitePirateFarmToggle then ElitePirateFarmToggle.SetStage(true) end
                if not Settings.AutoYama and AutoYamaToggle then AutoYamaToggle.SetStage(true) end
            end
            if not IsHaveItem("Hallow Scythe")
            and not table.find(SelectedIgnoreAction, "Get Hallow Scythe") then
                if not Settings.SoulReaperFarm and SoulReaperFarmToggle then SoulReaperFarmToggle.SetStage(true) end
            end
        end
        if CommF:InvokeServer("BuyGodhuman", true) ~= 1
        and not table.find(SelectedIgnoreAction, "Get Godhuman")
        or CommF:InvokeServer("BuyDragonTalon", true) ~= 1 then
            if not Settings.AutoSuperhuman and CommF:InvokeServer("BuySuperhuman", true) ~= 1 and AutoSuperhumanToggle then
                AutoSuperhumanToggle.SetStage(true)
            end
            if CommF:InvokeServer("BuySuperhuman", true) == 1 then
                if table.find(SelectedBuyHaki, "Buy Enhancement")
                and plr.Data.Beli.Value >= 25000
                and not game:GetService("CollectionService"):HasTag(game.Players.LocalPlayer.Character, "Buso") then
                    CommF:InvokeServer("BuyHaki", "Buso")
                end
                if table.find(SelectedBuyHaki, "Buy Skyjump")
                and plr.Data.Beli.Value >= 10000
                and not game:GetService("CollectionService"):HasTag(game.Players.LocalPlayer.Character, "Geppo") then
                    CommF:InvokeServer("BuyHaki", "Geppo")
                end
                if table.find(SelectedBuyHaki, "Buy Flash Step")
                and plr.Data.Beli.Value >= 100000
                and not game:GetService("CollectionService"):HasTag(game.Players.LocalPlayer.Character, "Soru") then
                    CommF:InvokeServer("BuyHaki", "Soru")
                end
            end
            if not Settings.AutoDeathStep and CommF:InvokeServer("BuyDeathStep", true) ~= 1 and AutoDeathStepToggle then
                AutoDeathStepToggle.SetStage(true)
            end
            if not Settings.AutoSharkmanKarate and CommF:InvokeServer("BuySharkmanKarate", true) ~= 1 and AutoSharkmanKarateToggle then
                AutoSharkmanKarateToggle.SetStage(true)
            end
            if not Settings.AutoElectricClaw and CommF:InvokeServer("BuyElectricClaw", true) ~= 1 and AutoElectricClawToggle then
                AutoElectricClawToggle.SetStage(true)
            end
            if not Settings.AutoDragonTalon and CommF:InvokeServer("BuyDragonTalon", true) ~= 1 and AutoDragonTalonToggle then
                AutoDragonTalonToggle.SetStage(true)
            end
            if not table.find(SelectedIgnoreAction, "Get Godhuman")
            and not Settings.AutoGodhuman and CommF:InvokeServer("BuyGodhuman", true) ~= 1 and AutoGodhumanToggle then
                AutoGodhumanToggle.SetStage(true)
            end
        else
            if not IsHaveItem("Saber") then
                if not Settings.AutoSaber and AutoSaberToggle then AutoSaberToggle.SetStage(true) end
                return
            elseif table.find(SelectedBuyHaki, "Buy Observation")
            and plr.Data.Beli.Value >= 750000
            and not game:GetService("CollectionService"):HasTag(game.Players.LocalPlayer.Character, "Ken") then
                CommF:InvokeServer("KenTalk", "Buy")
                return
            end
            if not table.find(SelectedIgnoreAction, "Get Rengoku")
            and not IsHaveItem("Rengoku") then
                if not Settings.AutoRengoku and AutoRengokuToggle then AutoRengokuToggle.SetStage(true) end
                return
            end
            if not table.find(SelectedIgnoreAction, "Get True Triple Katana")
            and not IsHaveItem("True Triple Katana") then
                if IsHaveItem("Saddi")
                and IsHaveItem("Shisui")
                and IsHaveItem("Wando") then
                    if Settings.AMHopServer and AMHopServerToggle then AMHopServerToggle.SetStage(false) end
                    if game.PlaceId ~= 7449423635 then
                        CommF:InvokeServer("TravelZou")
                        wait(5)
                        return
                    end
                    if plr.Data.Beli.Value >= 2000000 then
                        getgenv().AFSWeapon = nil
                        if not Settings.AutoTripleKatana and AutoTripleKatanaToggle then AutoTripleKatanaToggle.SetStage(true) end
                    else
                        AutoFSSLabel.SetText(LabelTextAFS .. "Not have enough Beli to buy: True Triple Katana")
                        CT_DisableAutoRaid()
                        CT_EnableFarm()
                    end
                elseif plr.Data.Beli.Value >= 2000000 then
                    if game.PlaceId ~= 4442272183 then
                        CommF:InvokeServer("TravelDressrosa")
                        wait(5)
                        return
                    else
                        if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
                            if not NotiHopSv then
                                getgenv().NotiHopSv = true
                                Library.CreateNoti({Desc = 'Will Hop Server for 3 Legendary Swords\n(Auto True Triple Katana)', ShowTime = 20})
                            end
                            CT_DisableFarm()
                            if not Settings.AMHopServer and AMHopServerToggle then AMHopServerToggle.SetStage(true) end
                        else
                            AutoFSSLabel.SetText(LabelTextAFS .. "Waiting for Legendary Sword Merchant Spawn (Auto True Triple Katana)")
                            if Settings.AMHopServer and AMHopServerToggle then AMHopServerToggle.SetStage(false) end
                            CT_DisableAutoRaid()
                            CT_EnableFarm()
                        end
                    end
                else
                    if not NotiHopSv then
                        getgenv().NotiHopSv = true
                        Library.CreateNoti({Desc = 'Not enough Beli to buy Legendary Swords\n(Auto True Triple Katana)', ShowTime = 20})
                    end
                    if Settings.AMHopServer and AMHopServerToggle then AMHopServerToggle.SetStage(false) end
                    if game.PlaceId ~= 7449423635 then
                        if Settings.AMHopServer and AMHopServerToggle then AMHopServerToggle.SetStage(false) end
                        CommF:InvokeServer("TravelZou")
                        wait(5)
                        return
                    else
                        CT_DisableAutoRaid()
                        CT_EnableFarm()
                    end
                end
                return
            end
            if not table.find(SelectedIgnoreAction, "Get Cursed Dual Katana")
            and not IsHaveItem("Cursed Dual Katana") then
                if game.PlaceId ~= 7449423635 then
                    if Settings.AMHopServer and AMHopServerToggle then AMHopServerToggle.SetStage(false) end
                    CommF:InvokeServer("TravelZou")
                    wait(5)
                    return
                else
                    if not IsHaveItem("Yama") then
                        if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
                            if not Settings.EPFHopServer and EPFHopServerToggle then EPFHopServerToggle.SetStage(true) end
                        else
                            if Settings.EPFHopServer and EPFHopServerToggle then EPFHopServerToggle.SetStage(false) end
                            CT_EnableFarm()
                        end
                    else
                        if Settings.EPFHopServer and EPFHopServerToggle then EPFHopServerToggle.SetStage(false) end
                        if plrLevel >= 2200 and IsHaveItem("Tushita") then
                            if not Settings.AutoDualKatana and AutoDualKatanaToggle then AutoDualKatanaToggle.SetStage(true) end
                            if not NotiHopSv and Settings.AFSHopServer then
                                getgenv().NotiHopSv = true
                                Library.CreateNoti({Desc = 'Will Hop Server for Raid Pirate / Soul Reaper\n(Auto Cursed Dual Katana)', ShowTime = 20})
                            end
                        else
                            CT_EnableFarm()
                        end
                    end
                end
                return
            end
            if not table.find(SelectedIgnoreAction, "Get Soul Guitar")
            and not IsHaveItem("Soul Guitar") then
                if not Settings.AutoSoulGuitar and AutoSoulGuitarToggle then AutoSoulGuitarToggle.SetStage(true) end
                return
            end
            if not table.find(SelectedIgnoreAction, "Awake Current Blox Fruit") then
                if plr.Data.DevilFruit.Value == "Dough-Dough" and CommF:InvokeServer("CakeScientist", "Check") and not DisableFarmForDoughKing then
                    if Settings.ElitePirateFarm and ElitePirateFarmToggle then ElitePirateFarmToggle.SetStage(false) end
                    if Settings.CakePrinceFarm and CakePrinceFarmToggle then CakePrinceFarmToggle.SetStage(false) end
                    if Settings.SpawnDoughKing and SpawnDoughKingToggle then SpawnDoughKingToggle.SetStage(false) end
                    if Settings.EPFHopServer and EPFHopServerToggle then EPFHopServerToggle.SetStage(false) end
                    getgenv().DisableFarmForDoughKing = true
                    getgenv().TemporaryDisableHopIfPlrNearby = false
                    return
                end
                if CheckFruitAwakeable() then
                    if not CheckFruitFullAwake() then
                        if plr.Data.Fragments.Value >= 8000 and not Settings.AutoAwake and AutoAwakeToggle then
                            AutoAwakeToggle.SetStage(true)
                        elseif Settings.AutoAwake and AutoAwakeToggle then
                            AutoAwakeToggle.SetStage(false)
                        end
                        Settings.RaidMap = GetRaidMapBF(GetM1WP("Blox Fruit"))
                        if not Settings.AutoRaid and AutoRaidToggle then AutoRaidToggle.SetStage(true) end
                    end
                    if not Settings.AutoRaidAU and AutoRaidAUToggle then AutoRaidAUToggle.SetStage(true) end
                    if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
                        if not NotiHopSv then
                            getgenv().NotiHopSv = true
                            Library.CreateNoti({Desc = 'Will Hop Server for Blox Fruit to go Raid\n(Auto Awake Current Blox Fruit)', ShowTime = 20})
                        end
                        if not Settings.BTDFHopServer and BTDFHopServerToggle then BTDFHopServerToggle.SetStage(true) end
                    else
                        if Settings.BTDFHopServer and BTDFHopServerToggle then BTDFHopServerToggle.SetStage(false) end
                        CT_EnableFarm()
                    end
                    return
                elseif plr.Data.DevilFruit.Value == "Dough-Dough" then
                    if CommF:InvokeServer("CakeScientist", "Check") then
                        if Settings.EPFHopServer and EPFHopServerToggle then EPFHopServerToggle.SetStage(false) end
                        CT_EnableFarm()
                        getgenv().TemporaryDisableFarmBossDrop = true
                    else
                        getgenv().TemporaryDisableHopIfPlrNearby = true
                        if not Settings.ElitePirateFarm and ElitePirateFarmToggle then ElitePirateFarmToggle.SetStage(true) end
                        if not Settings.CakePrinceFarm and CakePrinceFarmToggle then CakePrinceFarmToggle.SetStage(true) end
                        if not Settings.SpawnDoughKing and SpawnDoughKingToggle then SpawnDoughKingToggle.SetStage(true) end
                        if not table.find(SelectedIgnoreHop, "[Main] Server Hop") then
                            if not NotiHopSv then
                                getgenv().NotiHopSv = true
                                Library.CreateNoti({Desc = 'Will Hop Server for Elite Pirate to awake Dough-Dough\n(Auto Awake Current Blox Fruit)', ShowTime = 20})
                            end
                            if not Settings.EPFHopServer and EPFHopServerToggle then EPFHopServerToggle.SetStage(true) end
                        else
                            if Settings.EPFHopServer and EPFHopServerToggle then EPFHopServerToggle.SetStage(false) end
                            CT_EnableFarm()
                        end
                        return
                    end
                end
                if TemporaryDisableFarmBossDrop and CheckFruitFullAwake() then
                    getgenv().TemporaryDisableFarmBossDrop = false
                end
            end
            if table.find(SelectedIgnoreHop, "[Main] Server Hop") and Settings.BTDFHopServer and BTDFHopServerToggle then BTDFHopServerToggle.SetStage(false) end
            getgenv().CT_DoneGetStuffs = true
        end
        if AFSWeapon or ASWeapon or Settings.SelectMasteryWP then
            CT_DisableAutoRaid()
            CT_EnableFarm()
        end
        if CT_DoneGetStuffs
        and not ASWeapon then
            if Settings.CT_FarmBossDrop and not GotBelowSeaItems and not TemporaryDisableFarmBossDrop then
                if FarmBossDrop then
                    if not NotiHopSv then
                        getgenv().NotiHopSv = true
                        Library.CreateNoti({Desc = 'Will Hop Server for Bosses\n(Farm boss drops if maxed)', ShowTime = 20})
                    end
                    if FarmBossDrop == "Sea 1" then
                        if game.PlaceId ~= 2753915549 then
                            CommF:InvokeServer("TravelMain")
                            wait(5)
                        else
                            CT_DisableFarm()
                            if not Settings.BFHopServer and BFHopServerToggle then BFHopServerToggle.SetStage(true) end
                        end 
                    elseif FarmBossDrop == "Sea 2" then
                        if game.PlaceId ~= 4442272183 then
                            CommF:InvokeServer("TravelDressrosa")
                            wait(5)
                        else
                            CT_DisableFarm()
                            if not Settings.BFHopServer and BFHopServerToggle then BFHopServerToggle.SetStage(true) end
                        end 
                    end
                else
                    for i, v in pairs(BossDrops[2753915549]) do
                        if not table.find(RaidBoss, v) then
                            if not IsHaveItem(i) then
                                getgenv().FarmBossDrop = "Sea 1"
                            end
                        end
                    end
                    if not FarmBossDrop then
                        for i, v in pairs(BossDrops[4442272183]) do
                            if not table.find(RaidBoss, v) then
                                if not IsHaveItem(i) then
                                    getgenv().FarmBossDrop = "Sea 2"
                                end
                            end
                        end
                        if not FarmBossDrop then
                            if game.PlaceId ~= 7449423635 then
                                CommF:InvokeServer("TravelZou")
                            end
                            if Settings.BFHopServer and BFHopServerToggle then BFHopServerToggle.SetStage(false) end
                            getgenv().GotBelowSeaItems = true
                        end
                    end
                end
            else
                if game.PlaceId ~= 7449423635 then
                    CommF:InvokeServer("TravelZou")
                    wait(5)
                    return
                end
                if DoneFightingStyle then
                    if not Settings.CT_FarmBFMastery or DoneBloxFruit or plr.Data.DevilFruit.Value == "" then
                        local x = "until unlocked all skills"
                        if not Settings.CT_FarmUntilUnlock or DoneFarmUntilUnlock then
                            Settings.RequireMastery = 600
                            x = "until 600 Mastery"
                        end
                        AutoFSSLabel.SetText(LabelTextAFS .. "Farming all Legendary / Mythic rarity swords " .. x .. " (extra time)")
                        wait(1)
                        if not Settings.AutoSwitchSword and AutoSwitchSwordToggle then
                            AutoSwitchSwordToggle.SetStage(true)
                            if not table.find(SelectedIgnoreRarity2, 0) then
                                table.insert(getgenv().SelectedIgnoreRarity2, 0)
                            end
                            if not table.find(SelectedIgnoreRarity2, 1) then
                                table.insert(getgenv().SelectedIgnoreRarity2, 1)
                            end
                            if not table.find(SelectedIgnoreRarity2, 2) then
                                table.insert(getgenv().SelectedIgnoreRarity2, 2)
                            end
                        end
                    else
                        local v = GetM1WP("Blox Fruit")
                        if not v then getgenv().DoneBloxFruit = true end
                        if not Settings.SelectMasteryWP then Settings.SelectMasteryWP = v end
                        if not table.find(SelectedAutoSkill, "Z") then table.insert(getgenv().SelectedAutoSkill, "Z") end
                        if not table.find(SelectedAutoSkill, "X") then table.insert(getgenv().SelectedAutoSkill, "X") end
                        if not table.find(SelectedAutoSkill, "C") then table.insert(getgenv().SelectedAutoSkill, "C") end
                        if Settings.AttackNoCD and AttackNoCDToggle then AttackNoCDToggle.SetStage(false) getgenv().TemporaryDisableAttackNoCD = true end
                        local v = CheckPlrBackpack(v)
                        local HighestMas = 600
                        if not DoneFarmUntilUnlock and Settings.CT_FarmUntilUnlock then
                            HighestMas = 0
                            for i, v in pairs(require(v.Data).Lvl) do
                                if v > HighestMas then
                                    HighestMas = v
                                end
                            end
                        end
                        if v.Level.Value < HighestMas then
                            AutoFSSLabel.SetText(LabelTextAFS .. "Farming " .. v.Name .. " to hit " .. HighestMas .. " Mastery (extra time)")
                        else
                            getgenv().TemporaryDisableAttackNoCD = false
                            getgenv().DoneBloxFruit = true
                        end
                        if not Settings.MasteryFarm and MasteryFarmToggle then MasteryFarmToggle.SetStage(true) end
                    end
                else
                    local v = GetCurrentEquippedM1()
                    if v.Name == "Godhuman" then
                        if v.Level.Value < ExtraTimeMasteryFarm["Godhuman"] then
                            AutoFSSLabel.SetText(LabelTextAFS .. "Farming " .. v.Name .. " to hit " .. ExtraTimeMasteryFarm["Godhuman"] .. " Mastery (extra time)")
                            getgenv().AFSWeapon = v.Name
                        else
                            BuyFightingStyle("BuyDragonTalon")
                        end
                        CusDelay = 0
                    elseif v.Name == "Dragon Talon" then
                        if v.Level.Value < ExtraTimeMasteryFarm["Dragon Talon"] then
                            AutoFSSLabel.SetText(LabelTextAFS .. "Farming " .. v.Name .. " to hit " .. ExtraTimeMasteryFarm["Dragon Talon"] .. " Mastery (extra time)")
                            getgenv().AFSWeapon = v.Name
                        else
                            BuyFightingStyle("BuySharkmanKarate")
                        end
                        CusDelay = 0
                    elseif v.Name == "Sharkman Karate" then
                        if v.Level.Value < ExtraTimeMasteryFarm["Sharkman Karate"] then
                            AutoFSSLabel.SetText(LabelTextAFS .. "Farming " .. v.Name .. " to hit " .. ExtraTimeMasteryFarm["Sharkman Karate"] .. " Mastery (extra time)")
                            getgenv().AFSWeapon = v.Name
                        else
                            BuyFightingStyle("BuyElectricClaw")
                        end
                        CusDelay = 0
                    elseif v.Name == "Electric Claw" then
                        if v.Level.Value < ExtraTimeMasteryFarm["Electric Claw"] then
                            AutoFSSLabel.SetText(LabelTextAFS .. "Farming " .. v.Name .. " to hit " .. ExtraTimeMasteryFarm["Electric Claw"] .. " Mastery (extra time)")
                            getgenv().AFSWeapon = v.Name
                        else
                            BuyFightingStyle("BuyDeathStep")
                        end
                        CusDelay = 0
                    elseif v.Name == "Death Step" then
                        if v.Level.Value < ExtraTimeMasteryFarm["Death Step"] then
                            AutoFSSLabel.SetText(LabelTextAFS .. "Farming " .. v.Name .. " to hit " .. ExtraTimeMasteryFarm["Death Step"] .. " Mastery (extra time)")
                            getgenv().AFSWeapon = v.Name
                        else
                            BuyFightingStyle("BuySuperhuman")
                        end
                        CusDelay = 0
                    elseif v.Name == "Superhuman" then
                        if v.Level.Value < ExtraTimeMasteryFarm["Superhuman"] then
                            AutoFSSLabel.SetText(LabelTextAFS .. "Farming " .. v.Name .. " to hit " .. ExtraTimeMasteryFarm["Superhuman"] .. " Mastery (extra time)")
                            getgenv().AFSWeapon = v.Name
                        else
                            if not CheckGodhuman then
                                getgenv().CheckGodhuman = true
                                if CommF:InvokeServer("BuyGodhuman", true) == 1 then
                                    BuyFightingStyle("BuyGodhuman")
                                else
                                    BuyFightingStyle("BuyDragonTalon")
                                end
                            else
                                getgenv().DoneFightingStyle = true
                            end
                        end
                        CusDelay = 0
                    end
                end
            end
        end
        wait(CusDelay)
    end
    spawn(function()
        wait(1)
        while wait() do
            pcall(function()
                if Settings.Cuttay then
                    Cuttay()
                end
            end)
        end
    end)
    if not CuttayAccountFarm then getgenv().CuttayAccountFarm = {} end
    Section91.CreateToggle({Title = "Cuttay Account Farm ", Desc = "Aka: 1 Click Auto Farm, Kaiton\n* Please only enable on acc haven't got Godhuman\n* Also if you using this, please do not enable anything else while this enable, make sure everything is disabled before enabling this\n* Check out #cuttay-info channel on Discord for more informations", Default = Settings.Cuttay or CuttayAccountFarm["Enable"]}, function(v)
        if v and not Settings.Cuttay then
            for i, v in pairs(Codes) do
                game.ReplicatedStorage.Remotes.Redeem:InvokeServer(v)
            end
        elseif not v and Settings.Cuttay then
            wait(1)
            CT_DisableAutoRaid()
            CT_DisableFarm()
            AFSHopServerToggle.SetStage(false)
        end
        Settings.Cuttay = v
    end)
    Section91.CreateToggle({Title = "Raid if Maxed Blox Fruit", Desc = "Will go Raid if maxed stored Blox Fruit amount\n(work same as Drop if Maxed but go Raid instead)", Default = Settings.CT_RaidIfMaxed or CuttayAccountFarm["Raid if Maxed Blox Fruit"]}, function(v)
        Settings.CT_RaidIfMaxed = v
    end)
    Section91.CreateToggle({Title = "Farm boss drops while not maxed", Desc = "While farming for stuff / level if boss spawned and you dont have their drop it will go kill them", Default = Settings.CT_FarmBossDrop2 or CuttayAccountFarm["Farm boss drops while not maxed"]}, function(v)
        Settings.CT_FarmBossDrop2 = v
    end)
    Section91.CreateToggle({Title = "Farm Blox Fruit Mastery if maxed", Desc = "Will farm Blox Fruit's mastery (if got) when maxed\nExtra Time farm prioritize: Fighting Style -> Blox Fruit -> Swords (Mythic / Legendary)\n* Please only enable on accounts that have 0 Sword stat or an brand new one or just refund stat", Default = Settings.CT_FarmBFMastery or CuttayAccountFarm["Farm Blox Fruit Mastery if maxed"]}, function(v)
        Settings.CT_FarmBFMastery = v
    end)
    Section91.CreateDropdown({Title = "Select Farm method after maxed", List = {
        "Mob Farm - Level Path",
        "Raid Boss Farm - Cake Prince Farm",
        "Mob Aura - Haunted Castle",
        "Mob Aura - Sea of Treats 4"
    }, Default = Settings.CT_FarmMethod or CuttayAccountFarm["Farm method after maxed"]}, function(v) 
        Settings.CT_FarmMethod = v
    end)
    getgenv().O_ExtraTimeMasteryFarm = {
        ["Godhuman"] = 350,
        ["Dragon Talon"] = 350,
        ["Sharkman Karate"] = 300,
        ["Electric Claw"] = 330,
        ["Death Step"] = 400,
        ["Superhuman"] = 330
    }
    getgenv().ExtraTimeMasteryFarm = {}
    Section91.CreateToggle({Title = "Extra time Farm until unlock skills", Desc = 'After maxed and do "Farm method after maxed" it will farm Fighting Styles / Weapons until unlocked all it skill and switch to another (instead of farming until 600 Mastery then switch)', Default = Settings.CT_FarmUntilUnlock or CuttayAccountFarm["Extra time Farm until unlock skills"]}, function(v)
        Settings.CT_FarmUntilUnlock = v
        if v then
            for i, v in pairs(O_ExtraTimeMasteryFarm) do
                getgenv().ExtraTimeMasteryFarm[i] = v
            end
        else
            for i, v in pairs(O_ExtraTimeMasteryFarm) do
                getgenv().ExtraTimeMasteryFarm[i] = 600
            end
        end
    end)
    local HopList = {
        "[Main] Server Hop",
        "[Farm] Server Hop if Player nearby",
        "[Sea 3 Quest] Server Hop for 1M+ Blox Fruit",
    }
    getgenv().SelectedIgnoreHop = {}
    if not Settings.CT_IgnoreHop then
        Settings.CT_IgnoreHop = {}
        for i, v in pairs(HopList) do
            Settings.CT_IgnoreHop[v] = false
        end
        if CuttayAccountFarm["Ignore Hop Server Type"] then
            for i, v in pairs(CuttayAccountFarm["Ignore Hop Server Type"]) do
                if v then
                    Settings.CT_IgnoreHop[i] = true
                    table.insert(getgenv().SelectedIgnoreHop, i)
                end    
            end
        end
    else
        local HopLCheck = {}
        for i, v in pairs(Settings.CT_IgnoreHop) do
            if v then
                table.insert(getgenv().SelectedIgnoreHop, i)
            end
            table.insert(HopLCheck, i)
        end
        for i, v in pairs(HopList) do
            if not table.find(HopLCheck, v) then
                Settings.CT_IgnoreHop[v] = false
            end
        end
    end
    Section91.CreateDropdown({Title = "Select Ignore Hop Server Type", List = Settings.CT_IgnoreHop, Selected = true}, function(i, v) 
        if i then
            Settings.CT_IgnoreHop[i] = v
            if v then
                table.insert(getgenv().SelectedIgnoreHop, i)
            elseif table.find(SelectedIgnoreHop, i) then
                table.remove(getgenv().SelectedIgnoreHop, table.find(SelectedIgnoreHop, i))
            end
        end
    end)
    if CuttayAccountFarm["Hop Server Delay"] then
        if CuttayAccountFarm["Hop Server Delay"] > 30 then
            CuttayAccountFarm["Hop Server Delay"] = 30
        elseif CuttayAccountFarm["Hop Server Delay"] < 0 then
            CuttayAccountFarm["Hop Server Delay"] = 1
        end
    end
    Section91.CreateSlider({Title = 'Hop Server Delay (minute)', Min = 0, Max = 30, Default = Settings.CT_HopServerDelay or CuttayAccountFarm["Hop Server Delay"]}, function(v)
        Settings.CT_HopServerDelay = v
    end)
    Section91.CreateLabel({Title = "For Hop Server Type, prevent 268 issue happening"})
    local ActionList = {
        "Get Godhuman",
        "Get Rengoku",
        "Get True Triple Katana",
        "Get Cursed Dual Katana",
        "Get Soul Guitar",
        "Get Hallow Scythe",
        "Awake Current Blox Fruit",
    }
    getgenv().SelectedIgnoreAction = {}
    if not Settings.CT_IgnoreAction then
        Settings.CT_IgnoreAction = {}
        for i, v in pairs(ActionList) do
            Settings.CT_IgnoreAction[v] = false
        end
        if CuttayAccountFarm["Ignore Action"] then
            for i, v in pairs(CuttayAccountFarm["Ignore Action"]) do
                if v then
                    Settings.CT_IgnoreAction[i] = true
                    table.insert(getgenv().SelectedIgnoreAction, i)
                end    
            end
        end
    else
        local ActionLCheck = {}
        for i, v in pairs(Settings.CT_IgnoreAction) do
            if v then
                table.insert(getgenv().SelectedIgnoreAction, i)
            end
            table.insert(ActionLCheck, i)
        end
        for i, v in pairs(ActionList) do
            if not table.find(ActionLCheck, v) then
                Settings.CT_IgnoreAction[v] = false
            end
        end
    end
    Section91.CreateDropdown({Title = "Select Ignore Cuttay Action", List = Settings.CT_IgnoreAction, Selected = true}, function(i, v) 
        if i then
            Settings.CT_IgnoreAction[i] = v
            if v then
                table.insert(getgenv().SelectedIgnoreAction, i)
            elseif table.find(SelectedIgnoreAction, i) then
                table.remove(getgenv().SelectedIgnoreAction, table.find(SelectedIgnoreAction, i))
            end
        end
    end)
    local BuyHakiList = {
        "Buy Enhancement",
        "Buy Skyjump",
        "Buy Flash Step",
        "Buy Observation",
    }
    getgenv().SelectedBuyHaki = {}
    if not Settings.CT_BuyHaki then
        Settings.CT_BuyHaki = {}
        for i, v in pairs(BuyHakiList) do
            Settings.CT_BuyHaki[v] = false
        end
        if CuttayAccountFarm["Buy Haki"] then
            for i, v in pairs(CuttayAccountFarm["Buy Haki"]) do
                if v then
                    Settings.CT_BuyHaki[i] = true
                    table.insert(getgenv().SelectedBuyHaki, i)
                end    
            end
        end
    else
        local ActionLCheck = {}
        for i, v in pairs(Settings.CT_BuyHaki) do
            if v then
                table.insert(getgenv().SelectedBuyHaki, i)
            end
            table.insert(ActionLCheck, i)
        end
        for i, v in pairs(BuyHakiList) do
            if not table.find(ActionLCheck, v) then
                Settings.CT_BuyHaki[v] = false
            end
        end
    end
    Section91.CreateDropdown({Title = "Select Buy Haki", List = Settings.CT_BuyHaki, Selected = true}, function(i, v) 
        if i then
            Settings.CT_BuyHaki[i] = v
            if v then
                table.insert(getgenv().SelectedBuyHaki, i)
            elseif table.find(SelectedBuyHaki, i) then
                table.remove(getgenv().SelectedBuyHaki, table.find(SelectedBuyHaki, i))
            end
        end
    end)
    local Worlds = {
        [2753915549] = "Sea 1",
        [4442272183] = "Sea 2",
        [7449423635] = "Sea 3",
    }
    local SeaHubGUI = "Page8"
    if game.PlaceId == 2753915549 then
        SeaHubGUI = "Page7"
    end
    local FightingStyleRemotes = {
        "BuySuperhuman",
        "BuyDeathStep",
        "BuySharkmanKarate",
        "BuyElectricClaw",
        "BuyDragonTalon",
        "BuyGodhuman"
    }
    local RarityList = {
        ["Mythical"] = 4,
        ["Legendary"] = 3,
        ["Rare"] = 2,
        ["Uncommon"] = 1,
        ["Common"] = 0
    }
    
    function formatNumber(v)
        return tostring(v):reverse():gsub("%d%d%d", "%1,"):reverse():gsub("^,", "")
    end
    function GetData(v)
        return formatNumber(plr.Data[v].Value)
    end
    function GetScriptStatus()
        local ScriptStatus = {}
        for i, v in ipairs(game.CoreGui["Sea Hub GUI"].Main.MainContainer.Concacontainer.Concacmain.MainPage[SeaHubGUI].PageList["Script Status_Dot"]:GetChildren()) do
            if v.Name == "LabelFrame" then
                local a = "Auto Farm"
                local b = "Auto Fighting Style / Sword"
                local m = v.LabelBG.TextColor.Text
                local x = m:gsub(a, "")
                x = x:split("\]")[2]
                x = x:gsub("\n", "")
                if string.find(m, a) then
                    x = x:gsub(a .. ": ", "")
                    ScriptStatus[a] = x
                else
                    x = x:gsub(b .. ": ", "")
                    ScriptStatus[b] = x
                end
            end
        end
        return ScriptStatus
    end
    function SplitStringByCapitalLetters(v)
        return string.sub(string.gsub(v, "(%u)", " %1"), 2, -1)
    end
    function GetOwnFS()
        local FightingStyle = {}
        for i, v in pairs(FightingStyleRemotes) do
            if CommF:InvokeServer(v, true) == 1 then
                table.insert(FightingStyle, SplitStringByCapitalLetters(v:gsub("Buy", "")))
            end
        end
        return FightingStyle
    end
    
    function AP_Request()
        local OwnedFS = GetOwnFS()
        local I_Sword = {}
        local I_BloxFruit = {}
        local I_Material = {}
        for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
            for k, x in pairs(RarityList) do
                if v.details.Rarity == x then
                    if not I_Sword[k] then I_Sword[k] = {} end
                    if not I_BloxFruit[k] then I_BloxFruit[k] = {} end
                    if not I_Material[k] then I_Material[k] = {} end
                    if v.details.Type == "Sword" then
                        table.insert(I_Sword[k], v.details.Name)
                    elseif v.details.Type == "Blox Fruit" then
                        table.insert(I_BloxFruit[k], v.details.Name)
                    elseif v.details.Type == "Material" then
                        table.insert(I_Material[k], v.details.Name)
                    end
                end
            end
        end
        if IsHaveItem("Soul Guitar") then
            k = "Mythical"
            if not I_Sword[k] then I_Sword[k] = {} end
            table.insert(I_Sword[k], "Soul Guitar")
        end
        for k, x in pairs(RarityList) do
            if not I_Sword[k] then I_Sword[k] = {} end
            if not I_BloxFruit[k] then I_BloxFruit[k] = {} end
            if not I_Material[k] then I_Material[k] = {} end
        end
        function GetBloxFruitChild(x)
            for i, v in ipairs(x:GetChildren()) do
                if v:IsA("Tool") and string.find(v.Name, "-") then
                    return v
                end
            end
        end
        local BloxFruitChild = GetBloxFruitChild(plr.Backpack) or GetBloxFruitChild(plr.Character)
        function GetAwakenedMove(x)
            if not x then return end
            local m = x:FindFirstChild("AwakenedMoves")
            if not m then
                return
            end
            local AwakenedMove = {}
            for i, v in ipairs(m:GetChildren()) do
                AwakenedMove[v.Name] = true
            end
            return AwakenedMove
        end
        local BF_AM = GetAwakenedMove(BloxFruitChild)
        if not BF_AM then BF_AM = {} end

        local Body = game:GetService("HttpService"):JSONEncode({
            Name = plr.Name,
            [plr.Name] = {
                Name = plr.Name,
                Level = GetData("Level"),
                Fragments = GetData("Fragments"),
                Beli = GetData("Beli"),
                Race = GetData("Race"),
                DevilFruit = GetData("DevilFruit"),
                World = Worlds[game.PlaceId],
                ScriptStatus = GetScriptStatus(),
                Status = 'Online',
                Inventory = {
                    FightingStyle = OwnedFS,
                    Mythical = {
                        Sword = I_Sword["Mythical"],
                        BloxFruit = I_BloxFruit["Mythical"],
                        Material = I_Material["Mythical"]
                    },
                    Legendary = {
                        Sword = I_Sword["Legendary"],
                        BloxFruit = I_BloxFruit["Legendary"],
                        Material = I_Material["Legendary"]
                    },
                    Rare = {
                        Sword = I_Sword["Rare"],
                        BloxFruit = I_BloxFruit["Rare"],
                        Material = I_Material["Rare"]
                    },
                    Uncommon = {
                        Sword = I_Sword["Uncommon"],
                        BloxFruit = I_BloxFruit["Uncommon"],
                        Material = I_Material["Uncommon"]
                    },
                    Common = {
                        Sword = I_Sword["Common"],
                        BloxFruit = I_BloxFruit["Common"],
                        Material = I_Material["Common"]
                    },
                },
                AwakenedMove = {
                    Z = BF_AM["Z"],
                    X = BF_AM["X"],
                    C = BF_AM["C"],
                    V = BF_AM["V"],
                    F = BF_AM["F"],
                    TAP = BF_AM["TAP"],
                },
            },
        })

        http_request({
            Url = 'https://panel.ego-d.xyz/post/' .. getgenv().Key,
            Method = 'POST',
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = Body
        })
    end
    spawn(function()
        wait(1)
        while wait() do
            pcall(function()
                if Settings.CT_AccountPanel and getgenv().Key then
                    if not AP_RequestDelay or tick() - AP_RequestDelay >= 300 then
                        getgenv().AP_RequestDelay = tick()
                        AP_Request() 
                    end
                end
            end)
            wait(5)
        end
    end)
    function GetEatFruit(x)
        if not x then return end
        local Fruits = {}
        for i, v in pairs(getupvalue(require(plr.PlayerGui.Main.UIController.Inventory).UpdateRender, 4)) do
            if v.details.Type == "Blox Fruit" then
                if table.find(x, v.details.Name) then
                    Fruits[v.details.Value] = v.details.Name
                end
            end
        end
        local Highest = 0
        local Fruit
        for i, v in pairs(Fruits) do
            if i > Highest then
                Highest = i
                Fruit = v
            end
        end
        return Fruit
    end
    function CT_EatFruit(EatFruit)
        if plr.PlayerGui.Main.Dialogue.Visible
        and plr.PlayerGui.Main.Dialogue.Title.Text == "Quest" then
            FireButton(plr.PlayerGui.Main.Dialogue.Cancel)
        end
        getgenv().DisableEquipItem, getgenv().DisableAutoStore = true, true
        CommF:InvokeServer("LoadFruit", EatFruit)
        wait(.25)
        repeat wait()
            getgenv().DisableEquipItem, getgenv().DisableAutoStore = true, true
            EquipItem(FFToFruitName(EatFruit), true)
            wait(.1)
            game:GetService("VirtualUser"):Button1Down(Vector2.new(50, 50))
            wait(.25)
        until plr.PlayerGui.Main.Dialogue.Visible and plr.PlayerGui.Main.Dialogue.Option1.TextLabel.Text == "Eat"
        or not Settings.CT_EatSniperBF
        if Settings.CT_EatSniperBF then
            wait(1)
            FireButton(plr.PlayerGui.Main.Dialogue.Option1)
            wait(3)
            game:GetService("VirtualUser"):Button1Down(Vector2.new(50, 50))
        end
        getgenv().DisableEquipItem, getgenv().DisableAutoStore = false, false
    end
    spawn(function()
        while wait(2) do
            if Settings.CT_EatSniperBF
            and CuttayAccountFarm and CuttayAccountFarm["Blox Fruit Sniper"] and #CuttayAccountFarm["Blox Fruit Sniper"] ~= 0
            and plr.Data.DevilFruit.Value == "" then
                local EatFruit = GetEatFruit(CuttayAccountFarm["Blox Fruit Sniper"])
                if EatFruit then
                    CT_EatFruit(EatFruit)
                end
            end
        end
    end)
    spawn(function()
        while wait(2) do
            if CuttayAccountFarm and CuttayAccountFarm["Main Blox Fruit"] and #CuttayAccountFarm["Main Blox Fruit"] ~= 0 and not table.find(CuttayAccountFarm["Main Blox Fruit"], plr.Data.DevilFruit.Value) then
                local FruitPrio = CommF:InvokeServer("GetFruits")
                table.sort(FruitPrio, function(a, b)
                    return a.Price > b.Price
                end)
                for i, v in pairs(FruitPrio) do
                    if v.OnSale
                    and table.find(CuttayAccountFarm["Main Blox Fruit"], v.Name)
                    and not table.find(CuttayAccountFarm["Main Blox Fruit"], plr.Data.DevilFruit.Value) then
                        CommF:InvokeServer("GetFruits")
                        CommF:InvokeServer("PurchaseRawFruit", v.Name)
                        wait(2)
                    end
                end
                local EatFruit = GetEatFruit(CuttayAccountFarm["Main Blox Fruit"])
                if EatFruit and not table.find(CuttayAccountFarm["Main Blox Fruit"], plr.Data.DevilFruit.Value) then
                    CT_EatFruit(EatFruit)
                end
            end
        end
    end)
    Section91.CreateToggle({Title = "Eat Sniper Blox Fruits", Desc = "Will eat Blox Fruit Sniper/Main Blox Fruit in the list if you got one of them in Inventory, will eat the most expensive one, only eat if you're Fruitless\nCheck #script-config to configure Blox Fruit Sniper list", Default = Settings.CT_EatSniperBF or CuttayAccountFarm["Eat Sniper Blox Fruits"]}, function(v)
        Settings.CT_EatSniperBF = v
    end)
    Section91.CreateToggle({Title = "Account Panel", Desc = "Will add current account to Account Panel list, limit: 50 accounts, data will be update every 5 minutes\nAccount Panel Website: panel.ego-d.xyz", Default = Settings.CT_AccountPanel or CuttayAccountFarm["Account Panel"]}, function(v)
        Settings.CT_AccountPanel = v
    end)
    Section91.CreateLabel({Title = "* Extra info:\n- You don't need todo anything, just enable the feature and other optinal options and you're good to go\n(just afk with Acc Manager Auto Relaunch)\n- Make sure to delete Sea Hub folder in Synapse workspace folder (leave Roblox first) everytime you enable or disable Cuttay Account Farm"})
else
    Settings.Cuttay = nil
    Settings.CT_RaidIfMaxed = nil
    Settings.CT_FarmBossDrop = nil
    Settings.CT_FarmMethod = nil
    Settings.CT_IgnoreAction = nil
end

SettingPage = Title.CreatePage({Page_Name = 'Setting', Page_Title = 'Setting Tab'})
MFSSection = SettingPage.CreateSection('Mastery Farm Skill')
SkillList = {
    "Z",
    "X",
    "C",
    "V",
    "F"
}
getgenv().SelectedAutoSkill = {}
if not Settings.AutoSkill then
    Settings.AutoSkill = {}
    for i, v in pairs(SkillList) do
        Settings.AutoSkill[v] = false
    end
else
    local SkillLCheck = {}
    for i, v in pairs(Settings.AutoSkill) do
        if v then
            table.insert(getgenv().SelectedAutoSkill, i)
        end
        table.insert(SkillLCheck, i)
    end
    for i, v in pairs(SkillList) do
        if not table.find(SkillLCheck, v) then
            Settings.AutoSkill[v] = false
        end
    end
end
MFSSection.CreateDropdown({Title = 'Auto Skill', List = Settings.AutoSkill, Selected = true}, function(i, v)
    if i then
        Settings.AutoSkill[i] = v
        if v then
            table.insert(getgenv().SelectedAutoSkill, i)
        elseif table.find(SelectedAutoSkill, i) then
            table.remove(getgenv().SelectedAutoSkill, table.find(SelectedAutoSkill, i))
        end
    end
end)
if not Settings.HoldSkillTime then
    Settings.HoldSkillTime = {}
end
for _, x in pairs(SkillList) do
    MFSSection.CreateSlider({Title = "Hold " .. x .. " Time", Min = 0, Max = 5, Default = Settings.HoldSkillTime[x], Precise = true}, function(v)
        Settings.HoldSkillTime[x] = v
    end)
end

SettingSection = SettingPage.CreateSection('Script Settings')
SettingSection.CreateDropdown({Title = "Select Auto Choose Side", List = {"Pirates", "Marines"}, Default = Settings.ChooseSide}, function(v) 
    Settings.ChooseSide = v
end)
ServerRegions = {
    "Random",
    "United States",
    "United Kingdom",
    "France",
    "Germany",
    "Poland",
    "Singapore",
    "Hong Kong",
    "Japan",
    "India",
}
SettingSection.CreateDropdown({Title = "Hop Server Region", List = ServerRegions, Default = Settings.HopServerRegion or "Random"}, function(v) 
    Settings.HopServerRegion = v
end)
AutoFixStandingStillToggle = SettingSection.CreateToggle({Title = "Auto Hop Server if Standing Still", Desc = "Auto Hop Server if sometime Script's Auto Farm got bugged and standing still doing nothing in 60 seconds", Default = Settings.AutoFixStandingStill}, function(v)
    Settings.AutoFixStandingStill = v
end)
PanicSection = SettingPage.CreateSection('Auto Panic')
PanicSection.CreateSlider({Title = 'Panic Health', Min = 10, Max = 60, Default = Settings.PanicHealth or 30}, function(v)
    Settings.PanicHealth = v
end)
SettingSection2 = SettingPage.CreateSection('Attack No Cooldown Setting')
SettingSection2.CreateSlider({Title = 'Attack Duration', Min = 1, Max = 10, Default = Settings.AttackDuration or 3}, function(v)
    Settings.AttackDuration = v
end)
SettingSection2.CreateSlider({Title = 'Attack Cooldown', Min = 1, Max = 30, Default = Settings.AttackCooldown or 20}, function(v)
    Settings.AttackCooldown = v
end)
AttackAutoScaleToggle = SettingSection2.CreateToggle({Title = "Auto Scale Cooldown", Desc = "Will Auto Scale the cooldown\n(may sometime still get you kicked)", Default = Settings.AttackAutoScale}, function(v)
    Settings.AttackAutoScale = v
end)
spawn(function()
    while wait() do
        pcall(function()
            if Settings.AutoPanic or Settings.BountyFarm then
                local x = Settings.PanicHealth
                if Settings.BountyFarm then
                    x = 35
                end
                if (plr.Character.Humanoid.Health / plr.Character.Humanoid.MaxHealth) * 100 <= x then
                    local x = plr.Character:FindFirstChild("Chop Glitch Fix")
                    if x then
                        x:Destroy()
                    end
                    getgenv().Panicing = true
                    getgenv().LastYLevel = plr.Character.HumanoidRootPart.Position.Y
                    ForceStopTween()
                    repeat wait()
                        local plrPos = plr.Character.HumanoidRootPart.Position
                        if plrPos.Y < 9000 then
                            ForceStopTween()
                            getgenv().Noclip = true
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 10000, plrPos.Z)
                            wait()
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 20000, plrPos.Z)
                            wait()
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 30000, plrPos.Z)
                            wait()
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 40000, plrPos.Z)
                            wait()
                            plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, 50000, plrPos.Z)
                        end
                    until plr.Character.Humanoid.Health == plr.Character.Humanoid.MaxHealth
                    or not Settings.AutoPanic
                    local plrPos = plr.Character.HumanoidRootPart.Position
                    plr.Character.HumanoidRootPart.CFrame = CFrame.new(plrPos.X, LastYLevel, plrPos.Z)
                    ForceStopTween(true)
                    wait(.25)
                    getgenv().Panicing = false
                else
                    getgenv().Panicing = false
                end
            end
        end)
    end
end)
PanicSection.CreateToggle({Title = "Auto Panic", Desc = "Auto TP to Safe Zone + temporary disable all feature (stop tween) when your health below selected Panic Health and wait until you full 100% Health", Default = Settings.AutoPanic}, function(v)
    Settings.AutoPanic = v
end)
SettingSection3 = SettingPage.CreateSection('Tween Settings')
SettingSection3.CreateSlider({Title = 'Tween Speed', Min = 100, Max = 350, Default = Settings.TweenSpeed or 150}, function(v)
    Settings.TweenSpeed = v
end)
SettingSection3.CreateLabel({Title = "Max Tween Speed is 300 without enabling Ignore Y Tween or you will get TP back"})
IgnoreYTweenToggle = SettingSection3.CreateToggle({Title = "Ignore Y Tween", Desc = "Traveling (Tween) to other place faster\n- Safer on public server (if Deafult Y is high)\n- Bring Mob will be glitchy (if Deafult Y out of render)\n* Recommended enable\n* Set Default Y Level 200 if Private / 10k if Public", Default = Settings.IgnoreYTween}, function(v)
    Settings.IgnoreYTween = v
end)
SettingSection3.CreateSlider({Title = 'Default Y Level', Min = 100, Max = 10000, Default = Settings.DefaultYLevel or 10000}, function(v)
    Settings.DefaultYLevel = v
end)
SettingSection4 = SettingPage.CreateSection('Dodge Settings')
SettingSection4.CreateToggle({Title = "Auto Dodge", Desc = "Will sometime dodged the current attacking enemy skill, depend on the skills\n(only work with Auto Farm features)", Default = Settings.AutoDodge or true}, function(v)
    Settings.AutoDodge = v
end)
SettingSection4.CreateToggle({Title = "Hard Dodge", Desc = "Will dodge more skills but may be glitchy", Default = Settings.HardDodge}, function(v)
    Settings.HardDodge = v
end)
AutoSaveSection = SettingPage.CreateSection('Auto Save Settings')
AutoSaveToggle = AutoSaveSection.CreateToggle({Title = 'Auto Save', Default = Settings.AutoSave}, function(v)
    Settings.AutoSave = v
    spawn(function()
        while Settings.AutoSave and wait() do
            if DisableSave then return end
            SaveSettings()
            if not Hopping then
                local Timer1 = tick()
                repeat wait()
                until tick() - Timer1 >= 5
                or Hopping
            end
        end
        if not v then
            Settings.AutoSave = false
            SaveSettings()
        end
    end)
end)
GUISettingSection = SettingPage.CreateSection('GUI Settings')
TimeWaveLabel = GUISettingSection.CreateLabel({Title = "Timer | Wave (Time Left)"})
spawn(function()
    while wait(.25) do
        local TotalTime = game.workspace.DistributedGameTime
        local Sec = math.round(TotalTime % 60)
        local Min = math.floor(TotalTime / 60 % 60)
        local Hour = math.floor(TotalTime / 3600)
        if Sec == 60 then Sec = 0 Min = Min + 1 end
        if Min == 60 then Min = 0 Hour = Hour + 1 end
        local SecFormat = "" if string.len(Sec) == 1 then SecFormat = "0" end
        local MinFormat = "" if string.len(Min) == 1 then MinFormat = "0" end
        local HourFormat = "" if string.len(Hour) == 1 then HourFormat = "0" end
        getgenv().S_Timer = string.format(MinFormat .. '%.0f:' .. SecFormat .. '%.0f', Min, Sec)
        if Hour >= 1 then
            getgenv().S_Timer = string.format(HourFormat .. '%.0f:', Hour) .. getgenv().S_Timer
        end
        TimeWaveLabel.SetText("Timer: " .. getgenv().S_Timer)
    end
end)
getgenv().GuiToggled = true
GUISettingSection.CreateBind({Title = 'Toggle GUI', Key = Enum.KeyCode.RightControl}, function()
    getgenv().GuiToggled = not getgenv().GuiToggled
    if game.CoreGui:FindFirstChild("Sea Hub GUI")then for a,b in ipairs(game.CoreGui:GetChildren())do if b.Name=="Sea Hub GUI"then b.Enabled=getgenv().GuiToggled end end end
end)
if getgenv().Key == nil then
    GUISettingSection.CreateButton({Title = 'Destroy GUI'}, function()
        if game.CoreGui:FindFirstChild("Sea Hub GUI")then for a,b in ipairs(game.CoreGui:GetChildren())do if b.Name=="Sea Hub GUI"then b:Destroy()end end end
    end)
end
